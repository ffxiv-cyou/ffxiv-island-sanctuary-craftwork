var sl=Object.defineProperty;var nl=(e,t,s)=>t in e?sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var v=(e,t,s)=>(nl(e,typeof t!="symbol"?t+"":t,s),s);import{C as Ie,R as Eo,a as ol,b as ul}from"./config-986b78c7.js";function No(e,t){const s=Object.create(null),n=e.split(",");for(let o=0;o<n.length;o++)s[n[o]]=!0;return t?o=>!!s[o.toLowerCase()]:o=>!!s[o]}const pe={},ns=[],qe=()=>{},rl=()=>!1,il=/^on[^a-z]/,Nn=e=>il.test(e),Vo=e=>e.startsWith("onUpdate:"),Ae=Object.assign,Wo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ll=Object.prototype.hasOwnProperty,X=(e,t)=>ll.call(e,t),x=Array.isArray,os=e=>sn(e)==="[object Map]",Cs=e=>sn(e)==="[object Set]",Cu=e=>sn(e)==="[object Date]",Y=e=>typeof e=="function",Ee=e=>typeof e=="string",Us=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",Pr=e=>de(e)&&Y(e.then)&&Y(e.catch),kr=Object.prototype.toString,sn=e=>kr.call(e),al=e=>sn(e).slice(8,-1),Rs=e=>sn(e)==="[object Object]",Lo=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vn=No(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},cl=/-(\w)/g,at=Vn(e=>e.replace(cl,(t,s)=>s?s.toUpperCase():"")),dl=/\B([A-Z])/g,ys=Vn(e=>e.replace(dl,"-$1").toLowerCase()),Wn=Vn(e=>e.charAt(0).toUpperCase()+e.slice(1)),lo=Vn(e=>e?`on${Wn(e)}`:""),xs=(e,t)=>!Object.is(e,t),En=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},bn=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},wn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let yu;const Fo=()=>yu||(yu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nn(e){if(x(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],o=Ee(n)?ml(n):nn(n);if(o)for(const u in o)t[u]=o[u]}return t}else{if(Ee(e))return e;if(de(e))return e}}const pl=/;(?![^(]*\))/g,fl=/:([^]+)/,hl=new RegExp("\\/\\*.*?\\*\\/","gs");function ml(e){const t={};return e.replace(hl,"").split(pl).forEach(s=>{if(s){const n=s.split(fl);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ae(e){let t="";if(Ee(e))t=e;else if(x(e))for(let s=0;s<e.length;s++){const n=ae(e[s]);n&&(t+=n+" ")}else if(de(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const gl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vl=No(gl);function Sr(e){return!!e||e===""}function El(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=on(e[n],t[n]);return s}function on(e,t){if(e===t)return!0;let s=Cu(e),n=Cu(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Us(e),n=Us(t),s||n)return e===t;if(s=x(e),n=x(t),s||n)return s&&n?El(e,t):!1;if(s=de(e),n=de(t),s||n){if(!s||!n)return!1;const o=Object.keys(e).length,u=Object.keys(t).length;if(o!==u)return!1;for(const r in e){const i=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(i&&!l||!i&&l||!on(e[r],t[r]))return!1}}return String(e)===String(t)}function Uo(e,t){return e.findIndex(s=>on(s,t))}const S=e=>Ee(e)?e:e==null?"":x(e)||de(e)&&(e.toString===kr||!Y(e.toString))?JSON.stringify(e,jr,2):String(e),jr=(e,t)=>t&&t.__v_isRef?jr(e,t.value):os(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,o])=>(s[`${n} =>`]=o,s),{})}:Cs(t)?{[`Set(${t.size})`]:[...t.values()]}:de(t)&&!x(t)&&!Rs(t)?String(t):t;let Ue;class Fl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ue,!t&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=Ue;try{return Ue=this,t()}finally{Ue=s}}}on(){Ue=this}off(){Ue=this.parent}stop(t){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function _l(e,t=Ue){t&&t.active&&t.effects.push(e)}function Al(){return Ue}const xo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ir=e=>(e.w&jt)>0,Or=e=>(e.n&jt)>0,Cl=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=jt},yl=e=>{const{deps:t}=e;if(t.length){let s=0;for(let n=0;n<t.length;n++){const o=t[n];Ir(o)&&!Or(o)?o.delete(e):t[s++]=o,o.w&=~jt,o.n&=~jt}t.length=s}},_o=new WeakMap;let js=0,jt=1;const Ao=30;let xe;const Ut=Symbol(""),Co=Symbol("");class Ko{constructor(t,s=null,n){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,_l(this,n)}run(){if(!this.active)return this.fn();let t=xe,s=kt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=xe,xe=this,kt=!0,jt=1<<++js,js<=Ao?Cl(this):bu(this),this.fn()}finally{js<=Ao&&yl(this),jt=1<<--js,xe=this.parent,kt=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){xe===this?this.deferStop=!0:this.active&&(bu(this),this.onStop&&this.onStop(),this.active=!1)}}function bu(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let kt=!0;const Mr=[];function bs(){Mr.push(kt),kt=!1}function ws(){const e=Mr.pop();kt=e===void 0?!0:e}function Re(e,t,s){if(kt&&xe){let n=_o.get(e);n||_o.set(e,n=new Map);let o=n.get(s);o||n.set(s,o=xo()),Rr(o)}}function Rr(e,t){let s=!1;js<=Ao?Or(e)||(e.n|=jt,s=!Ir(e)):s=!e.has(xe),s&&(e.add(xe),xe.deps.push(e))}function vt(e,t,s,n,o,u){const r=_o.get(e);if(!r)return;let i=[];if(t==="clear")i=[...r.values()];else if(s==="length"&&x(e)){const l=Number(n);r.forEach((a,c)=>{(c==="length"||c>=l)&&i.push(a)})}else switch(s!==void 0&&i.push(r.get(s)),t){case"add":x(e)?Lo(s)&&i.push(r.get("length")):(i.push(r.get(Ut)),os(e)&&i.push(r.get(Co)));break;case"delete":x(e)||(i.push(r.get(Ut)),os(e)&&i.push(r.get(Co)));break;case"set":os(e)&&i.push(r.get(Ut));break}if(i.length===1)i[0]&&yo(i[0]);else{const l=[];for(const a of i)a&&l.push(...a);yo(xo(l))}}function yo(e,t){const s=x(e)?e:[...e];for(const n of s)n.computed&&wu(n);for(const n of s)n.computed||wu(n)}function wu(e,t){(e!==xe||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const bl=No("__proto__,__v_isRef,__isVue"),Tr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Us)),wl=Ho(),Bl=Ho(!1,!0),Dl=Ho(!0),Bu=$l();function $l(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=te(this);for(let u=0,r=this.length;u<r;u++)Re(n,"get",u+"");const o=n[t](...s);return o===-1||o===!1?n[t](...s.map(te)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){bs();const n=te(this)[t].apply(this,s);return ws(),n}}),e}function Pl(e){const t=te(this);return Re(t,"has",e),t.hasOwnProperty(e)}function Ho(e=!1,t=!1){return function(n,o,u){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&u===(e?t?Hl:Ur:t?Lr:Wr).get(n))return n;const r=x(n);if(!e){if(r&&X(Bu,o))return Reflect.get(Bu,o,u);if(o==="hasOwnProperty")return Pl}const i=Reflect.get(n,o,u);return(Us(o)?Tr.has(o):bl(o))||(e||Re(n,"get",o),t)?i:Be(i)?r&&Lo(o)?i:i.value:de(i)?e?xr(i):un(i):i}}const kl=Nr(),Sl=Nr(!0);function Nr(e=!1){return function(s,n,o,u){let r=s[n];if(as(r)&&Be(r)&&!Be(o))return!1;if(!e&&(!Bn(o)&&!as(o)&&(r=te(r),o=te(o)),!x(s)&&Be(r)&&!Be(o)))return r.value=o,!0;const i=x(s)&&Lo(n)?Number(n)<s.length:X(s,n),l=Reflect.set(s,n,o,u);return s===te(u)&&(i?xs(o,r)&&vt(s,"set",n,o):vt(s,"add",n,o)),l}}function jl(e,t){const s=X(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&vt(e,"delete",t,void 0),n}function Il(e,t){const s=Reflect.has(e,t);return(!Us(t)||!Tr.has(t))&&Re(e,"has",t),s}function Ol(e){return Re(e,"iterate",x(e)?"length":Ut),Reflect.ownKeys(e)}const Vr={get:wl,set:kl,deleteProperty:jl,has:Il,ownKeys:Ol},Ml={get:Dl,set(e,t){return!0},deleteProperty(e,t){return!0}},Rl=Ae({},Vr,{get:Bl,set:Sl}),qo=e=>e,Ln=e=>Reflect.getPrototypeOf(e);function cn(e,t,s=!1,n=!1){e=e.__v_raw;const o=te(e),u=te(t);s||(t!==u&&Re(o,"get",t),Re(o,"get",u));const{has:r}=Ln(o),i=n?qo:s?Yo:Ks;if(r.call(o,t))return i(e.get(t));if(r.call(o,u))return i(e.get(u));e!==o&&e.get(t)}function dn(e,t=!1){const s=this.__v_raw,n=te(s),o=te(e);return t||(e!==o&&Re(n,"has",e),Re(n,"has",o)),e===o?s.has(e):s.has(e)||s.has(o)}function pn(e,t=!1){return e=e.__v_raw,!t&&Re(te(e),"iterate",Ut),Reflect.get(e,"size",e)}function Du(e){e=te(e);const t=te(this);return Ln(t).has.call(t,e)||(t.add(e),vt(t,"add",e,e)),this}function $u(e,t){t=te(t);const s=te(this),{has:n,get:o}=Ln(s);let u=n.call(s,e);u||(e=te(e),u=n.call(s,e));const r=o.call(s,e);return s.set(e,t),u?xs(t,r)&&vt(s,"set",e,t):vt(s,"add",e,t),this}function Pu(e){const t=te(this),{has:s,get:n}=Ln(t);let o=s.call(t,e);o||(e=te(e),o=s.call(t,e)),n&&n.call(t,e);const u=t.delete(e);return o&&vt(t,"delete",e,void 0),u}function ku(){const e=te(this),t=e.size!==0,s=e.clear();return t&&vt(e,"clear",void 0,void 0),s}function fn(e,t){return function(n,o){const u=this,r=u.__v_raw,i=te(r),l=t?qo:e?Yo:Ks;return!e&&Re(i,"iterate",Ut),r.forEach((a,c)=>n.call(o,l(a),l(c),u))}}function hn(e,t,s){return function(...n){const o=this.__v_raw,u=te(o),r=os(u),i=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,a=o[e](...n),c=s?qo:t?Yo:Ks;return!t&&Re(u,"iterate",l?Co:Ut),{next(){const{value:p,done:f}=a.next();return f?{value:p,done:f}:{value:i?[c(p[0]),c(p[1])]:c(p),done:f}},[Symbol.iterator](){return this}}}}function bt(e){return function(...t){return e==="delete"?!1:this}}function Tl(){const e={get(u){return cn(this,u)},get size(){return pn(this)},has:dn,add:Du,set:$u,delete:Pu,clear:ku,forEach:fn(!1,!1)},t={get(u){return cn(this,u,!1,!0)},get size(){return pn(this)},has:dn,add:Du,set:$u,delete:Pu,clear:ku,forEach:fn(!1,!0)},s={get(u){return cn(this,u,!0)},get size(){return pn(this,!0)},has(u){return dn.call(this,u,!0)},add:bt("add"),set:bt("set"),delete:bt("delete"),clear:bt("clear"),forEach:fn(!0,!1)},n={get(u){return cn(this,u,!0,!0)},get size(){return pn(this,!0)},has(u){return dn.call(this,u,!0)},add:bt("add"),set:bt("set"),delete:bt("delete"),clear:bt("clear"),forEach:fn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=hn(u,!1,!1),s[u]=hn(u,!0,!1),t[u]=hn(u,!1,!0),n[u]=hn(u,!0,!0)}),[e,s,t,n]}const[Nl,Vl,Wl,Ll]=Tl();function Go(e,t){const s=t?e?Ll:Wl:e?Vl:Nl;return(n,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(X(s,o)&&o in n?s:n,o,u)}const Ul={get:Go(!1,!1)},xl={get:Go(!1,!0)},Kl={get:Go(!0,!1)},Wr=new WeakMap,Lr=new WeakMap,Ur=new WeakMap,Hl=new WeakMap;function ql(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gl(e){return e.__v_skip||!Object.isExtensible(e)?0:ql(al(e))}function un(e){return as(e)?e:Jo(e,!1,Vr,Ul,Wr)}function Jl(e){return Jo(e,!1,Rl,xl,Lr)}function xr(e){return Jo(e,!0,Ml,Kl,Ur)}function Jo(e,t,s,n,o){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const r=Gl(e);if(r===0)return e;const i=new Proxy(e,r===2?n:s);return o.set(e,i),i}function us(e){return as(e)?us(e.__v_raw):!!(e&&e.__v_isReactive)}function as(e){return!!(e&&e.__v_isReadonly)}function Bn(e){return!!(e&&e.__v_isShallow)}function Kr(e){return us(e)||as(e)}function te(e){const t=e&&e.__v_raw;return t?te(t):e}function Hr(e){return bn(e,"__v_skip",!0),e}const Ks=e=>de(e)?un(e):e,Yo=e=>de(e)?xr(e):e;function qr(e){kt&&xe&&(e=te(e),Rr(e.dep||(e.dep=xo())))}function Gr(e,t){e=te(e);const s=e.dep;s&&yo(s)}function Be(e){return!!(e&&e.__v_isRef===!0)}function Yl(e){return Jr(e,!1)}function Zl(e){return Jr(e,!0)}function Jr(e,t){return Be(e)?e:new zl(e,t)}class zl{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:te(t),this._value=s?t:Ks(t)}get value(){return qr(this),this._value}set value(t){const s=this.__v_isShallow||Bn(t)||as(t);t=s?t:te(t),xs(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:Ks(t),Gr(this))}}function rs(e){return Be(e)?e.value:e}const Ql={get:(e,t,s)=>rs(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const o=e[t];return Be(o)&&!Be(s)?(o.value=s,!0):Reflect.set(e,t,s,n)}};function Yr(e){return us(e)?e:new Proxy(e,Ql)}class Xl{constructor(t,s,n,o){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ko(t,()=>{this._dirty||(this._dirty=!0,Gr(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const t=te(this);return qr(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ea(e,t,s=!1){let n,o;const u=Y(e);return u?(n=e,o=qe):(n=e.get,o=e.set),new Xl(n,o,u||!o,s)}function St(e,t,s,n){let o;try{o=n?e(...n):e()}catch(u){Un(u,t,s)}return o}function Ge(e,t,s,n){if(Y(e)){const u=St(e,t,s,n);return u&&Pr(u)&&u.catch(r=>{Un(r,t,s)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(Ge(e[u],t,s,n));return o}function Un(e,t,s,n=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const r=t.proxy,i=s;for(;u;){const a=u.ec;if(a){for(let c=0;c<a.length;c++)if(a[c](e,r,i)===!1)return}u=u.parent}const l=t.appContext.config.errorHandler;if(l){St(l,null,10,[e,r,i]);return}}ta(e,s,o,n)}function ta(e,t,s,n=!0){console.error(e)}let Hs=!1,bo=!1;const we=[];let it=0;const is=[];let mt=null,Vt=0;const Zr=Promise.resolve();let Zo=null;function Dn(e){const t=Zo||Zr;return e?t.then(this?e.bind(this):e):t}function sa(e){let t=it+1,s=we.length;for(;t<s;){const n=t+s>>>1;qs(we[n])<e?t=n+1:s=n}return t}function zo(e){(!we.length||!we.includes(e,Hs&&e.allowRecurse?it+1:it))&&(e.id==null?we.push(e):we.splice(sa(e.id),0,e),zr())}function zr(){!Hs&&!bo&&(bo=!0,Zo=Zr.then(Xr))}function na(e){const t=we.indexOf(e);t>it&&we.splice(t,1)}function oa(e){x(e)?is.push(...e):(!mt||!mt.includes(e,e.allowRecurse?Vt+1:Vt))&&is.push(e),zr()}function Su(e,t=Hs?it+1:0){for(;t<we.length;t++){const s=we[t];s&&s.pre&&(we.splice(t,1),t--,s())}}function Qr(e){if(is.length){const t=[...new Set(is)];if(is.length=0,mt){mt.push(...t);return}for(mt=t,mt.sort((s,n)=>qs(s)-qs(n)),Vt=0;Vt<mt.length;Vt++)mt[Vt]();mt=null,Vt=0}}const qs=e=>e.id==null?1/0:e.id,ua=(e,t)=>{const s=qs(e)-qs(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function Xr(e){bo=!1,Hs=!0,we.sort(ua);const t=qe;try{for(it=0;it<we.length;it++){const s=we[it];s&&s.active!==!1&&St(s,null,14)}}finally{it=0,we.length=0,Qr(),Hs=!1,Zo=null,(we.length||is.length)&&Xr()}}function ra(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||pe;let o=s;const u=t.startsWith("update:"),r=u&&t.slice(7);if(r&&r in n){const c=`${r==="modelValue"?"model":r}Modifiers`,{number:p,trim:f}=n[c]||pe;f&&(o=s.map(F=>Ee(F)?F.trim():F)),p&&(o=s.map(wn))}let i,l=n[i=lo(t)]||n[i=lo(at(t))];!l&&u&&(l=n[i=lo(ys(t))]),l&&Ge(l,e,6,o);const a=n[i+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,Ge(a,e,6,o)}}function ei(e,t,s=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const u=e.emits;let r={},i=!1;if(!Y(e)){const l=a=>{const c=ei(a,t,!0);c&&(i=!0,Ae(r,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!u&&!i?(de(e)&&n.set(e,null),null):(x(u)?u.forEach(l=>r[l]=null):Ae(r,u),de(e)&&n.set(e,r),r)}function xn(e,t){return!e||!Nn(t)?!1:(t=t.slice(2).replace(/Once$/,""),X(e,t[0].toLowerCase()+t.slice(1))||X(e,ys(t))||X(e,t))}let De=null,Kn=null;function $n(e){const t=De;return De=e,Kn=e&&e.type.__scopeId||null,t}function ti(e){Kn=e}function si(){Kn=null}function oe(e,t=De,s){if(!t||e._n)return e;const n=(...o)=>{n._d&&Uu(-1);const u=$n(t);let r;try{r=e(...o)}finally{$n(u),n._d&&Uu(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function ao(e){const{type:t,vnode:s,proxy:n,withProxy:o,props:u,propsOptions:[r],slots:i,attrs:l,emit:a,render:c,renderCache:p,data:f,setupState:F,ctx:D,inheritAttrs:k}=e;let H,R;const V=$n(e);try{if(s.shapeFlag&4){const K=o||n;H=rt(c.call(K,K,p,u,F,f,D)),R=l}else{const K=t;H=rt(K.length>1?K(u,{attrs:l,slots:i,emit:a}):K(u,null)),R=t.props?l:ia(l)}}catch(K){Vs.length=0,Un(K,e,1),H=W(It)}let Q=H;if(R&&k!==!1){const K=Object.keys(R),{shapeFlag:ye}=Q;K.length&&ye&7&&(r&&K.some(Vo)&&(R=la(R,r)),Q=cs(Q,R))}return s.dirs&&(Q=cs(Q),Q.dirs=Q.dirs?Q.dirs.concat(s.dirs):s.dirs),s.transition&&(Q.transition=s.transition),H=Q,$n(V),H}const ia=e=>{let t;for(const s in e)(s==="class"||s==="style"||Nn(s))&&((t||(t={}))[s]=e[s]);return t},la=(e,t)=>{const s={};for(const n in e)(!Vo(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function aa(e,t,s){const{props:n,children:o,component:u}=e,{props:r,children:i,patchFlag:l}=t,a=u.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?ju(n,r,a):!!r;if(l&8){const c=t.dynamicProps;for(let p=0;p<c.length;p++){const f=c[p];if(r[f]!==n[f]&&!xn(a,f))return!0}}}else return(o||i)&&(!i||!i.$stable)?!0:n===r?!1:n?r?ju(n,r,a):!0:!!r;return!1}function ju(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const u=n[o];if(t[u]!==e[u]&&!xn(s,u))return!0}return!1}function ca({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const da=e=>e.__isSuspense;function pa(e,t){t&&t.pendingBranch?x(e)?t.effects.push(...e):t.effects.push(e):oa(e)}const mn={};function Fn(e,t,s){return ni(e,t,s)}function ni(e,t,{immediate:s,deep:n,flush:o,onTrack:u,onTrigger:r}=pe){var i;const l=Al()===((i=Ce)==null?void 0:i.scope)?Ce:null;let a,c=!1,p=!1;if(Be(e)?(a=()=>e.value,c=Bn(e)):us(e)?(a=()=>e,n=!0):x(e)?(p=!0,c=e.some(K=>us(K)||Bn(K)),a=()=>e.map(K=>{if(Be(K))return K.value;if(us(K))return Lt(K);if(Y(K))return St(K,l,2)})):Y(e)?t?a=()=>St(e,l,2):a=()=>{if(!(l&&l.isUnmounted))return f&&f(),Ge(e,l,3,[F])}:a=qe,t&&n){const K=a;a=()=>Lt(K())}let f,F=K=>{f=V.onStop=()=>{St(K,l,4)}},D;if(Js)if(F=qe,t?s&&Ge(t,l,3,[a(),p?[]:void 0,F]):a(),o==="sync"){const K=uc();D=K.__watcherHandles||(K.__watcherHandles=[])}else return qe;let k=p?new Array(e.length).fill(mn):mn;const H=()=>{if(V.active)if(t){const K=V.run();(n||c||(p?K.some((ye,Pe)=>xs(ye,k[Pe])):xs(K,k)))&&(f&&f(),Ge(t,l,3,[K,k===mn?void 0:p&&k[0]===mn?[]:k,F]),k=K)}else V.run()};H.allowRecurse=!!t;let R;o==="sync"?R=H:o==="post"?R=()=>Me(H,l&&l.suspense):(H.pre=!0,l&&(H.id=l.uid),R=()=>zo(H));const V=new Ko(a,R);t?s?H():k=V.run():o==="post"?Me(V.run.bind(V),l&&l.suspense):V.run();const Q=()=>{V.stop(),l&&l.scope&&Wo(l.scope.effects,V)};return D&&D.push(Q),Q}function fa(e,t,s){const n=this.proxy,o=Ee(e)?e.includes(".")?oi(n,e):()=>n[e]:e.bind(n,n);let u;Y(t)?u=t:(u=t.handler,s=t);const r=Ce;ds(this);const i=ni(o,u.bind(n),s);return r?ds(r):xt(),i}function oi(e,t){const s=t.split(".");return()=>{let n=e;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}function Lt(e,t){if(!de(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Be(e))Lt(e.value,t);else if(x(e))for(let s=0;s<e.length;s++)Lt(e[s],t);else if(Cs(e)||os(e))e.forEach(s=>{Lt(s,t)});else if(Rs(e))for(const s in e)Lt(e[s],t);return e}function ee(e,t){const s=De;if(s===null)return e;const n=Jn(s)||s.proxy,o=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[r,i,l,a=pe]=t[u];r&&(Y(r)&&(r={mounted:r,updated:r}),r.deep&&Lt(i),o.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:a}))}return e}function Tt(e,t,s,n){const o=e.dirs,u=t&&t.dirs;for(let r=0;r<o.length;r++){const i=o[r];u&&(i.oldValue=u[r].value);let l=i.dir[n];l&&(bs(),Ge(l,s,8,[e.el,i,e,t]),ws())}}function Qo(e,t){return Y(e)?(()=>Ae({name:e.name},t,{setup:e}))():e}const Ts=e=>!!e.type.__asyncLoader,ui=e=>e.type.__isKeepAlive;function ha(e,t){ri(e,"a",t)}function ma(e,t){ri(e,"da",t)}function ri(e,t,s=Ce){const n=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Hn(t,n,s),s){let o=s.parent;for(;o&&o.parent;)ui(o.parent.vnode)&&ga(n,t,s,o),o=o.parent}}function ga(e,t,s,n){const o=Hn(t,e,n,!0);ii(()=>{Wo(n[t],o)},s)}function Hn(e,t,s=Ce,n=!1){if(s){const o=s[e]||(s[e]=[]),u=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;bs(),ds(s);const i=Ge(t,s,e,r);return xt(),ws(),i});return n?o.unshift(u):o.push(u),u}}const Et=e=>(t,s=Ce)=>(!Js||e==="sp")&&Hn(e,(...n)=>t(...n),s),va=Et("bm"),Ea=Et("m"),Fa=Et("bu"),_a=Et("u"),Aa=Et("bum"),ii=Et("um"),Ca=Et("sp"),ya=Et("rtg"),ba=Et("rtc");function wa(e,t=Ce){Hn("ec",e,t)}const li="components";function Z(e,t){return Da(li,e,!0,t)||e}const Ba=Symbol.for("v-ndc");function Da(e,t,s=!0,n=!1){const o=De||Ce;if(o){const u=o.type;if(e===li){const i=sc(u,!1);if(i&&(i===t||i===at(t)||i===Wn(at(t))))return u}const r=Iu(o[e]||u[e],t)||Iu(o.appContext[e],t);return!r&&n?u:r}}function Iu(e,t){return e&&(e[t]||e[at(t)]||e[Wn(at(t))])}function ue(e,t,s,n){let o;const u=s&&s[n];if(x(e)||Ee(e)){o=new Array(e.length);for(let r=0,i=e.length;r<i;r++)o[r]=t(e[r],r,void 0,u&&u[r])}else if(typeof e=="number"){o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,u&&u[r])}else if(de(e))if(e[Symbol.iterator])o=Array.from(e,(r,i)=>t(r,i,void 0,u&&u[i]));else{const r=Object.keys(e);o=new Array(r.length);for(let i=0,l=r.length;i<l;i++){const a=r[i];o[i]=t(e[a],a,i,u&&u[i])}}else o=[];return s&&(s[n]=o),o}function qt(e,t,s={},n,o){if(De.isCE||De.parent&&Ts(De.parent)&&De.parent.isCE)return t!=="default"&&(s.name=t),W("slot",s,n&&n());let u=e[t];u&&u._c&&(u._d=!1),E();const r=u&&ai(u(s)),i=ve(q,{key:s.key||r&&r.key||`_${t}`},r||(n?n():[]),r&&e._===1?64:-2);return!o&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),u&&u._c&&(u._d=!0),i}function ai(e){return e.some(t=>Sn(t)?!(t.type===It||t.type===q&&!ai(t.children)):!0)?e:null}const wo=e=>e?_i(e)?Jn(e)||e.proxy:wo(e.parent):null,Ns=Ae(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wo(e.parent),$root:e=>wo(e.root),$emit:e=>e.emit,$options:e=>Xo(e),$forceUpdate:e=>e.f||(e.f=()=>zo(e.update)),$nextTick:e=>e.n||(e.n=Dn.bind(e.proxy)),$watch:e=>fa.bind(e)}),co=(e,t)=>e!==pe&&!e.__isScriptSetup&&X(e,t),$a={get({_:e},t){const{ctx:s,setupState:n,data:o,props:u,accessCache:r,type:i,appContext:l}=e;let a;if(t[0]!=="$"){const F=r[t];if(F!==void 0)switch(F){case 1:return n[t];case 2:return o[t];case 4:return s[t];case 3:return u[t]}else{if(co(n,t))return r[t]=1,n[t];if(o!==pe&&X(o,t))return r[t]=2,o[t];if((a=e.propsOptions[0])&&X(a,t))return r[t]=3,u[t];if(s!==pe&&X(s,t))return r[t]=4,s[t];Bo&&(r[t]=0)}}const c=Ns[t];let p,f;if(c)return t==="$attrs"&&Re(e,"get",t),c(e);if((p=i.__cssModules)&&(p=p[t]))return p;if(s!==pe&&X(s,t))return r[t]=4,s[t];if(f=l.config.globalProperties,X(f,t))return f[t]},set({_:e},t,s){const{data:n,setupState:o,ctx:u}=e;return co(o,t)?(o[t]=s,!0):n!==pe&&X(n,t)?(n[t]=s,!0):X(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:o,propsOptions:u}},r){let i;return!!s[r]||e!==pe&&X(e,r)||co(t,r)||(i=u[0])&&X(i,r)||X(n,r)||X(Ns,r)||X(o.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:X(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ou(e){return x(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Bo=!0;function Pa(e){const t=Xo(e),s=e.proxy,n=e.ctx;Bo=!1,t.beforeCreate&&Mu(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:r,watch:i,provide:l,inject:a,created:c,beforeMount:p,mounted:f,beforeUpdate:F,updated:D,activated:k,deactivated:H,beforeDestroy:R,beforeUnmount:V,destroyed:Q,unmounted:K,render:ye,renderTracked:Pe,renderTriggered:Xe,errorCaptured:pt,serverPrefetch:Zt,expose:et,inheritAttrs:Ct,components:Rt,directives:tt,filters:Ds}=t;if(a&&ka(a,n,null),r)for(const le in r){const se=r[le];Y(se)&&(n[le]=se.bind(s))}if(o){const le=o.call(s,s);de(le)&&(e.data=un(le))}if(Bo=!0,u)for(const le in u){const se=u[le],ft=Y(se)?se.bind(s,s):Y(se.get)?se.get.bind(s,s):qe,yt=!Y(se)&&Y(se.set)?se.set.bind(s):qe,st=We({get:ft,set:yt});Object.defineProperty(n,le,{enumerable:!0,configurable:!0,get:()=>st.value,set:Oe=>st.value=Oe})}if(i)for(const le in i)ci(i[le],n,s,le);if(l){const le=Y(l)?l.call(s):l;Reflect.ownKeys(le).forEach(se=>{_n(se,le[se])})}c&&Mu(c,e,"c");function Fe(le,se){x(se)?se.forEach(ft=>le(ft.bind(s))):se&&le(se.bind(s))}if(Fe(va,p),Fe(Ea,f),Fe(Fa,F),Fe(_a,D),Fe(ha,k),Fe(ma,H),Fe(wa,pt),Fe(ba,Pe),Fe(ya,Xe),Fe(Aa,V),Fe(ii,K),Fe(Ca,Zt),x(et))if(et.length){const le=e.exposed||(e.exposed={});et.forEach(se=>{Object.defineProperty(le,se,{get:()=>s[se],set:ft=>s[se]=ft})})}else e.exposed||(e.exposed={});ye&&e.render===qe&&(e.render=ye),Ct!=null&&(e.inheritAttrs=Ct),Rt&&(e.components=Rt),tt&&(e.directives=tt)}function ka(e,t,s=qe){x(e)&&(e=Do(e));for(const n in e){const o=e[n];let u;de(o)?"default"in o?u=gt(o.from||n,o.default,!0):u=gt(o.from||n):u=gt(o),Be(u)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>u.value,set:r=>u.value=r}):t[n]=u}}function Mu(e,t,s){Ge(x(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function ci(e,t,s,n){const o=n.includes(".")?oi(s,n):()=>s[n];if(Ee(e)){const u=t[e];Y(u)&&Fn(o,u)}else if(Y(e))Fn(o,e.bind(s));else if(de(e))if(x(e))e.forEach(u=>ci(u,t,s,n));else{const u=Y(e.handler)?e.handler.bind(s):t[e.handler];Y(u)&&Fn(o,u,e)}}function Xo(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:r}}=e.appContext,i=u.get(t);let l;return i?l=i:!o.length&&!s&&!n?l=t:(l={},o.length&&o.forEach(a=>Pn(l,a,r,!0)),Pn(l,t,r)),de(t)&&u.set(t,l),l}function Pn(e,t,s,n=!1){const{mixins:o,extends:u}=t;u&&Pn(e,u,s,!0),o&&o.forEach(r=>Pn(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const i=Sa[r]||s&&s[r];e[r]=i?i(e[r],t[r]):t[r]}return e}const Sa={data:Ru,props:Tu,emits:Tu,methods:Is,computed:Is,beforeCreate:ke,created:ke,beforeMount:ke,mounted:ke,beforeUpdate:ke,updated:ke,beforeDestroy:ke,beforeUnmount:ke,destroyed:ke,unmounted:ke,activated:ke,deactivated:ke,errorCaptured:ke,serverPrefetch:ke,components:Is,directives:Is,watch:Ia,provide:Ru,inject:ja};function Ru(e,t){return t?e?function(){return Ae(Y(e)?e.call(this,this):e,Y(t)?t.call(this,this):t)}:t:e}function ja(e,t){return Is(Do(e),Do(t))}function Do(e){if(x(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ke(e,t){return e?[...new Set([].concat(e,t))]:t}function Is(e,t){return e?Ae(Object.create(null),e,t):t}function Tu(e,t){return e?x(e)&&x(t)?[...new Set([...e,...t])]:Ae(Object.create(null),Ou(e),Ou(t??{})):t}function Ia(e,t){if(!e)return t;if(!t)return e;const s=Ae(Object.create(null),e);for(const n in t)s[n]=ke(e[n],t[n]);return s}function di(){return{app:null,config:{isNativeTag:rl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Oa=0;function Ma(e,t){return function(n,o=null){Y(n)||(n=Ae({},n)),o!=null&&!de(o)&&(o=null);const u=di(),r=new Set;let i=!1;const l=u.app={_uid:Oa++,_component:n,_props:o,_container:null,_context:u,_instance:null,version:rc,get config(){return u.config},set config(a){},use(a,...c){return r.has(a)||(a&&Y(a.install)?(r.add(a),a.install(l,...c)):Y(a)&&(r.add(a),a(l,...c))),l},mixin(a){return u.mixins.includes(a)||u.mixins.push(a),l},component(a,c){return c?(u.components[a]=c,l):u.components[a]},directive(a,c){return c?(u.directives[a]=c,l):u.directives[a]},mount(a,c,p){if(!i){const f=W(n,o);return f.appContext=u,c&&t?t(f,a):e(f,a,p),i=!0,l._container=a,a.__vue_app__=l,Jn(f.component)||f.component.proxy}},unmount(){i&&(e(null,l._container),delete l._container.__vue_app__)},provide(a,c){return u.provides[a]=c,l},runWithContext(a){kn=l;try{return a()}finally{kn=null}}};return l}}let kn=null;function _n(e,t){if(Ce){let s=Ce.provides;const n=Ce.parent&&Ce.parent.provides;n===s&&(s=Ce.provides=Object.create(n)),s[e]=t}}function gt(e,t,s=!1){const n=Ce||De;if(n||kn){const o=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:kn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return s&&Y(t)?t.call(n&&n.proxy):t}}function Ra(e,t,s,n=!1){const o={},u={};bn(u,Gn,1),e.propsDefaults=Object.create(null),pi(e,t,o,u);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);s?e.props=n?o:Jl(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function Ta(e,t,s,n){const{props:o,attrs:u,vnode:{patchFlag:r}}=e,i=te(o),[l]=e.propsOptions;let a=!1;if((n||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let p=0;p<c.length;p++){let f=c[p];if(xn(e.emitsOptions,f))continue;const F=t[f];if(l)if(X(u,f))F!==u[f]&&(u[f]=F,a=!0);else{const D=at(f);o[D]=$o(l,i,D,F,e,!1)}else F!==u[f]&&(u[f]=F,a=!0)}}}else{pi(e,t,o,u)&&(a=!0);let c;for(const p in i)(!t||!X(t,p)&&((c=ys(p))===p||!X(t,c)))&&(l?s&&(s[p]!==void 0||s[c]!==void 0)&&(o[p]=$o(l,i,p,void 0,e,!0)):delete o[p]);if(u!==i)for(const p in u)(!t||!X(t,p))&&(delete u[p],a=!0)}a&&vt(e,"set","$attrs")}function pi(e,t,s,n){const[o,u]=e.propsOptions;let r=!1,i;if(t)for(let l in t){if(vn(l))continue;const a=t[l];let c;o&&X(o,c=at(l))?!u||!u.includes(c)?s[c]=a:(i||(i={}))[c]=a:xn(e.emitsOptions,l)||(!(l in n)||a!==n[l])&&(n[l]=a,r=!0)}if(u){const l=te(s),a=i||pe;for(let c=0;c<u.length;c++){const p=u[c];s[p]=$o(o,l,p,a[p],e,!X(a,p))}}return r}function $o(e,t,s,n,o,u){const r=e[s];if(r!=null){const i=X(r,"default");if(i&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&Y(l)){const{propsDefaults:a}=o;s in a?n=a[s]:(ds(o),n=a[s]=l.call(null,t),xt())}else n=l}r[0]&&(u&&!i?n=!1:r[1]&&(n===""||n===ys(s))&&(n=!0))}return n}function fi(e,t,s=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const u=e.props,r={},i=[];let l=!1;if(!Y(e)){const c=p=>{l=!0;const[f,F]=fi(p,t,!0);Ae(r,f),F&&i.push(...F)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!u&&!l)return de(e)&&n.set(e,ns),ns;if(x(u))for(let c=0;c<u.length;c++){const p=at(u[c]);Nu(p)&&(r[p]=pe)}else if(u)for(const c in u){const p=at(c);if(Nu(p)){const f=u[c],F=r[p]=x(f)||Y(f)?{type:f}:Ae({},f);if(F){const D=Lu(Boolean,F.type),k=Lu(String,F.type);F[0]=D>-1,F[1]=k<0||D<k,(D>-1||X(F,"default"))&&i.push(p)}}}const a=[r,i];return de(e)&&n.set(e,a),a}function Nu(e){return e[0]!=="$"}function Vu(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Wu(e,t){return Vu(e)===Vu(t)}function Lu(e,t){return x(t)?t.findIndex(s=>Wu(s,e)):Y(t)&&Wu(t,e)?0:-1}const hi=e=>e[0]==="_"||e==="$stable",eu=e=>x(e)?e.map(rt):[rt(e)],Na=(e,t,s)=>{if(t._n)return t;const n=oe((...o)=>eu(t(...o)),s);return n._c=!1,n},mi=(e,t,s)=>{const n=e._ctx;for(const o in e){if(hi(o))continue;const u=e[o];if(Y(u))t[o]=Na(o,u,n);else if(u!=null){const r=eu(u);t[o]=()=>r}}},gi=(e,t)=>{const s=eu(t);e.slots.default=()=>s},Va=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=te(t),bn(t,"_",s)):mi(t,e.slots={})}else e.slots={},t&&gi(e,t);bn(e.slots,Gn,1)},Wa=(e,t,s)=>{const{vnode:n,slots:o}=e;let u=!0,r=pe;if(n.shapeFlag&32){const i=t._;i?s&&i===1?u=!1:(Ae(o,t),!s&&i===1&&delete o._):(u=!t.$stable,mi(t,o)),r=t}else t&&(gi(e,t),r={default:1});if(u)for(const i in o)!hi(i)&&!(i in r)&&delete o[i]};function Po(e,t,s,n,o=!1){if(x(e)){e.forEach((f,F)=>Po(f,t&&(x(t)?t[F]:t),s,n,o));return}if(Ts(n)&&!o)return;const u=n.shapeFlag&4?Jn(n.component)||n.component.proxy:n.el,r=o?null:u,{i,r:l}=e,a=t&&t.r,c=i.refs===pe?i.refs={}:i.refs,p=i.setupState;if(a!=null&&a!==l&&(Ee(a)?(c[a]=null,X(p,a)&&(p[a]=null)):Be(a)&&(a.value=null)),Y(l))St(l,i,12,[r,c]);else{const f=Ee(l),F=Be(l);if(f||F){const D=()=>{if(e.f){const k=f?X(p,l)?p[l]:c[l]:l.value;o?x(k)&&Wo(k,u):x(k)?k.includes(u)||k.push(u):f?(c[l]=[u],X(p,l)&&(p[l]=c[l])):(l.value=[u],e.k&&(c[e.k]=l.value))}else f?(c[l]=r,X(p,l)&&(p[l]=r)):F&&(l.value=r,e.k&&(c[e.k]=r))};r?(D.id=-1,Me(D,s)):D()}}}const Me=pa;function La(e){return Ua(e)}function Ua(e,t){const s=Fo();s.__VUE__=!0;const{insert:n,remove:o,patchProp:u,createElement:r,createText:i,createComment:l,setText:a,setElementText:c,parentNode:p,nextSibling:f,setScopeId:F=qe,insertStaticContent:D}=e,k=(h,m,g,A=null,y=null,b=null,j=!1,B=null,$=!!m.dynamicChildren)=>{if(h===m)return;h&&!Ps(h,m)&&(A=C(h),Oe(h,y,b,!0),h=null),m.patchFlag===-2&&($=!1,m.dynamicChildren=null);const{type:w,ref:L,shapeFlag:T}=m;switch(w){case qn:H(h,m,g,A);break;case It:R(h,m,g,A);break;case An:h==null&&V(m,g,A,j);break;case q:Rt(h,m,g,A,y,b,j,B,$);break;default:T&1?ye(h,m,g,A,y,b,j,B,$):T&6?tt(h,m,g,A,y,b,j,B,$):(T&64||T&128)&&w.process(h,m,g,A,y,b,j,B,$,P)}L!=null&&y&&Po(L,h&&h.ref,b,m||h,!m)},H=(h,m,g,A)=>{if(h==null)n(m.el=i(m.children),g,A);else{const y=m.el=h.el;m.children!==h.children&&a(y,m.children)}},R=(h,m,g,A)=>{h==null?n(m.el=l(m.children||""),g,A):m.el=h.el},V=(h,m,g,A)=>{[h.el,h.anchor]=D(h.children,m,g,A,h.el,h.anchor)},Q=({el:h,anchor:m},g,A)=>{let y;for(;h&&h!==m;)y=f(h),n(h,g,A),h=y;n(m,g,A)},K=({el:h,anchor:m})=>{let g;for(;h&&h!==m;)g=f(h),o(h),h=g;o(m)},ye=(h,m,g,A,y,b,j,B,$)=>{j=j||m.type==="svg",h==null?Pe(m,g,A,y,b,j,B,$):Zt(h,m,y,b,j,B,$)},Pe=(h,m,g,A,y,b,j,B)=>{let $,w;const{type:L,props:T,shapeFlag:U,transition:J,dirs:z}=h;if($=h.el=r(h.type,b,T&&T.is,T),U&8?c($,h.children):U&16&&pt(h.children,$,null,A,y,b&&L!=="foreignObject",j,B),z&&Tt(h,null,A,"created"),Xe($,h,h.scopeId,j,A),T){for(const ie in T)ie!=="value"&&!vn(ie)&&u($,ie,null,T[ie],b,h.children,A,y,be);"value"in T&&u($,"value",null,T.value),(w=T.onVnodeBeforeMount)&&ot(w,A,h)}z&&Tt(h,null,A,"beforeMount");const ce=(!y||y&&!y.pendingBranch)&&J&&!J.persisted;ce&&J.beforeEnter($),n($,m,g),((w=T&&T.onVnodeMounted)||ce||z)&&Me(()=>{w&&ot(w,A,h),ce&&J.enter($),z&&Tt(h,null,A,"mounted")},y)},Xe=(h,m,g,A,y)=>{if(g&&F(h,g),A)for(let b=0;b<A.length;b++)F(h,A[b]);if(y){let b=y.subTree;if(m===b){const j=y.vnode;Xe(h,j,j.scopeId,j.slotScopeIds,y.parent)}}},pt=(h,m,g,A,y,b,j,B,$=0)=>{for(let w=$;w<h.length;w++){const L=h[w]=B?Dt(h[w]):rt(h[w]);k(null,L,m,g,A,y,b,j,B)}},Zt=(h,m,g,A,y,b,j)=>{const B=m.el=h.el;let{patchFlag:$,dynamicChildren:w,dirs:L}=m;$|=h.patchFlag&16;const T=h.props||pe,U=m.props||pe;let J;g&&Nt(g,!1),(J=U.onVnodeBeforeUpdate)&&ot(J,g,m,h),L&&Tt(m,h,g,"beforeUpdate"),g&&Nt(g,!0);const z=y&&m.type!=="foreignObject";if(w?et(h.dynamicChildren,w,B,g,A,z,b):j||se(h,m,B,null,g,A,z,b,!1),$>0){if($&16)Ct(B,m,T,U,g,A,y);else if($&2&&T.class!==U.class&&u(B,"class",null,U.class,y),$&4&&u(B,"style",T.style,U.style,y),$&8){const ce=m.dynamicProps;for(let ie=0;ie<ce.length;ie++){const ge=ce[ie],Le=T[ge],es=U[ge];(es!==Le||ge==="value")&&u(B,ge,Le,es,y,h.children,g,A,be)}}$&1&&h.children!==m.children&&c(B,m.children)}else!j&&w==null&&Ct(B,m,T,U,g,A,y);((J=U.onVnodeUpdated)||L)&&Me(()=>{J&&ot(J,g,m,h),L&&Tt(m,h,g,"updated")},A)},et=(h,m,g,A,y,b,j)=>{for(let B=0;B<m.length;B++){const $=h[B],w=m[B],L=$.el&&($.type===q||!Ps($,w)||$.shapeFlag&70)?p($.el):g;k($,w,L,null,A,y,b,j,!0)}},Ct=(h,m,g,A,y,b,j)=>{if(g!==A){if(g!==pe)for(const B in g)!vn(B)&&!(B in A)&&u(h,B,g[B],null,j,m.children,y,b,be);for(const B in A){if(vn(B))continue;const $=A[B],w=g[B];$!==w&&B!=="value"&&u(h,B,w,$,j,m.children,y,b,be)}"value"in A&&u(h,"value",g.value,A.value)}},Rt=(h,m,g,A,y,b,j,B,$)=>{const w=m.el=h?h.el:i(""),L=m.anchor=h?h.anchor:i("");let{patchFlag:T,dynamicChildren:U,slotScopeIds:J}=m;J&&(B=B?B.concat(J):J),h==null?(n(w,g,A),n(L,g,A),pt(m.children,g,L,y,b,j,B,$)):T>0&&T&64&&U&&h.dynamicChildren?(et(h.dynamicChildren,U,g,y,b,j,B),(m.key!=null||y&&m===y.subTree)&&vi(h,m,!0)):se(h,m,g,L,y,b,j,B,$)},tt=(h,m,g,A,y,b,j,B,$)=>{m.slotScopeIds=B,h==null?m.shapeFlag&512?y.ctx.activate(m,g,A,j,$):Ds(m,g,A,y,b,j,$):zt(h,m,$)},Ds=(h,m,g,A,y,b,j)=>{const B=h.component=za(h,A,y);if(ui(h)&&(B.ctx.renderer=P),Qa(B),B.asyncDep){if(y&&y.registerDep(B,Fe),!h.el){const $=B.subTree=W(It);R(null,$,m,g)}return}Fe(B,h,m,g,y,b,j)},zt=(h,m,g)=>{const A=m.component=h.component;if(aa(h,m,g))if(A.asyncDep&&!A.asyncResolved){le(A,m,g);return}else A.next=m,na(A.update),A.update();else m.el=h.el,A.vnode=m},Fe=(h,m,g,A,y,b,j)=>{const B=()=>{if(h.isMounted){let{next:L,bu:T,u:U,parent:J,vnode:z}=h,ce=L,ie;Nt(h,!1),L?(L.el=z.el,le(h,L,j)):L=z,T&&En(T),(ie=L.props&&L.props.onVnodeBeforeUpdate)&&ot(ie,J,L,z),Nt(h,!0);const ge=ao(h),Le=h.subTree;h.subTree=ge,k(Le,ge,p(Le.el),C(Le),h,y,b),L.el=ge.el,ce===null&&ca(h,ge.el),U&&Me(U,y),(ie=L.props&&L.props.onVnodeUpdated)&&Me(()=>ot(ie,J,L,z),y)}else{let L;const{el:T,props:U}=m,{bm:J,m:z,parent:ce}=h,ie=Ts(m);if(Nt(h,!1),J&&En(J),!ie&&(L=U&&U.onVnodeBeforeMount)&&ot(L,ce,m),Nt(h,!0),T&&ne){const ge=()=>{h.subTree=ao(h),ne(T,h.subTree,h,y,null)};ie?m.type.__asyncLoader().then(()=>!h.isUnmounted&&ge()):ge()}else{const ge=h.subTree=ao(h);k(null,ge,g,A,h,y,b),m.el=ge.el}if(z&&Me(z,y),!ie&&(L=U&&U.onVnodeMounted)){const ge=m;Me(()=>ot(L,ce,ge),y)}(m.shapeFlag&256||ce&&Ts(ce.vnode)&&ce.vnode.shapeFlag&256)&&h.a&&Me(h.a,y),h.isMounted=!0,m=g=A=null}},$=h.effect=new Ko(B,()=>zo(w),h.scope),w=h.update=()=>$.run();w.id=h.uid,Nt(h,!0),w()},le=(h,m,g)=>{m.component=h;const A=h.vnode.props;h.vnode=m,h.next=null,Ta(h,m.props,A,g),Wa(h,m.children,g),bs(),Su(),ws()},se=(h,m,g,A,y,b,j,B,$=!1)=>{const w=h&&h.children,L=h?h.shapeFlag:0,T=m.children,{patchFlag:U,shapeFlag:J}=m;if(U>0){if(U&128){yt(w,T,g,A,y,b,j,B,$);return}else if(U&256){ft(w,T,g,A,y,b,j,B,$);return}}J&8?(L&16&&be(w,y,b),T!==w&&c(g,T)):L&16?J&16?yt(w,T,g,A,y,b,j,B,$):be(w,y,b,!0):(L&8&&c(g,""),J&16&&pt(T,g,A,y,b,j,B,$))},ft=(h,m,g,A,y,b,j,B,$)=>{h=h||ns,m=m||ns;const w=h.length,L=m.length,T=Math.min(w,L);let U;for(U=0;U<T;U++){const J=m[U]=$?Dt(m[U]):rt(m[U]);k(h[U],J,g,null,y,b,j,B,$)}w>L?be(h,y,b,!0,!1,T):pt(m,g,A,y,b,j,B,$,T)},yt=(h,m,g,A,y,b,j,B,$)=>{let w=0;const L=m.length;let T=h.length-1,U=L-1;for(;w<=T&&w<=U;){const J=h[w],z=m[w]=$?Dt(m[w]):rt(m[w]);if(Ps(J,z))k(J,z,g,null,y,b,j,B,$);else break;w++}for(;w<=T&&w<=U;){const J=h[T],z=m[U]=$?Dt(m[U]):rt(m[U]);if(Ps(J,z))k(J,z,g,null,y,b,j,B,$);else break;T--,U--}if(w>T){if(w<=U){const J=U+1,z=J<L?m[J].el:A;for(;w<=U;)k(null,m[w]=$?Dt(m[w]):rt(m[w]),g,z,y,b,j,B,$),w++}}else if(w>U)for(;w<=T;)Oe(h[w],y,b,!0),w++;else{const J=w,z=w,ce=new Map;for(w=z;w<=U;w++){const Te=m[w]=$?Dt(m[w]):rt(m[w]);Te.key!=null&&ce.set(Te.key,w)}let ie,ge=0;const Le=U-z+1;let es=!1,Fu=0;const $s=new Array(Le);for(w=0;w<Le;w++)$s[w]=0;for(w=J;w<=T;w++){const Te=h[w];if(ge>=Le){Oe(Te,y,b,!0);continue}let nt;if(Te.key!=null)nt=ce.get(Te.key);else for(ie=z;ie<=U;ie++)if($s[ie-z]===0&&Ps(Te,m[ie])){nt=ie;break}nt===void 0?Oe(Te,y,b,!0):($s[nt-z]=w+1,nt>=Fu?Fu=nt:es=!0,k(Te,m[nt],g,null,y,b,j,B,$),ge++)}const _u=es?xa($s):ns;for(ie=_u.length-1,w=Le-1;w>=0;w--){const Te=z+w,nt=m[Te],Au=Te+1<L?m[Te+1].el:A;$s[w]===0?k(null,nt,g,Au,y,b,j,B,$):es&&(ie<0||w!==_u[ie]?st(nt,g,Au,2):ie--)}}},st=(h,m,g,A,y=null)=>{const{el:b,type:j,transition:B,children:$,shapeFlag:w}=h;if(w&6){st(h.component.subTree,m,g,A);return}if(w&128){h.suspense.move(m,g,A);return}if(w&64){j.move(h,m,g,P);return}if(j===q){n(b,m,g);for(let T=0;T<$.length;T++)st($[T],m,g,A);n(h.anchor,m,g);return}if(j===An){Q(h,m,g);return}if(A!==2&&w&1&&B)if(A===0)B.beforeEnter(b),n(b,m,g),Me(()=>B.enter(b),y);else{const{leave:T,delayLeave:U,afterLeave:J}=B,z=()=>n(b,m,g),ce=()=>{T(b,()=>{z(),J&&J()})};U?U(b,z,ce):ce()}else n(b,m,g)},Oe=(h,m,g,A=!1,y=!1)=>{const{type:b,props:j,ref:B,children:$,dynamicChildren:w,shapeFlag:L,patchFlag:T,dirs:U}=h;if(B!=null&&Po(B,null,g,h,!0),L&256){m.ctx.deactivate(h);return}const J=L&1&&U,z=!Ts(h);let ce;if(z&&(ce=j&&j.onVnodeBeforeUnmount)&&ot(ce,m,h),L&6)an(h.component,g,A);else{if(L&128){h.suspense.unmount(g,A);return}J&&Tt(h,null,m,"beforeUnmount"),L&64?h.type.remove(h,m,g,y,P,A):w&&(b!==q||T>0&&T&64)?be(w,m,g,!1,!0):(b===q&&T&384||!y&&L&16)&&be($,m,g),A&&Qt(h)}(z&&(ce=j&&j.onVnodeUnmounted)||J)&&Me(()=>{ce&&ot(ce,m,h),J&&Tt(h,null,m,"unmounted")},g)},Qt=h=>{const{type:m,el:g,anchor:A,transition:y}=h;if(m===q){Xt(g,A);return}if(m===An){K(h);return}const b=()=>{o(g),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(h.shapeFlag&1&&y&&!y.persisted){const{leave:j,delayLeave:B}=y,$=()=>j(g,b);B?B(h.el,b,$):$()}else b()},Xt=(h,m)=>{let g;for(;h!==m;)g=f(h),o(h),h=g;o(m)},an=(h,m,g)=>{const{bum:A,scope:y,update:b,subTree:j,um:B}=h;A&&En(A),y.stop(),b&&(b.active=!1,Oe(j,h,m,g)),B&&Me(B,m),Me(()=>{h.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},be=(h,m,g,A=!1,y=!1,b=0)=>{for(let j=b;j<h.length;j++)Oe(h[j],m,g,A,y)},C=h=>h.shapeFlag&6?C(h.component.subTree):h.shapeFlag&128?h.suspense.next():f(h.anchor||h.el),O=(h,m,g)=>{h==null?m._vnode&&Oe(m._vnode,null,null,!0):k(m._vnode||null,h,m,null,null,null,g),Su(),Qr(),m._vnode=h},P={p:k,um:Oe,m:st,r:Qt,mt:Ds,mc:pt,pc:se,pbc:et,n:C,o:e};let N,ne;return t&&([N,ne]=t(P)),{render:O,hydrate:N,createApp:Ma(O,N)}}function Nt({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function vi(e,t,s=!1){const n=e.children,o=t.children;if(x(n)&&x(o))for(let u=0;u<n.length;u++){const r=n[u];let i=o[u];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=o[u]=Dt(o[u]),i.el=r.el),s||vi(r,i)),i.type===qn&&(i.el=r.el)}}function xa(e){const t=e.slice(),s=[0];let n,o,u,r,i;const l=e.length;for(n=0;n<l;n++){const a=e[n];if(a!==0){if(o=s[s.length-1],e[o]<a){t[n]=o,s.push(n);continue}for(u=0,r=s.length-1;u<r;)i=u+r>>1,e[s[i]]<a?u=i+1:r=i;a<e[s[u]]&&(u>0&&(t[n]=s[u-1]),s[u]=n)}}for(u=s.length,r=s[u-1];u-- >0;)s[u]=r,r=t[r];return s}const Ka=e=>e.__isTeleport,q=Symbol.for("v-fgt"),qn=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),An=Symbol.for("v-stc"),Vs=[];let He=null;function E(e=!1){Vs.push(He=e?null:[])}function Ha(){Vs.pop(),He=Vs[Vs.length-1]||null}let Gs=1;function Uu(e){Gs+=e}function Ei(e){return e.dynamicChildren=Gs>0?He||ns:null,Ha(),Gs>0&&He&&He.push(e),e}function _(e,t,s,n,o,u){return Ei(d(e,t,s,n,o,u,!0))}function ve(e,t,s,n,o){return Ei(W(e,t,s,n,o,!0))}function Sn(e){return e?e.__v_isVNode===!0:!1}function Ps(e,t){return e.type===t.type&&e.key===t.key}const Gn="__vInternal",Fi=({key:e})=>e??null,Cn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||Be(e)||Y(e)?{i:De,r:e,k:t,f:!!s}:e:null);function d(e,t=null,s=null,n=0,o=null,u=e===q?0:1,r=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fi(t),ref:t&&Cn(t),scopeId:Kn,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:De};return i?(tu(l,s),u&128&&e.normalize(l)):s&&(l.shapeFlag|=Ee(s)?8:16),Gs>0&&!r&&He&&(l.patchFlag>0||u&6)&&l.patchFlag!==32&&He.push(l),l}const W=qa;function qa(e,t=null,s=null,n=0,o=null,u=!1){if((!e||e===Ba)&&(e=It),Sn(e)){const i=cs(e,t,!0);return s&&tu(i,s),Gs>0&&!u&&He&&(i.shapeFlag&6?He[He.indexOf(e)]=i:He.push(i)),i.patchFlag|=-2,i}if(nc(e)&&(e=e.__vccOpts),t){t=Ga(t);let{class:i,style:l}=t;i&&!Ee(i)&&(t.class=ae(i)),de(l)&&(Kr(l)&&!x(l)&&(l=Ae({},l)),t.style=nn(l))}const r=Ee(e)?1:da(e)?128:Ka(e)?64:de(e)?4:Y(e)?2:0;return d(e,t,s,n,o,r,u,!0)}function Ga(e){return e?Kr(e)||Gn in e?Ae({},e):e:null}function cs(e,t,s=!1){const{props:n,ref:o,patchFlag:u,children:r}=e,i=t?Ja(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:i,key:i&&Fi(i),ref:t&&t.ref?s&&o?x(o)?o.concat(Cn(t)):[o,Cn(t)]:Cn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==q?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cs(e.ssContent),ssFallback:e.ssFallback&&cs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function I(e=" ",t=0){return W(qn,null,e,t)}function rn(e,t){const s=W(An,null,e);return s.staticCount=t,s}function G(e="",t=!1){return t?(E(),ve(It,null,e)):W(It,null,e)}function rt(e){return e==null||typeof e=="boolean"?W(It):x(e)?W(q,null,e.slice()):typeof e=="object"?Dt(e):W(qn,null,String(e))}function Dt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cs(e)}function tu(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(x(t))s=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),tu(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!(Gn in t)?t._ctx=De:o===3&&De&&(De.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Y(t)?(t={default:t,_ctx:De},s=32):(t=String(t),n&64?(s=16,t=[I(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ja(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=ae([t.class,n.class]));else if(o==="style")t.style=nn([t.style,n.style]);else if(Nn(o)){const u=t[o],r=n[o];r&&u!==r&&!(x(u)&&u.includes(r))&&(t[o]=u?[].concat(u,r):r)}else o!==""&&(t[o]=n[o])}return t}function ot(e,t,s,n=null){Ge(e,t,7,[s,n])}const Ya=di();let Za=0;function za(e,t,s){const n=e.type,o=(t?t.appContext:e.appContext)||Ya,u={uid:Za++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Fl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fi(n,o),emitsOptions:ei(n,o),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:n.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=ra.bind(null,u),e.ce&&e.ce(u),u}let Ce=null,su,ts,xu="__VUE_INSTANCE_SETTERS__";(ts=Fo()[xu])||(ts=Fo()[xu]=[]),ts.push(e=>Ce=e),su=e=>{ts.length>1?ts.forEach(t=>t(e)):ts[0](e)};const ds=e=>{su(e),e.scope.on()},xt=()=>{Ce&&Ce.scope.off(),su(null)};function _i(e){return e.vnode.shapeFlag&4}let Js=!1;function Qa(e,t=!1){Js=t;const{props:s,children:n}=e.vnode,o=_i(e);Ra(e,s,o,t),Va(e,n);const u=o?Xa(e,t):void 0;return Js=!1,u}function Xa(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=Hr(new Proxy(e.ctx,$a));const{setup:n}=s;if(n){const o=e.setupContext=n.length>1?tc(e):null;ds(e),bs();const u=St(n,e,0,[e.props,o]);if(ws(),xt(),Pr(u)){if(u.then(xt,xt),t)return u.then(r=>{Ku(e,r,t)}).catch(r=>{Un(r,e,0)});e.asyncDep=u}else Ku(e,u,t)}else Ai(e,t)}function Ku(e,t,s){Y(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=Yr(t)),Ai(e,s)}let Hu;function Ai(e,t,s){const n=e.type;if(!e.render){if(!t&&Hu&&!n.render){const o=n.template||Xo(e).template;if(o){const{isCustomElement:u,compilerOptions:r}=e.appContext.config,{delimiters:i,compilerOptions:l}=n,a=Ae(Ae({isCustomElement:u,delimiters:i},r),l);n.render=Hu(o,a)}}e.render=n.render||qe}ds(e),bs(),Pa(e),ws(),xt()}function ec(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,s){return Re(e,"get","$attrs"),t[s]}}))}function tc(e){const t=s=>{e.exposed=s||{}};return{get attrs(){return ec(e)},slots:e.slots,emit:e.emit,expose:t}}function Jn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Yr(Hr(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ns)return Ns[s](e)},has(t,s){return s in t||s in Ns}}))}function sc(e,t=!0){return Y(e)?e.displayName||e.name:e.name||t&&e.__name}function nc(e){return Y(e)&&"__vccOpts"in e}const We=(e,t)=>ea(e,t,Js);function Ci(e,t,s){const n=arguments.length;return n===2?de(t)&&!x(t)?Sn(t)?W(e,null,[t]):W(e,t):W(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Sn(s)&&(s=[s]),W(e,t,s))}const oc=Symbol.for("v-scx"),uc=()=>gt(oc),rc="3.3.2",ic="http://www.w3.org/2000/svg",Wt=typeof document<"u"?document:null,qu=Wt&&Wt.createElement("template"),lc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const o=t?Wt.createElementNS(ic,e):Wt.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>Wt.createTextNode(e),createComment:e=>Wt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,o,u){const r=s?s.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===u||!(o=o.nextSibling)););else{qu.innerHTML=n?`<svg>${e}</svg>`:e;const i=qu.content;if(n){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function ac(e,t,s){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function cc(e,t,s){const n=e.style,o=Ee(s);if(s&&!o){if(t&&!Ee(t))for(const u in t)s[u]==null&&ko(n,u,"");for(const u in s)ko(n,u,s[u])}else{const u=n.display;o?t!==s&&(n.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=u)}}const Gu=/\s*!important$/;function ko(e,t,s){if(x(s))s.forEach(n=>ko(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=dc(e,t);Gu.test(s)?e.setProperty(ys(n),s.replace(Gu,""),"important"):e[n]=s}}const Ju=["Webkit","Moz","ms"],po={};function dc(e,t){const s=po[t];if(s)return s;let n=at(t);if(n!=="filter"&&n in e)return po[t]=n;n=Wn(n);for(let o=0;o<Ju.length;o++){const u=Ju[o]+n;if(u in e)return po[t]=u}return t}const Yu="http://www.w3.org/1999/xlink";function pc(e,t,s,n,o){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(Yu,t.slice(6,t.length)):e.setAttributeNS(Yu,t,s);else{const u=vl(t);s==null||u&&!Sr(s)?e.removeAttribute(t):e.setAttribute(t,u?"":s)}}function fc(e,t,s,n,o,u,r){if(t==="innerHTML"||t==="textContent"){n&&r(n,o,u),e[t]=s??"";return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){e._value=s;const a=i==="OPTION"?e.getAttribute("value"):e.value,c=s??"";a!==c&&(e.value=c),s==null&&e.removeAttribute(t);return}let l=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Sr(s):s==null&&a==="string"?(s="",l=!0):a==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}function Pt(e,t,s,n){e.addEventListener(t,s,n)}function hc(e,t,s,n){e.removeEventListener(t,s,n)}function mc(e,t,s,n,o=null){const u=e._vei||(e._vei={}),r=u[t];if(n&&r)r.value=n;else{const[i,l]=gc(t);if(n){const a=u[t]=Fc(n,o);Pt(e,i,a,l)}else r&&(hc(e,i,r,l),u[t]=void 0)}}const Zu=/(?:Once|Passive|Capture)$/;function gc(e){let t;if(Zu.test(e)){t={};let n;for(;n=e.match(Zu);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ys(e.slice(2)),t]}let fo=0;const vc=Promise.resolve(),Ec=()=>fo||(vc.then(()=>fo=0),fo=Date.now());function Fc(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Ge(_c(n,s.value),t,5,[n])};return s.value=e,s.attached=Ec(),s}function _c(e,t){if(x(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const zu=/^on[a-z]/,Ac=(e,t,s,n,o=!1,u,r,i,l)=>{t==="class"?ac(e,n,o):t==="style"?cc(e,s,n):Nn(t)?Vo(t)||mc(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Cc(e,t,n,o))?fc(e,t,n,u,r,i,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),pc(e,t,n,o))};function Cc(e,t,s,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&zu.test(t)&&Y(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||zu.test(t)&&Ee(s)?!1:t in e}const ps=e=>{const t=e.props["onUpdate:modelValue"]||!1;return x(t)?s=>En(t,s):t};function yc(e){e.target.composing=!0}function Qu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const je={created(e,{modifiers:{lazy:t,trim:s,number:n}},o){e._assign=ps(o);const u=n||o.props&&o.props.type==="number";Pt(e,t?"change":"input",r=>{if(r.target.composing)return;let i=e.value;s&&(i=i.trim()),u&&(i=wn(i)),e._assign(i)}),s&&Pt(e,"change",()=>{e.value=e.value.trim()}),t||(Pt(e,"compositionstart",yc),Pt(e,"compositionend",Qu),Pt(e,"change",Qu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:n,number:o}},u){if(e._assign=ps(u),e.composing||document.activeElement===e&&e.type!=="range"&&(s||n&&e.value.trim()===t||(o||e.type==="number")&&wn(e.value)===t))return;const r=t??"";e.value!==r&&(e.value=r)}},Bt={deep:!0,created(e,t,s){e._assign=ps(s),Pt(e,"change",()=>{const n=e._modelValue,o=Ys(e),u=e.checked,r=e._assign;if(x(n)){const i=Uo(n,o),l=i!==-1;if(u&&!l)r(n.concat(o));else if(!u&&l){const a=[...n];a.splice(i,1),r(a)}}else if(Cs(n)){const i=new Set(n);u?i.add(o):i.delete(o),r(i)}else r(yi(e,u))})},mounted:Xu,beforeUpdate(e,t,s){e._assign=ps(s),Xu(e,t,s)}};function Xu(e,{value:t,oldValue:s},n){e._modelValue=t,x(t)?e.checked=Uo(t,n.props.value)>-1:Cs(t)?e.checked=t.has(n.props.value):t!==s&&(e.checked=on(t,yi(e,!0)))}const nu={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const o=Cs(t);Pt(e,"change",()=>{const u=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?wn(Ys(r)):Ys(r));e._assign(e.multiple?o?new Set(u):u:u[0])}),e._assign=ps(n)},mounted(e,{value:t}){er(e,t)},beforeUpdate(e,t,s){e._assign=ps(s)},updated(e,{value:t}){er(e,t)}};function er(e,t){const s=e.multiple;if(!(s&&!x(t)&&!Cs(t))){for(let n=0,o=e.options.length;n<o;n++){const u=e.options[n],r=Ys(u);if(s)x(t)?u.selected=Uo(t,r)>-1:u.selected=t.has(r);else if(on(Ys(u),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ys(e){return"_value"in e?e._value:e.value}function yi(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Os={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):ks(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),ks(e,!0),n.enter(e)):n.leave(e,()=>{ks(e,!1)}):ks(e,t))},beforeUnmount(e,{value:t}){ks(e,t)}};function ks(e,t){e.style.display=t?e._vod:"none"}const bc=Ae({patchProp:Ac},lc);let tr;function wc(){return tr||(tr=La(bc))}const Bc=(...e)=>{const t=wc().createApp(...e),{mount:s}=t;return t.mount=n=>{const o=Dc(n);if(!o)return;const u=t._component;!Y(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const r=s(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t};function Dc(e){return Ee(e)?document.querySelector(e):e}function So(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function sr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),s.push.apply(s,n)}return s}function jo(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?sr(Object(s),!0).forEach(function(n){So(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sr(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}var $c=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,o){if(!(typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");if(r.async=!0,r.src=t,r.defer=s.defer,s.preconnectOrigin){var i=document.createElement("link");i.href=s.preconnectOrigin,i.rel="preconnect",u.appendChild(i)}u.appendChild(r),r.onload=n,r.onerror=o}})},Pc=function e(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];if(!n.length)return t;var u=n.shift();if(!(!Rs(t)||!Rs(u))){for(var r in u)Rs(u[r])?(t[r]||Object.assign(t,So({},r,{})),e(t[r],u[r])):Object.assign(t,So({},r,u[r]));return e.apply(void 0,[t].concat(n))}},ln=function(){return!(typeof window>"u"||typeof document>"u")},nr=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ln()},kc=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return nr('Missing "appName" property inside the plugin options.',t.app_name==null),nr('Missing "name" property in the route.',t.screen_name==null),t};function Sc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=e.split("/"),n=t.split("/");return s[0]===""&&t[t.length-1]==="/"&&s.shift(),n.join("/")+s.join("/")}var jc=function(){return{bootstrap:!0,onReady:null,onError:null,onBeforeTrack:null,onAfterTrack:null,pageTrackerTemplate:null,customResourceURL:"https://www.googletagmanager.com/gtag/js",customPreconnectOrigin:"https://www.googletagmanager.com",deferScriptLoad:!1,pageTrackerExcludedRoutes:[],pageTrackerEnabled:!0,enabled:!0,disableScriptLoad:!1,pageTrackerScreenviewEnabled:!1,appName:null,pageTrackerUseFullPath:!1,pageTrackerPrependBase:!0,pageTrackerSkipSamePath:!0,globalDataLayerName:"dataLayer",globalObjectName:"gtag",defaultGroupName:"default",includes:null,config:{id:null,params:{send_page_view:!1}}}},bi={},Ic=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=jc();bi=Pc(s,t)},Ve=function(){return bi},Gt=function(){var e,t=Ve(),s=t.globalObjectName;!ln()||typeof window[s]>"u"||(e=window)[s].apply(e,arguments)},ou=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var n=Ve(),o=n.config,u=n.includes;Gt.apply(void 0,["config",o.id].concat(t)),Array.isArray(u)&&u.forEach(function(r){Gt.apply(void 0,["config",r.id].concat(t))})},or=function(t,s){ln()&&(window["ga-disable-".concat(t)]=s)},wi=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=Ve(),s=t.config,n=t.includes;or(s.id,e),Array.isArray(n)&&n.forEach(function(o){return or(o.id,e)})},Bi=function(){wi(!0)},Oc=function(){wi(!1)},Di,Mc=function(t){Di=t},uu=function(){return Di},Jt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=Ve(),n=s.includes,o=s.defaultGroupName;t.send_to==null&&Array.isArray(n)&&n.length&&(t.send_to=n.map(function(u){return u.id}).concat(o)),Gt("event",e,t)},$i=function(e){if(ln()){var t;if(typeof e=="string")t={page_path:e};else if(e.path||e.fullPath){var s=Ve(),n=s.pageTrackerUseFullPath,o=s.pageTrackerPrependBase,u=uu(),r=u&&u.options.base,i=n?e.fullPath:e.path;t=jo(jo({},e.name&&{page_title:e.name}),{},{page_path:o?Sc(i,r):i})}else t=e;t.page_location==null&&(t.page_location=window.location.href),t.send_page_view==null&&(t.send_page_view=!0),Jt("page_view",t)}},Pi=function(e){var t=Ve(),s=t.appName;if(e){var n;typeof e=="string"?n={screen_name:e}:n=e,n.app_name=n.app_name||s,Jt("screen_view",n)}},Rc=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Jt.apply(void 0,["exception"].concat(t))},Tc=function(e){ou("linker",e)},Nc=function(e){Jt("timing_complete",e)},Vc=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Gt.apply(void 0,["set"].concat(t))},Wc=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Jt.apply(void 0,["refund"].concat(t))},Lc=function(e){Jt("purchase",e)},Uc=function(e){ou({custom_map:e})},xc=Object.freeze({__proto__:null,query:Gt,config:ou,optOut:Bi,optIn:Oc,pageview:$i,screenview:Pi,exception:Rc,linker:Tc,time:Nc,set:Vc,refund:Wc,purchase:Lc,customMap:Uc,event:Jt}),Kc=function(t){t.config.globalProperties.$gtag=xc},Hc=function(){if(ln()){var e=Ve(),t=e.enabled,s=e.globalObjectName,n=e.globalDataLayerName;return window[s]==null&&(window[n]=window[n]||[],window[s]=function(){window[n].push(arguments)}),window[s]("js",new Date),t||Bi(),window[s]}},ur=function(t){return jo({send_page_view:!1},t)},ki=function(){var e=Ve(),t=e.config,s=e.includes;Gt("config",t.id,ur(t.params)),Array.isArray(s)&&s.forEach(function(n){Gt("config",n.id,ur(n.params))})},rr=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=Ve(),n=s.appName,o=s.pageTrackerTemplate,u=s.pageTrackerScreenviewEnabled,r=s.pageTrackerSkipSamePath;if(!(r&&e.path===t.path)){var i=e;if(Y(o)?i=o(e,t):u&&(i=kc({app_name:n,screen_name:e.name})),u){Pi(i);return}$i(i)}},ir=function(t){var s=Ve(),n=s.pageTrackerExcludedRoutes;return n.includes(t.path)||n.includes(t.name)},qc=function(){var e=Ve(),t=e.onBeforeTrack,s=e.onAfterTrack,n=uu();n.isReady().then(function(){Dn().then(function(){var o=n.currentRoute;ki(),!ir(o.value)&&rr(o.value)}),n.afterEach(function(o,u){Dn().then(function(){ir(o)||(Y(t)&&t(o,u),rr(o,u),Y(s)&&s(o,u))})})})},Gc=function(){var e=Ve(),t=e.onReady,s=e.onError,n=e.globalObjectName,o=e.globalDataLayerName,u=e.config,r=e.customResourceURL,i=e.customPreconnectOrigin,l=e.deferScriptLoad,a=e.pageTrackerEnabled,c=e.disableScriptLoad,p=!!(a&&uu());if(Hc(),p?qc():ki(),!c)return $c("".concat(r,"?id=").concat(u.id,"&l=").concat(o),{preconnectOrigin:i,defer:l}).then(function(){t&&t(window[n])}).catch(function(f){return s&&s(f),f})},Jc=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;Kc(t),Ic(s),Mc(n),Ve().bootstrap&&Gc()};const Si=Symbol("vue-facing-decorator-slot");class Yc{constructor(t){this.names=new Map,this.inComponent=!1,this.cachedVueComponent=null,this.master=t}obtainMap(t){let s=this.names.get(t);return s||(s=new Map,this.names.set(t,s)),s}}function Zc(e){if(Yn(e))throw"";const t=new Yc(e);return Object.defineProperty(e,Si,{enumerable:!1,value:t}),t}function Yn(e){var t;return(t=Object.getOwnPropertyDescriptor(e,Si))===null||t===void 0?void 0:t.value}function $e(e){const t=Yn(e);return t||Zc(e)}function zc(e,t){return e.reduce((s,n)=>(s[n]=t[n],s),{})}function ru(e){const t=[];let s=e;do t.unshift(s),s=Object.getPrototypeOf(s);while(s.constructor!==lu&&!Yn(s));return t}function ji(e){let t=Object.getPrototypeOf(e);for(;t.constructor!==lu;){const s=Yn(t);if(s)return s;t=Object.getPrototypeOf(t)}return null}function Ii(e,t){return e.filter(s=>{let n=t;for(;n!=null;){for(const o of n.names.keys()){if(["watch","hooks","setup","emits"].includes(o))continue;if(n.names.get(o).has(s))return!1}n=ji(n.master)}return!0})}function iu(e,t){const s=Object.getOwnPropertyDescriptors(e);return Object.keys(s).filter(n=>t(s[n],n))}function Qc(e){function t(s,n){if(n)e(s,n);else return function(o,u){e(o,u,s)}}return t}const Xc=e=>e instanceof Promise;function ed(e,t){const n=$e(e.prototype).obtainMap("setup");if(n.size===0)return;const o=function(u,r){const i={};let l=null;for(const a of n.keys()){const c=n.get(a).setupFunction(u,r);Xc(c)?(l??(l=[]),l.push(c.then(p=>{i[a]=p}))):i[a]=c}return Array.isArray(l)?Promise.all(l).then(()=>i):i};t.setup=o}function td(e,t){var s;(s=t.computed)!==null&&s!==void 0||(t.computed={});const n=$e(e.prototype),o=n.obtainMap("computed"),u=n.obtainMap("vanilla");ru(e.prototype).forEach(i=>{iu(i,(l,a)=>(typeof l.get=="function"||typeof l.set=="function")&&!u.has(a)).forEach(l=>{o.set(l,!0);const a=Object.getOwnPropertyDescriptor(i,l);t.computed[l]={get:typeof a.get=="function"?a.get:void 0,set:typeof a.set=="function"?a.set:void 0}})})}function sd(e,t,s,n){var o;(o=t.data)!==null&&o!==void 0||(t.data={});const u=new e(t,s);let r=iu(u,l=>!!l.enumerable);const i=$e(e.prototype);r=Ii(r,i),Object.assign(t.data,zc(r,u))}const nd=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","renderTracked","renderTriggered","errorCaptured","serverPrefetch","render"];function od(e,t){var s,n;const o=$e(e.prototype),u=ru(e.prototype),r=o.obtainMap("hooks");(s=t.hooks)!==null&&s!==void 0||(t.hooks={}),(n=t.methods)!==null&&n!==void 0||(t.methods={});const i={},l={};u.forEach(c=>{Ii(iu(c,(p,f)=>f==="constructor"?!1:typeof p.value=="function"),o).forEach(p=>{nd.includes(p)||r.has(p)?i[p]=c[p]:l[p]=c[p]})}),Object.assign(t.methods,l);const a=t.beforeCreateCallbacks;if(a&&a.length>0){const c=i.beforeCreate;i.beforeCreate=function(){a.forEach(p=>p.apply(this,arguments)),c&&c.apply(this,arguments)}}Object.assign(t.hooks,i)}function Oi(e,t){var s;(s=e.beforeCreateCallbacks)!==null&&s!==void 0||(e.beforeCreateCallbacks=[]),e.beforeCreateCallbacks.push(function(){const n=this;t(n).forEach((u,r)=>{Object.defineProperty(n,r,u)})})}function ud(e,t){const n=$e(e.prototype).obtainMap("ref");n&&Oi(t,o=>{const u=new Map;return n.forEach((r,i)=>{u.set(i,{get:function(){return o.$refs[i]},set:void 0})}),u})}function _e(e,t){return function(s,n){const u=$e(s).obtainMap("watch"),r=Object.assign({},t??{},{key:e,handler:s[n]});if(u.has(n)){const i=u.get(n);Array.isArray(i)?i.push(r):u.set(n,[i,r])}else u.set(n,r)}}function rd(e,t){var s;(s=t.watch)!==null&&s!==void 0||(t.watch={});const o=$e(e.prototype).obtainMap("watch");o&&o.forEach((u,r)=>{(Array.isArray(u)?u:[u]).forEach(l=>{if(!t.watch[l.key])t.watch[l.key]=l;else{const a=t.watch[l.key];Array.isArray(a)?a.push(l):t.watch[l.key]=[a,l]}})})}const M=Qc(function(e,t,s){const o=$e(e).obtainMap("props"),u=Object.assign({},s??{});o.set(t,u)});function id(e,t){var s;(s=t.props)!==null&&s!==void 0||(t.props={});const o=$e(e.prototype).obtainMap("props");o&&o.forEach((u,r)=>{t.props[r]=u})}function ld(e,t){var s;(s=t.inject)!==null&&s!==void 0||(t.inject={});const o=$e(e.prototype).obtainMap("inject");o&&o.forEach((u,r)=>{t.inject[r]=u})}var ad=globalThis&&globalThis.__awaiter||function(e,t,s,n){function o(u){return u instanceof s?u:new s(function(r){r(u)})}return new(s||(s=Promise))(function(u,r){function i(c){try{a(n.next(c))}catch(p){r(p)}}function l(c){try{a(n.throw(c))}catch(p){r(p)}}function a(c){c.done?u(c.value):o(c.value).then(i,l)}a((n=n.apply(e,t||[])).next())})};function cd(e,t){var s;(s=t.methods)!==null&&s!==void 0||(t.methods={});const n=e.prototype,o=$e(n),u=o.obtainMap("emit"),r=o.obtainMap("emits");u&&u.forEach((i,l)=>{const a=i===null?l:i;r.set(a,!0),t.methods[l]=function(){return ad(this,arguments,void 0,function*(){const c=n[l].apply(this,arguments);if(c instanceof Promise){const p=yield c;this.$emit(a,p)}else this.$emit(a,c)})}})}function dd(e,t){var s;(s=t.computed)!==null&&s!==void 0||(t.computed={});const o=$e(e.prototype).obtainMap("v-model");o&&o.size>0&&o.forEach((u,r)=>{var i;const l=(i=u&&u.name)!==null&&i!==void 0?i:"modelValue";t.computed[r]={get:function(){return this[l]},set:function(a){this.$emit(`update:${l}`,a)}}})}function pd(e,t){const n=$e(e.prototype).obtainMap("vanilla"),o=ru(e.prototype),u=new Map;Oi(t,r=>(o.forEach(i=>{const l=Object.getOwnPropertyDescriptors(i);for(const a in l){const c=l[a];c&&n.has(a)&&(typeof c.get=="function"||typeof c.set=="function")&&u.set(a,{set:typeof c.set=="function"?c.set.bind(r):void 0,get:typeof c.get=="function"?c.get.bind(r):void 0})}}),u))}const fd=[];function hd(e,t){const s={};ed(e,s),dd(e,s),td(e,s),rd(e,s),id(e,s),ld(e,s),cd(e,s),ud(e,s),od(e,s),pd(e,s);const n=s.setup?function(u,r){return s.setup(u,r)}:void 0;return Object.assign(Object.assign({setup:n,data(){var u;return delete s.data,sd(e,s,this),(u=s.data)!==null&&u!==void 0?u:{}},methods:s.methods,computed:s.computed,watch:s.watch,props:s.props,inject:s.inject},s.hooks),{extends:t})}function md(e,t,s){const n=hd(e,s),o=$e(e.prototype);Object.keys(t).reduce((r,i)=>(["options","modifier","emits","setup"].includes(i)||(r[i]=t[i]),r),n);let u=Array.from(o.obtainMap("emits").keys());if(Array.isArray(t.emits)&&(u=Array.from(new Set([...u,...t.emits]))),n.emits=u,fd.forEach(r=>{r.creator.apply({},[n,r.key])}),t.setup)if(!n.setup)n.setup=t.setup;else{const r=n.setup,i=t.setup,l=function(a,c){const p=i(a,c),f=r(a,c);return f instanceof Promise||p instanceof Promise?Promise.all([p,f]).then(F=>Object.assign({},F[0],F[1])):Object.assign({},p,f)};n.setup=l}return t.options&&Object.assign(n,t.options),t.modifier&&t.modifier(n),Qo(n)}function gd(e,t){const s=$e(e.prototype);s.inComponent=!0;const n=ji(e.prototype);if(n){if(!n.inComponent)throw"Class should be decorated by Component or ComponentBase: "+s.master;if(n.cachedVueComponent===null)throw"Component decorator 1"}const o=md(e,t,n===null?void 0:n.cachedVueComponent);o.__vfdConstructor=e,s.cachedVueComponent=o}function vd(e,t){return typeof e=="function"?t(e,{}):function(s){return t(s,e)}}function he(e){return vd(e,function(t,s){return gd(t,s),$e(t.prototype).cachedVueComponent})}const lu=class{constructor(e,t){const s=e.props;s&&Object.keys(s).forEach(n=>{this[n]=t[n]})}},me=lu;function Ed(){return new Worker("/assets/workerv2-1da30298.js")}class Fd{constructor(t,s,n,o){v(this,"level");v(this,"max_tension");v(this,"tension");v(this,"workers");this.tension=t,this.max_tension=s,this.level=n,this.workers=o}}class lr{constructor(t,s){v(this,"resolve");v(this,"reject");this.resolve=t,this.reject=s}}class _d{constructor(){v(this,"worker");v(this,"msgQueue");this.msgQueue=[]}messageHandler(t){this.msgQueue.length>0&&(this.msgQueue[0].resolve(t.data),this.msgQueue.shift())}errorHandler(t){this.msgQueue.length>0&&(this.msgQueue[0].reject(t),this.msgQueue.shift())}postMsg(t){return new Promise((s,n)=>{if(!this.worker)return n("worker not init.");this.msgQueue.push(new lr(s,n)),this.worker.postMessage(t)})}init(){return new Promise((t,s)=>{this.worker=new Ed,this.worker.onmessage=n=>this.messageHandler(n),this.worker.onerror=n=>this.errorHandler(n),this.msgQueue.push(new lr(t,s))})}init_repo(t,s,n){return this.postMsg({type:"init_repo",recipe:t,pops:s,pop_row:n})}set_pattern(t){return this.postMsg({type:"set_pattern",pattern:t})}solve_day(t,s,n,o,u,r){return this.postMsg({type:"solve_day",state:this.toInfoObj(t),level:s,ban_list:n,demands:o,time:u,with_cost:r})}solve_multi_day(t,s,n,o,u,r,i,l){return this.postMsg({type:"solve_multi_day",state:this.toInfoObj(t),level:s,ban_list:n,set:o,demands:u,worker:r,time:i,with_cost:l})}solve_day_dual(t,s,n,o,u,r,i){return this.postMsg({type:"solve_day_dual",state:this.toInfoObj(t),level:s,ban_list:n,demands:o,worker:u,time:r,with_cost:i})}solve_day_favor(t,s,n,o,u,r,i,l,a){return this.postMsg({type:"solve_day_favor",state:this.toInfoObj(t),level:s,ban_list:n,set:o,demands:u,favors:r,time:l,worker:i,with_cost:a})}solve_week(t,s,n,o,u,r){return this.postMsg({type:"solve_week",state:this.toInfoObj(t),level:s,ban_list:n,pattern:r,time:o,with_cost:u})}solve_week_part(t,s,n,o,u,r,i){return this.postMsg({type:"solve_week_part",state:this.toInfoObj(t),level:s,ban_list:n,pattern:r,time:o,with_cost:u,part_id:i})}solve_week_favor(t,s,n,o,u,r,i){return this.postMsg({type:"solve_week_favor",state:this.toInfoObj(t),level:s,ban_list:n,pattern:r,time:o,with_cost:u,favors:i})}solve_cache_clear(){return this.postMsg({type:"solve_cache_clear"})}simulate(t,s,n){return this.postMsg({type:"simulate",state:this.toInfoObj(t),seq:s,demands:n})}simulate_multi(t,s,n){return this.postMsg({type:"simulate_multi",state:this.toInfoObj(t),seq:s,demands:n})}pattern_predict(t,s){return this.postMsg({type:"pattern_predict",array:t,demands:s})}pattern_predict_adv(t,s){return this.postMsg({type:"pattern_predict_adv",array:t,demands:s})}pattern_demand(t,s){return this.postMsg({type:"pattern_demand",array:t,day:s})}toInfoObj(t){return{tension:t.tension,max_tension:t.max_tension,level:t.level,workers:t.workers}}}const Ad=typeof atob=="function",Cd=typeof btoa=="function",Zn=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ms=Array.prototype.slice.call(yd),gn=(e=>{let t={};return e.forEach((s,n)=>t[s]=n),t})(Ms),bd=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,yn=String.fromCharCode.bind(String),ar=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),wd=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Mi=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Bd=e=>{let t,s,n,o,u="";const r=e.length%3;for(let i=0;i<e.length;){if((s=e.charCodeAt(i++))>255||(n=e.charCodeAt(i++))>255||(o=e.charCodeAt(i++))>255)throw new TypeError("invalid character found");t=s<<16|n<<8|o,u+=Ms[t>>18&63]+Ms[t>>12&63]+Ms[t>>6&63]+Ms[t&63]}return r?u.slice(0,r-3)+"===".substring(r):u},Dd=Cd?e=>btoa(e):Zn?e=>Buffer.from(e,"binary").toString("base64"):Bd,cr=Zn?e=>Buffer.from(e).toString("base64"):e=>{let s=[];for(let n=0,o=e.length;n<o;n+=4096)s.push(yn.apply(null,e.subarray(n,n+4096)));return Dd(s.join(""))},$d=(e,t=!1)=>t?wd(cr(e)):cr(e),Pd=e=>{if(e=e.replace(/\s+/g,""),!bd.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,s="",n,o;for(let u=0;u<e.length;)t=gn[e.charAt(u++)]<<18|gn[e.charAt(u++)]<<12|(n=gn[e.charAt(u++)])<<6|(o=gn[e.charAt(u++)]),s+=n===64?yn(t>>16&255):o===64?yn(t>>16&255,t>>8&255):yn(t>>16&255,t>>8&255,t&255);return s},kd=Ad?e=>atob(Mi(e)):Zn?e=>Buffer.from(e,"base64").toString("binary"):Pd,Sd=Zn?e=>ar(Buffer.from(e,"base64")):e=>ar(kd(e).split("").map(t=>t.charCodeAt(0))),jd=e=>Sd(Id(e)),Id=e=>Mi(e.replace(/[-_]/g,t=>t=="-"?"+":"/"));function Ri(e){return $d(e,!0)}function zn(e){return jd(e)}function Od(e){const t=[];for(let s=0;s<e.length;s++){const n=e[s],o=Array.from(e.slice(s+1,s+1+n));t.push(o),s+=n}return t}function Md(e){const t=[];if(e[0]!==128)return t;for(let s=1;s<e.length;s++){const n=e[s++],o=[];for(let u=0;u<n;u++){const r=e[s++],i=r>>4,l=r&15,a=Array.from(e.slice(s,s+l));o.push(new Se(i,a)),s+=l}t.push(o),s--}return t}function Rd(e){const t=[128];for(let s=0;s<e.length;s++){const n=e[s];t.push(n.length);const o=t.length-1;for(let u=0;u<n.length;u++){const r=n[u];if(r.steps.length==0||r.worker==0){t[o]--;continue}t.push((r.worker<<4)+r.steps.length);for(let i=0;i<r.steps.length;i++)t.push(r.steps[i])}}return Ri(new Uint8Array(t))}class Td{constructor(){v(this,"hoverRecipeID",0);v(this,"hoverPositionX",0);v(this,"hoverPositionY",0)}get HoverRecipeID(){return this.hoverRecipeID}get HoverPosX(){return this.hoverPositionX}get HoverPosY(){return this.hoverPositionY}onHoverEnter(t,s,n){this.hoverRecipeID=t,this.hoverPositionX=s,this.hoverPositionY=n}onHoverExit(t){t===this.hoverRecipeID&&(this.hoverRecipeID=0)}}class Nd{constructor(){v(this,"solver",new _d);v(this,"data");v(this,"config");v(this,"event");v(this,"inited",!1);v(this,"predictDemands",[]);this.data=new Ie(Eo.Global),this.config=ol.load(this.Recipes.length),this.data.SetRegion(this.config.region),this.event=new Td}get Recipes(){return this.data.Recipes}get Popularity(){return this.data.Popularity}async init(){this.inited||(await this.solver.init(),await this.loadData())}async loadData(){const t=new Uint16Array(7*this.Recipes.length);for(let o=0;o<this.Recipes.length;o++){const u=this.Recipes[o];t[o*7+0]=u.Id,t[o*7+1]=u.Theme0,t[o*7+2]=u.Theme1,t[o*7+3]=u.Level,t[o*7+4]=u.Time,t[o*7+5]=u.Price,t[o*7+6]=u.Cost}const s=this.data.Popularity[0].length,n=new Uint8Array(this.data.Popularity.length*s);for(let o=0;o<this.data.Popularity.length;o++){const u=this.data.Popularity[o];for(let r=0;r<u.length;r++)n[o*s+r]=u[r]}await this.solver.init_repo(t,n,s),this.inited=!0,await this.updatePredictDemands(),await this.solver.set_pattern(this.popPattern)}get popPattern(){return this.config.popPattern}set popPattern(t){this.config.popPattern=t,this.solver.set_pattern(t)}get region(){return this.config.region}set region(t){this.config.region=t,this.data.SetRegion(t),this.loadData()}get shareLink(){const t=new Uint8Array(Math.ceil(this.config.demandPatterns.length/2)+1);t[0]=this.popPattern;for(let s=0;s<this.config.demandPatterns.length;s++){const n=this.config.demandPatterns[s];t[Math.floor(s/2)+1]|=n<<(s%2===0?0:4)}return Ri(t)}async updatePredictDemands(){for(let t=0;t<7;t++){const s=await this.demandsFromPredict(this.config.demandPatterns,t);this.predictDemands.length<=t?this.predictDemands.push(s):this.predictDemands[t]=s}}getPredictDemands(t){return this.predictDemands[t]}infoWithTension(t){return new Fd(t,this.config.maxTension,this.config.craftLevel,this.config.workers)}async simulateDetail(t,s,n){const o=await this.solver.simulate(this.infoWithTension(n),new Uint8Array(t),new Int8Array(s));return Ke.fromSteps(t,o)}async simulateMulti(t,s,n){const o=Se.toU8Array(t),u=await this.solver.simulate_multi(this.infoWithTension(n),o,new Int8Array(s)),r=[];for(let i=0;i<t.length;i++){const l=t[i],a=i*7,c=Ke.fromSteps(l.steps,u.slice(a,a+1+l.steps.length));r.push(c)}return r}async simulateWeek(t){const s=[],n=[];for(let u=0;u<this.Recipes.length;u++)n.push(0);let o=0;for(let u=0;u<t.length;u++){const r=t[u],i=new Int8Array(this.predictDemands[u]);for(let p=0;p<n.length;p++)i[p]-=n[p];const l=new Uint8Array(r.length);for(let p=0;p<r.length;p++)l[p]=r[p];const a=await this.solver.simulate(this.infoWithTension(o),l,i),c=Ke.fromSteps(r,a);s.push(c);for(let p=0;p<c.steps.length;p++){const f=c.steps[p];p==0?n[f]+=1*this.config.workers:(n[f]+=2*this.config.workers,o+=this.config.workers)}o>=this.config.maxTension&&(o=this.config.maxTension)}return s}async simulateMultiWeek(t){const s=[],n=[];for(let u=0;u<this.Recipes.length;u++)n.push(0);let o=0;for(let u=0;u<t.length;u++){const r=t[u],i=[...this.predictDemands[u]];for(let a=0;a<n.length;a++)i[a]-=n[a];const l=await this.simulateMulti(r,i,o);s.push(l);for(let a=0;a<r.length;a++){const c=r[a].steps,p=r[a].worker;for(let f=0;f<c.length;f++){const F=c[f];f==0?n[F]+=1*p:(n[F]+=2*p,o+=p)}}o>=this.config.maxTension&&(o=this.config.maxTension)}return s}async solveDayDetail(t,s,n,o=24){const u=new Uint8Array(s),r=new Int8Array(t),i=this.infoWithTension(n),l=await this.solver.solve_day(i,this.config.level,u,r,o,this.config.withCost);return Ke.fromSimulateArray(l)}async solveMultiDay(t,s,n,o,u,r=24){const i=new Uint8Array(n),l=new Int8Array(t),a=this.infoWithTension(o),c=Se.toU8Array(s),p=await this.solver.solve_multi_day(a,this.config.level,i,c,l,u,r,this.config.withCost);return ls.fromSingleWorkerArray(fs.fromWorkerArrays(p,u))}async solveDayDual(t,s,n,o,u=24){const r=new Uint8Array(s),i=new Int8Array(t),l=this.infoWithTension(n),a=await this.solver.solve_day_dual(l,this.config.level,r,i,o,u,this.config.withCost);return ls.fromArray(a)}async solveDayFavor(t,s,n,o,u,r,i=24){const l=new Uint8Array(n),a=new Int8Array(t),c=this.infoWithTension(o);let p=[];u.forEach(D=>{p.push(D.clone())}),s.forEach(D=>{p.forEach(k=>k.apply(D))});const f=Se.toU8Array(s),F=await this.solver.solve_day_favor(c,this.config.level,l,f,a,Kt.toU8Array(p),r,i,this.config.withCost);return ls.fromSingleWorkerArray(fs.fromWorkerArrays(F,r))}async solveWeek(t){const s=this.infoWithTension(0),n=new Uint8Array(t),o=new Uint8Array(this.config.demandPatterns),u=await this.solver.solve_week(s,this.config.level,n,24,this.config.withCost,o),r=Ke.fromSimulateArray(u),i=[];for(let l=0;l<r.length;l++)r[l].steps.length>0?i.push([new Se(s.workers,r[l].steps)]):i.push([]);return i}async solveWeekPartly(t,s){const n=this.infoWithTension(0),o=new Uint8Array(t),u=new Uint8Array(this.config.demandPatterns),r=await this.solver.solve_week_part(n,this.config.level,o,24,this.config.withCost,u,s);return[r[0],Se.fromSolverArray(r.slice(1))]}async solveWeekFavor(t,s){const n=this.infoWithTension(0),o=new Uint8Array(t),u=new Uint8Array(this.config.demandPatterns),r=await this.solver.solve_week_favor(n,this.config.level,o,24,this.config.withCost,u,Kt.toU8Array(s));return Se.fromSolverArray(r)}solveCacheClear(){return this.solver.solve_cache_clear()}async predictFromPackets(t){const s=t.length,n=t[0].length-2,o=new Uint8Array(s*n);for(let i=0;i<t.length;i++){const l=t[i].slice(2);for(let a=0;a<n;a++)o[a*s+i]=l[a]}const u=await this.solver.pattern_predict(o,t.length),r=[];for(let i=0;i<u.length;i++)r.push(u[i]);return r}async predictFromPacketsAdv(t,s){const n=t.length,o=t[0].length-2,u=new Uint8Array((n+1)*o);for(let l=0;l<o;l++){u[l*(n+1)]=s[l];for(let a=0;a<n;a++){const c=t[a].slice(2);u[l*(n+1)+a+1]=c[l]}}const r=await this.solver.pattern_predict_adv(u,n),i=[];for(let l=0;l<r.length;l++)i.push(r[l]);return i}async demandsFromPredict(t,s){const n=new Uint8Array(t),o=await this.solver.pattern_demand(n,s),u=[];for(let r=0;r<o.length;r++)u.push(o[r]);return u}}class jn{constructor(t,s,n){v(this,"value");v(this,"count");v(this,"steps");this.value=t,this.count=s,this.steps=n}static fromArray(t){const s=t[0],n=t[1],o=[];for(let u=2;u<8;u++)t[u]!=0&&o.push(t[u]);return new jn(s,n,o)}static fromSimulateArray(t){const s=[];for(let n=0;n<t.length;n+=8)s.push(jn.fromArray(t.slice(n,n+8)));return s}}class Ke extends jn{constructor(s,n,o,u){super(s,o.length,o);v(this,"stepValues");v(this,"cost");this.cost=n,this.stepValues=u}static fromSteps(s,n){let o=0;const u=[];for(let r=1;r<n.length;r++)o+=n[r],u.push(n[r]);return new Ke(o,n[0],s,u)}static fromArray(s){const n=s[0],o=s[1],u=[];for(let i=3;i<9;i++)s[i]!=0&&u.push(s[i]);const r=[];for(let i=9;i<15;i++)r.push(s[i]);return new Ke(n,o,u,r)}static fromSimulateArray(s){const n=[];for(let o=0;o<s.length;o+=15)n.push(Ke.fromArray(s.slice(o,o+15)));return n}}class fs extends Ke{constructor(s,n,o,u,r,i,l){super(u,r,i,l);v(this,"workerVal");v(this,"workerCost");v(this,"workers");this.workers=s,this.workerVal=n,this.workerCost=o}static fromWorkerArray(s,n){const o=s[0],u=s[1],r=Ke.fromArray(s.slice(2));return new fs(n,o,u,r.value,r.cost,r.steps,r.stepValues)}static fromWorkerArrays(s,n){const o=[];for(let u=0,r=0;u<s.length;u+=17,r++)o.push(fs.fromWorkerArray(s.slice(u,u+17),n));return o}}class ls{constructor(t,s,n){v(this,"batches",[]);v(this,"cost",0);v(this,"value",0);this.value=t,this.cost=s,this.batches=n}static fromArray(t){let s=0;const n=[];for(;s<t.length;){const o=[],u=t[s++],r=t[s++],i=t[s++];for(let a=0;a<i;a++){const c=t[s++],p=t[s++],f=t[s++],F=t[s++],D=[];for(let R=0;R<6;R++)D.push(t[s++]);const k=[];for(let R=0;R<6;R++)k.push(t[s++]);D.length=F,k.length=F;const H=new fs(c,0,0,p,f,D,k);o.push(H)}const l=new ls(u,r,o);n.push(l)}return n}static fromSingleWorkerArray(t){const s=[];for(let n=0;n<t.length;n++){const o=t[n];s.push(new ls(o.value*o.workers,o.cost*o.workers,[o]))}return s}}class Se{constructor(t,s){v(this,"worker",1);v(this,"steps",[]);this.worker=t,s.length>6&&(s=s.slice(0,6)),this.steps=s}clone(){return new Se(this.worker,this.steps.slice())}setU8Array(t){t[0]=this.worker;for(let s=0;s<this.steps.length;s++)t[1+s]=this.steps[s];for(let s=this.steps.length;s<6;s++)t[1+s]=0}getRecipeProduct(t){let s=0;for(let n=0;n<this.steps.length;n++)this.steps[n]==t&&(s+=(n==0?1:2)*this.worker);return s}static toU8Array(t){const s=new Uint8Array(t.length*7);for(let n=0;n<t.length;n++)t[n].setU8Array(s.subarray(n*7));return s}static fromSolverArray(t){const s=[];let n=0;for(;n<t.length;){t[n++],t[n++];const o=t[n++],u=[];for(let r=0;r<o;r++){const i=t[n++],l=t[n++],a=[];for(let c=0;c<6;c++)a.push(t[n++]);n+=6,a.length=l,u.push(new Se(i,a))}s.push(u)}return s}}class Kt{constructor(t,s){v(this,"id");v(this,"num");this.id=t,this.num=s}clone(){return new Kt(this.id,this.num)}setU8Array(t){t[0]=this.id,t[1]=Math.max(this.num,0)}apply(t){for(let s=0;s<t.steps.length;s++)this.id==t.steps[s]&&(this.num-=(s==0?1:2)*t.worker)}static toU8Array(t){const s=new Uint8Array(t.length*2);for(let n=0;n<t.length;n++)t[n].setU8Array(s.subarray(n*2));return s}}const fe=(e,t)=>{const s=e.__vccOpts||e;for(const[n,o]of t)s[n]=o;return s},Vd={},Wd={class:"lds-spinner"},Ld=d("div",null,null,-1),Ud=d("div",null,null,-1),xd=d("div",null,null,-1),Kd=d("div",null,null,-1),Hd=d("div",null,null,-1),qd=d("div",null,null,-1),Gd=d("div",null,null,-1),Jd=d("div",null,null,-1),Yd=d("div",null,null,-1),Zd=d("div",null,null,-1),zd=d("div",null,null,-1),Qd=d("div",null,null,-1),Xd=[Ld,Ud,xd,Kd,Hd,qd,Gd,Jd,Yd,Zd,zd,Qd];function ep(e,t){return E(),_("div",Wd,Xd)}const au=fe(Vd,[["render",ep]]),lt=["","2","2","3","3","4","4","5","5","6","6","7","7"];class cu{static Hex2U8Array(t){const s=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)s[n/2]=parseInt(t.substring(n,n+2),16);return s}static ChangeArrayVal(t,s,n,o){let u=0;for(let i=0;i<t.length;i++)u+=i==s?n:t[i];if(u<=o){t[s]=n;return}let r=u-o;for(let i=1;i<t.length;i++){const l=(i+s)%t.length;if(t[l]<r)r-=t[l],t[l]=0;else{t[l]-=r,r=0;break}}r>0&&(n-=r),t[s]=n}}class Ht{static GetDemand(t){return t>=18?0:t>=10?1:t>=2?2:t>=-6?3:4}static FromDemand(t){switch(t){case 0:return 24;case 1:return 13;case 2:return 9;case 3:return 0;case 4:return-7;default:return 9}}static GetDemandChange(t){return t>=5?2:t>=2?1:t>=-1?0:t>=-5?-1:-2}}var tp=Object.defineProperty,sp=Object.getOwnPropertyDescriptor,du=(e,t,s,n)=>{for(var o=n>1?void 0:n?sp(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&tp(t,s,o),o};let Zs=class extends me{constructor(){super(...arguments);v(this,"id");v(this,"solver")}get step(){return this.data.GetRecipe(this.id)}get data(){return this.solver.data}get pattern(){if(!(this.step.Id>=this.solver.config.demandPatterns.length))return this.solver.config.demandPatterns[this.step.Id]}get pop(){let s=this.solver.Popularity[this.solver.popPattern];if(!(this.step.Id>=s.length))return"mji-popular-"+s[this.step.Id].toString()}ingridientName(s){return this.data?Ie.TrimName(this.data.GetItem(s).Name):""}get name(){return Ie.TrimName(this.step.Name)}get patternName(){return this.pattern===void 0?lt[0]:lt[this.pattern]}get theme0(){return this.data.GetTheme(this.step.Theme0)}get theme1(){return this.data.GetTheme(this.step.Theme1)}};du([M()],Zs.prototype,"id",2);du([M()],Zs.prototype,"solver",2);Zs=du([he({})],Zs);const np={class:"item-header"},op={class:"item-img"},up={class:"item-text"},rp={class:"item-primary"},ip={class:"item-name"},lp={class:"item-desc mji-text-small"},ap=d("icon",{class:"mji mji-clock"},null,-1),cp=d("icon",{class:"blue-coin"},null,-1),dp={key:0},pp=d("icon",{class:"mji mji-no-box"},null,-1),fp={key:1},hp={class:"mji-text-small"},mp=d("div",{class:"mji-title mji-text-orange"},"  ",-1),gp={class:"item-detail-col"},vp={key:0,class:"item-detail-col"},Ep=d("div",{class:"mji-title mji-text-orange"},"  ",-1),Fp={key:0,class:"item-detail-col"},_p=d("span",{class:"cross"},"",-1);function Ap(e,t,s,n,o,u){var r;return E(),_("div",{class:"item-detail mji-wooden-plate",style:nn({visibility:e.id>0?"visible":"hidden"})},[d("div",np,[d("div",op,[d("icon",{class:ae(["item","item-"+e.step.Icon])},null,2)]),d("div",up,[d("div",rp,[d("span",ip,S(e.name),1)]),d("div",lp,[d("span",null,"Lv."+S(e.step.Level),1),d("span",null,[ap,I(S(e.step.Time)+"h",1)]),d("span",null,[cp,I(S(e.step.Price),1)]),e.pattern?(E(),_("span",dp,[pp,I(S(e.patternName),1)])):G("",!0),e.pop?(E(),_("span",fp,[d("icon",{class:ae(["mji",e.pop])},null,2)])):G("",!0)])])]),d("div",hp,[mp,d("div",gp,S(e.theme0),1),e.theme1?(E(),_("div",vp,S(e.theme1),1)):G("",!0),Ep,(E(!0),_(q,null,ue((r=e.step)==null?void 0:r.Ingredients,(i,l)=>(E(),_(q,{key:l},[i.Count>0?(E(),_("div",Fp,[I(S(e.ingridientName(i.Id)),1),_p,I(S(i.Count),1)])):G("",!0)],64))),128))])],4)}const Cp=fe(Zs,[["render",Ap]]);var yp=Object.defineProperty,bp=Object.getOwnPropertyDescriptor,wp=(e,t,s,n)=>{for(var o=n>1?void 0:n?bp(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&yp(t,s,o),o};let Io=class extends me{constructor(){super(...arguments);v(this,"solver",new Nd);v(this,"inited",!1);v(this,"errMessage","")}mounted(){this.solver.init().then(()=>{this.inited=!0}).catch(s=>{this.errMessage=s.message})}get style(){return this.solver.config.styleStepWidth?"monospace":""}get top(){var u,r;let s=this.solver.event.HoverPosY,n=((r=(u=this.$refs.detail)==null?void 0:u.$el)==null?void 0:r.offsetHeight)??0,o=document.documentElement.clientHeight-30;return s+n>o&&(s=o-n),s}get left(){return this.solver.event.HoverPosX}get hoverID(){return this.solver.event.HoverRecipeID}};Io=wp([he({components:{Loading:au,ItemDetail:Cp}})],Io);const Bp={key:1,class:"body-loading"},Dp={key:0},$p=d("p",null,"",-1),Pp={key:1},kp=d("p",null,"",-1),Sp=d("p",null,"",-1),jp=[kp,Sp];function Ip(e,t,s,n,o,u){const r=Z("RouterLink"),i=Z("RouterView"),l=Z("Loading"),a=Z("ItemDetail");return E(),_(q,null,[d("header",null,[d("nav",null,[W(r,{to:"/"},{default:oe(()=>[I("  ")]),_:1}),W(r,{to:"/plan"},{default:oe(()=>[I("  ")]),_:1}),W(r,{to:"/pred"},{default:oe(()=>[I("  ")]),_:1}),W(r,{to:"/setting"},{default:oe(()=>[I("  ")]),_:1}),W(r,{to:"/help"},{default:oe(()=>[I("  ")]),_:1})])]),e.inited?(E(),ve(i,{key:0,solver:e.solver,class:"body","step-style":e.style},null,8,["solver","step-style"])):(E(),_("div",Bp,[W(l),e.errMessage?(E(),_("div",Dp,[$p,d("p",null,S(e.errMessage),1)])):(E(),_("div",Pp,jp))])),e.solver.config.showItemPopup?(E(),ve(a,{key:2,id:e.hoverID,ref:"detail",solver:e.solver,style:nn({top:e.top+"px",left:e.left+"px"})},null,8,["id","solver","style"])):G("",!0)],64)}const Op=fe(Io,[["render",Ip]]);/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ss=typeof window<"u";function Mp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const re=Object.assign;function ho(e,t){const s={};for(const n in t){const o=t[n];s[n]=Je(o)?o.map(e):e(o)}return s}const Ws=()=>{},Je=Array.isArray,Rp=/\/$/,Tp=e=>e.replace(Rp,"");function mo(e,t,s="/"){let n,o={},u="",r="";const i=t.indexOf("#");let l=t.indexOf("?");return i<l&&i>=0&&(l=-1),l>-1&&(n=t.slice(0,l),u=t.slice(l+1,i>-1?i:t.length),o=e(u)),i>-1&&(n=n||t.slice(0,i),r=t.slice(i,t.length)),n=Lp(n??t,s),{fullPath:n+(u&&"?")+u+r,path:n,query:o,hash:r}}function Np(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function dr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Vp(e,t,s){const n=t.matched.length-1,o=s.matched.length-1;return n>-1&&n===o&&hs(t.matched[n],s.matched[o])&&Ti(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function hs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ti(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Wp(e[s],t[s]))return!1;return!0}function Wp(e,t){return Je(e)?pr(e,t):Je(t)?pr(t,e):e===t}function pr(e,t){return Je(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Lp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),o=n[n.length-1];(o===".."||o===".")&&n.push("");let u=s.length-1,r,i;for(r=0;r<n.length;r++)if(i=n[r],i!==".")if(i==="..")u>1&&u--;else break;return s.slice(0,u).join("/")+"/"+n.slice(r-(r===n.length?1:0)).join("/")}var zs;(function(e){e.pop="pop",e.push="push"})(zs||(zs={}));var Ls;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ls||(Ls={}));function Up(e){if(!e)if(ss){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Tp(e)}const xp=/^[^#]+#/;function Kp(e,t){return e.replace(xp,"#")+t}function Hp(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Qn=()=>({left:window.pageXOffset,top:window.pageYOffset});function qp(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=Hp(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function fr(e,t){return(history.state?history.state.position-t:-1)+e}const Oo=new Map;function Gp(e,t){Oo.set(e,t)}function Jp(e){const t=Oo.get(e);return Oo.delete(e),t}let Yp=()=>location.protocol+"//"+location.host;function Ni(e,t){const{pathname:s,search:n,hash:o}=t,u=e.indexOf("#");if(u>-1){let i=o.includes(e.slice(u))?e.slice(u).length:1,l=o.slice(i);return l[0]!=="/"&&(l="/"+l),dr(l,"")}return dr(s,e)+n+o}function Zp(e,t,s,n){let o=[],u=[],r=null;const i=({state:f})=>{const F=Ni(e,location),D=s.value,k=t.value;let H=0;if(f){if(s.value=F,t.value=f,r&&r===D){r=null;return}H=k?f.position-k.position:0}else n(F);o.forEach(R=>{R(s.value,D,{delta:H,type:zs.pop,direction:H?H>0?Ls.forward:Ls.back:Ls.unknown})})};function l(){r=s.value}function a(f){o.push(f);const F=()=>{const D=o.indexOf(f);D>-1&&o.splice(D,1)};return u.push(F),F}function c(){const{history:f}=window;f.state&&f.replaceState(re({},f.state,{scroll:Qn()}),"")}function p(){for(const f of u)f();u=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:a,destroy:p}}function hr(e,t,s,n=!1,o=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:o?Qn():null}}function zp(e){const{history:t,location:s}=window,n={value:Ni(e,s)},o={value:t.state};o.value||u(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(l,a,c){const p=e.indexOf("#"),f=p>-1?(s.host&&document.querySelector("base")?e:e.slice(p))+l:Yp()+e+l;try{t[c?"replaceState":"pushState"](a,"",f),o.value=a}catch(F){console.error(F),s[c?"replace":"assign"](f)}}function r(l,a){const c=re({},t.state,hr(o.value.back,l,o.value.forward,!0),a,{position:o.value.position});u(l,c,!0),n.value=l}function i(l,a){const c=re({},o.value,t.state,{forward:l,scroll:Qn()});u(c.current,c,!0);const p=re({},hr(n.value,l,null),{position:c.position+1},a);u(l,p,!1),n.value=l}return{location:n,state:o,push:i,replace:r}}function Qp(e){e=Up(e);const t=zp(e),s=Zp(e,t.state,t.location,t.replace);function n(u,r=!0){r||s.pauseListeners(),history.go(u)}const o=re({location:"",base:e,go:n,createHref:Kp.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Xp(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Qp(e)}function ef(e){return typeof e=="string"||e&&typeof e=="object"}function Vi(e){return typeof e=="string"||typeof e=="symbol"}const wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Wi=Symbol("");var mr;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(mr||(mr={}));function ms(e,t){return re(new Error,{type:e,[Wi]:!0},t)}function ht(e,t){return e instanceof Error&&Wi in e&&(t==null||!!(e.type&t))}const gr="[^/]+?",tf={sensitive:!1,strict:!1,start:!0,end:!0},sf=/[.+*?^${}()[\]/\\]/g;function nf(e,t){const s=re({},tf,t),n=[];let o=s.start?"^":"";const u=[];for(const a of e){const c=a.length?[]:[90];s.strict&&!a.length&&(o+="/");for(let p=0;p<a.length;p++){const f=a[p];let F=40+(s.sensitive?.25:0);if(f.type===0)p||(o+="/"),o+=f.value.replace(sf,"\\$&"),F+=40;else if(f.type===1){const{value:D,repeatable:k,optional:H,regexp:R}=f;u.push({name:D,repeatable:k,optional:H});const V=R||gr;if(V!==gr){F+=10;try{new RegExp(`(${V})`)}catch(K){throw new Error(`Invalid custom RegExp for param "${D}" (${V}): `+K.message)}}let Q=k?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;p||(Q=H&&a.length<2?`(?:/${Q})`:"/"+Q),H&&(Q+="?"),o+=Q,F+=20,H&&(F+=-8),k&&(F+=-20),V===".*"&&(F+=-50)}c.push(F)}n.push(c)}if(s.strict&&s.end){const a=n.length-1;n[a][n[a].length-1]+=.7000000000000001}s.strict||(o+="/?"),s.end?o+="$":s.strict&&(o+="(?:/|$)");const r=new RegExp(o,s.sensitive?"":"i");function i(a){const c=a.match(r),p={};if(!c)return null;for(let f=1;f<c.length;f++){const F=c[f]||"",D=u[f-1];p[D.name]=F&&D.repeatable?F.split("/"):F}return p}function l(a){let c="",p=!1;for(const f of e){(!p||!c.endsWith("/"))&&(c+="/"),p=!1;for(const F of f)if(F.type===0)c+=F.value;else if(F.type===1){const{value:D,repeatable:k,optional:H}=F,R=D in a?a[D]:"";if(Je(R)&&!k)throw new Error(`Provided param "${D}" is an array but it is not repeatable (* or + modifiers)`);const V=Je(R)?R.join("/"):R;if(!V)if(H)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):p=!0);else throw new Error(`Missing required param "${D}"`);c+=V}}return c||"/"}return{re:r,score:n,keys:u,parse:i,stringify:l}}function of(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function uf(e,t){let s=0;const n=e.score,o=t.score;for(;s<n.length&&s<o.length;){const u=of(n[s],o[s]);if(u)return u;s++}if(Math.abs(o.length-n.length)===1){if(vr(n))return 1;if(vr(o))return-1}return o.length-n.length}function vr(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const rf={type:0,value:""},lf=/[a-zA-Z0-9_]/;function af(e){if(!e)return[[]];if(e==="/")return[[rf]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(F){throw new Error(`ERR (${s})/"${a}": ${F}`)}let s=0,n=s;const o=[];let u;function r(){u&&o.push(u),u=[]}let i=0,l,a="",c="";function p(){a&&(s===0?u.push({type:0,value:a}):s===1||s===2||s===3?(u.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${a}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:a,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),a="")}function f(){a+=l}for(;i<e.length;){if(l=e[i++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(a&&p(),r()):l===":"?(p(),s=1):f();break;case 4:f(),s=n;break;case 1:l==="("?s=2:lf.test(l)?f():(p(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&i--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:p(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&i--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${a}"`),p(),r(),o}function cf(e,t,s){const n=nf(af(e.path),s),o=re(n,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function df(e,t){const s=[],n=new Map;t=_r({strict:!1,end:!0,sensitive:!1},t);function o(c){return n.get(c)}function u(c,p,f){const F=!f,D=pf(c);D.aliasOf=f&&f.record;const k=_r(t,c),H=[D];if("alias"in c){const Q=typeof c.alias=="string"?[c.alias]:c.alias;for(const K of Q)H.push(re({},D,{components:f?f.record.components:D.components,path:K,aliasOf:f?f.record:D}))}let R,V;for(const Q of H){const{path:K}=Q;if(p&&K[0]!=="/"){const ye=p.record.path,Pe=ye[ye.length-1]==="/"?"":"/";Q.path=p.record.path+(K&&Pe+K)}if(R=cf(Q,p,k),f?f.alias.push(R):(V=V||R,V!==R&&V.alias.push(R),F&&c.name&&!Fr(R)&&r(c.name)),D.children){const ye=D.children;for(let Pe=0;Pe<ye.length;Pe++)u(ye[Pe],R,f&&f.children[Pe])}f=f||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&l(R)}return V?()=>{r(V)}:Ws}function r(c){if(Vi(c)){const p=n.get(c);p&&(n.delete(c),s.splice(s.indexOf(p),1),p.children.forEach(r),p.alias.forEach(r))}else{const p=s.indexOf(c);p>-1&&(s.splice(p,1),c.record.name&&n.delete(c.record.name),c.children.forEach(r),c.alias.forEach(r))}}function i(){return s}function l(c){let p=0;for(;p<s.length&&uf(c,s[p])>=0&&(c.record.path!==s[p].record.path||!Li(c,s[p]));)p++;s.splice(p,0,c),c.record.name&&!Fr(c)&&n.set(c.record.name,c)}function a(c,p){let f,F={},D,k;if("name"in c&&c.name){if(f=n.get(c.name),!f)throw ms(1,{location:c});k=f.record.name,F=re(Er(p.params,f.keys.filter(V=>!V.optional).map(V=>V.name)),c.params&&Er(c.params,f.keys.map(V=>V.name))),D=f.stringify(F)}else if("path"in c)D=c.path,f=s.find(V=>V.re.test(D)),f&&(F=f.parse(D),k=f.record.name);else{if(f=p.name?n.get(p.name):s.find(V=>V.re.test(p.path)),!f)throw ms(1,{location:c,currentLocation:p});k=f.record.name,F=re({},p.params,c.params),D=f.stringify(F)}const H=[];let R=f;for(;R;)H.unshift(R.record),R=R.parent;return{name:k,path:D,params:F,matched:H,meta:hf(H)}}return e.forEach(c=>u(c)),{addRoute:u,resolve:a,removeRoute:r,getRoutes:i,getRecordMatcher:o}}function Er(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function pf(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ff(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ff(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="boolean"?s:s[n];return t}function Fr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function hf(e){return e.reduce((t,s)=>re(t,s.meta),{})}function _r(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function Li(e,t){return t.children.some(s=>s===e||Li(e,s))}const Ui=/#/g,mf=/&/g,gf=/\//g,vf=/=/g,Ef=/\?/g,xi=/\+/g,Ff=/%5B/g,_f=/%5D/g,Ki=/%5E/g,Af=/%60/g,Hi=/%7B/g,Cf=/%7C/g,qi=/%7D/g,yf=/%20/g;function pu(e){return encodeURI(""+e).replace(Cf,"|").replace(Ff,"[").replace(_f,"]")}function bf(e){return pu(e).replace(Hi,"{").replace(qi,"}").replace(Ki,"^")}function Mo(e){return pu(e).replace(xi,"%2B").replace(yf,"+").replace(Ui,"%23").replace(mf,"%26").replace(Af,"`").replace(Hi,"{").replace(qi,"}").replace(Ki,"^")}function wf(e){return Mo(e).replace(vf,"%3D")}function Bf(e){return pu(e).replace(Ui,"%23").replace(Ef,"%3F")}function Df(e){return e==null?"":Bf(e).replace(gf,"%2F")}function In(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function $f(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<n.length;++o){const u=n[o].replace(xi," "),r=u.indexOf("="),i=In(r<0?u:u.slice(0,r)),l=r<0?null:In(u.slice(r+1));if(i in t){let a=t[i];Je(a)||(a=t[i]=[a]),a.push(l)}else t[i]=l}return t}function Ar(e){let t="";for(let s in e){const n=e[s];if(s=wf(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Je(n)?n.map(u=>u&&Mo(u)):[n&&Mo(n)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+s,u!=null&&(t+="="+u))})}return t}function Pf(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Je(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return t}const kf=Symbol(""),Cr=Symbol(""),fu=Symbol(""),Gi=Symbol(""),Ro=Symbol("");function Ss(){let e=[];function t(n){return e.push(n),()=>{const o=e.indexOf(n);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e,reset:s}}function $t(e,t,s,n,o){const u=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((r,i)=>{const l=p=>{p===!1?i(ms(4,{from:s,to:t})):p instanceof Error?i(p):ef(p)?i(ms(2,{from:t,to:p})):(u&&n.enterCallbacks[o]===u&&typeof p=="function"&&u.push(p),r())},a=e.call(n&&n.instances[o],t,s,l);let c=Promise.resolve(a);e.length<3&&(c=c.then(l)),c.catch(p=>i(p))})}function go(e,t,s,n){const o=[];for(const u of e)for(const r in u.components){let i=u.components[r];if(!(t!=="beforeRouteEnter"&&!u.instances[r]))if(Sf(i)){const a=(i.__vccOpts||i)[t];a&&o.push($t(a,s,n,u,r))}else{let l=i();o.push(()=>l.then(a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${u.path}"`));const c=Mp(a)?a.default:a;u.components[r]=c;const f=(c.__vccOpts||c)[t];return f&&$t(f,s,n,u,r)()}))}}return o}function Sf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function yr(e){const t=gt(fu),s=gt(Gi),n=We(()=>t.resolve(rs(e.to))),o=We(()=>{const{matched:l}=n.value,{length:a}=l,c=l[a-1],p=s.matched;if(!c||!p.length)return-1;const f=p.findIndex(hs.bind(null,c));if(f>-1)return f;const F=br(l[a-2]);return a>1&&br(c)===F&&p[p.length-1].path!==F?p.findIndex(hs.bind(null,l[a-2])):f}),u=We(()=>o.value>-1&&Mf(s.params,n.value.params)),r=We(()=>o.value>-1&&o.value===s.matched.length-1&&Ti(s.params,n.value.params));function i(l={}){return Of(l)?t[rs(e.replace)?"replace":"push"](rs(e.to)).catch(Ws):Promise.resolve()}return{route:n,href:We(()=>n.value.href),isActive:u,isExactActive:r,navigate:i}}const jf=Qo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yr,setup(e,{slots:t}){const s=un(yr(e)),{options:n}=gt(fu),o=We(()=>({[wr(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[wr(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const u=t.default&&t.default(s);return e.custom?u:Ci("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},u)}}}),If=jf;function Of(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Mf(e,t){for(const s in t){const n=t[s],o=e[s];if(typeof n=="string"){if(n!==o)return!1}else if(!Je(o)||o.length!==n.length||n.some((u,r)=>u!==o[r]))return!1}return!0}function br(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const wr=(e,t,s)=>e??t??s,Rf=Qo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=gt(Ro),o=We(()=>e.route||n.value),u=gt(Cr,0),r=We(()=>{let a=rs(u);const{matched:c}=o.value;let p;for(;(p=c[a])&&!p.components;)a++;return a}),i=We(()=>o.value.matched[r.value]);_n(Cr,We(()=>r.value+1)),_n(kf,i),_n(Ro,o);const l=Yl();return Fn(()=>[l.value,i.value,e.name],([a,c,p],[f,F,D])=>{c&&(c.instances[p]=a,F&&F!==c&&a&&a===f&&(c.leaveGuards.size||(c.leaveGuards=F.leaveGuards),c.updateGuards.size||(c.updateGuards=F.updateGuards))),a&&c&&(!F||!hs(c,F)||!f)&&(c.enterCallbacks[p]||[]).forEach(k=>k(a))},{flush:"post"}),()=>{const a=o.value,c=e.name,p=i.value,f=p&&p.components[c];if(!f)return Br(s.default,{Component:f,route:a});const F=p.props[c],D=F?F===!0?a.params:typeof F=="function"?F(a):F:null,H=Ci(f,re({},D,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(p.instances[c]=null)},ref:l}));return Br(s.default,{Component:H,route:a})||H}}});function Br(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Tf=Rf;function Nf(e){const t=df(e.routes,e),s=e.parseQuery||$f,n=e.stringifyQuery||Ar,o=e.history,u=Ss(),r=Ss(),i=Ss(),l=Zl(wt);let a=wt;ss&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ho.bind(null,C=>""+C),p=ho.bind(null,Df),f=ho.bind(null,In);function F(C,O){let P,N;return Vi(C)?(P=t.getRecordMatcher(C),N=O):N=C,t.addRoute(N,P)}function D(C){const O=t.getRecordMatcher(C);O&&t.removeRoute(O)}function k(){return t.getRoutes().map(C=>C.record)}function H(C){return!!t.getRecordMatcher(C)}function R(C,O){if(O=re({},O||l.value),typeof C=="string"){const g=mo(s,C,O.path),A=t.resolve({path:g.path},O),y=o.createHref(g.fullPath);return re(g,A,{params:f(A.params),hash:In(g.hash),redirectedFrom:void 0,href:y})}let P;if("path"in C)P=re({},C,{path:mo(s,C.path,O.path).path});else{const g=re({},C.params);for(const A in g)g[A]==null&&delete g[A];P=re({},C,{params:p(g)}),O.params=p(O.params)}const N=t.resolve(P,O),ne=C.hash||"";N.params=c(f(N.params));const h=Np(n,re({},C,{hash:bf(ne),path:N.path})),m=o.createHref(h);return re({fullPath:h,hash:ne,query:n===Ar?Pf(C.query):C.query||{}},N,{redirectedFrom:void 0,href:m})}function V(C){return typeof C=="string"?mo(s,C,l.value.path):re({},C)}function Q(C,O){if(a!==C)return ms(8,{from:O,to:C})}function K(C){return Xe(C)}function ye(C){return K(re(V(C),{replace:!0}))}function Pe(C){const O=C.matched[C.matched.length-1];if(O&&O.redirect){const{redirect:P}=O;let N=typeof P=="function"?P(C):P;return typeof N=="string"&&(N=N.includes("?")||N.includes("#")?N=V(N):{path:N},N.params={}),re({query:C.query,hash:C.hash,params:"path"in N?{}:C.params},N)}}function Xe(C,O){const P=a=R(C),N=l.value,ne=C.state,h=C.force,m=C.replace===!0,g=Pe(P);if(g)return Xe(re(V(g),{state:typeof g=="object"?re({},ne,g.state):ne,force:h,replace:m}),O||P);const A=P;A.redirectedFrom=O;let y;return!h&&Vp(n,N,P)&&(y=ms(16,{to:A,from:N}),st(N,N,!0,!1)),(y?Promise.resolve(y):et(A,N)).catch(b=>ht(b)?ht(b,2)?b:yt(b):se(b,A,N)).then(b=>{if(b){if(ht(b,2))return Xe(re({replace:m},V(b.to),{state:typeof b.to=="object"?re({},ne,b.to.state):ne,force:h}),O||A)}else b=Rt(A,N,!0,m,ne);return Ct(A,N,b),b})}function pt(C,O){const P=Q(C,O);return P?Promise.reject(P):Promise.resolve()}function Zt(C){const O=Xt.values().next().value;return O&&typeof O.runWithContext=="function"?O.runWithContext(C):C()}function et(C,O){let P;const[N,ne,h]=Vf(C,O);P=go(N.reverse(),"beforeRouteLeave",C,O);for(const g of N)g.leaveGuards.forEach(A=>{P.push($t(A,C,O))});const m=pt.bind(null,C,O);return P.push(m),be(P).then(()=>{P=[];for(const g of u.list())P.push($t(g,C,O));return P.push(m),be(P)}).then(()=>{P=go(ne,"beforeRouteUpdate",C,O);for(const g of ne)g.updateGuards.forEach(A=>{P.push($t(A,C,O))});return P.push(m),be(P)}).then(()=>{P=[];for(const g of C.matched)if(g.beforeEnter&&!O.matched.includes(g))if(Je(g.beforeEnter))for(const A of g.beforeEnter)P.push($t(A,C,O));else P.push($t(g.beforeEnter,C,O));return P.push(m),be(P)}).then(()=>(C.matched.forEach(g=>g.enterCallbacks={}),P=go(h,"beforeRouteEnter",C,O),P.push(m),be(P))).then(()=>{P=[];for(const g of r.list())P.push($t(g,C,O));return P.push(m),be(P)}).catch(g=>ht(g,8)?g:Promise.reject(g))}function Ct(C,O,P){for(const N of i.list())Zt(()=>N(C,O,P))}function Rt(C,O,P,N,ne){const h=Q(C,O);if(h)return h;const m=O===wt,g=ss?history.state:{};P&&(N||m?o.replace(C.fullPath,re({scroll:m&&g&&g.scroll},ne)):o.push(C.fullPath,ne)),l.value=C,st(C,O,P,m),yt()}let tt;function Ds(){tt||(tt=o.listen((C,O,P)=>{if(!an.listening)return;const N=R(C),ne=Pe(N);if(ne){Xe(re(ne,{replace:!0}),N).catch(Ws);return}a=N;const h=l.value;ss&&Gp(fr(h.fullPath,P.delta),Qn()),et(N,h).catch(m=>ht(m,12)?m:ht(m,2)?(Xe(m.to,N).then(g=>{ht(g,20)&&!P.delta&&P.type===zs.pop&&o.go(-1,!1)}).catch(Ws),Promise.reject()):(P.delta&&o.go(-P.delta,!1),se(m,N,h))).then(m=>{m=m||Rt(N,h,!1),m&&(P.delta&&!ht(m,8)?o.go(-P.delta,!1):P.type===zs.pop&&ht(m,20)&&o.go(-1,!1)),Ct(N,h,m)}).catch(Ws)}))}let zt=Ss(),Fe=Ss(),le;function se(C,O,P){yt(C);const N=Fe.list();return N.length?N.forEach(ne=>ne(C,O,P)):console.error(C),Promise.reject(C)}function ft(){return le&&l.value!==wt?Promise.resolve():new Promise((C,O)=>{zt.add([C,O])})}function yt(C){return le||(le=!C,Ds(),zt.list().forEach(([O,P])=>C?P(C):O()),zt.reset()),C}function st(C,O,P,N){const{scrollBehavior:ne}=e;if(!ss||!ne)return Promise.resolve();const h=!P&&Jp(fr(C.fullPath,0))||(N||!P)&&history.state&&history.state.scroll||null;return Dn().then(()=>ne(C,O,h)).then(m=>m&&qp(m)).catch(m=>se(m,C,O))}const Oe=C=>o.go(C);let Qt;const Xt=new Set,an={currentRoute:l,listening:!0,addRoute:F,removeRoute:D,hasRoute:H,getRoutes:k,resolve:R,options:e,push:K,replace:ye,go:Oe,back:()=>Oe(-1),forward:()=>Oe(1),beforeEach:u.add,beforeResolve:r.add,afterEach:i.add,onError:Fe.add,isReady:ft,install(C){const O=this;C.component("RouterLink",If),C.component("RouterView",Tf),C.config.globalProperties.$router=O,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>rs(l)}),ss&&!Qt&&l.value===wt&&(Qt=!0,K(o.location).catch(ne=>{}));const P={};for(const ne in wt)P[ne]=We(()=>l.value[ne]);C.provide(fu,O),C.provide(Gi,un(P)),C.provide(Ro,l);const N=C.unmount;Xt.add(C),C.unmount=function(){Xt.delete(C),Xt.size<1&&(a=wt,tt&&tt(),tt=null,l.value=wt,Qt=!1,le=!1),N()}}};function be(C){return C.reduce((O,P)=>O.then(()=>Zt(P)),Promise.resolve())}return an}function Vf(e,t){const s=[],n=[],o=[],u=Math.max(t.matched.length,e.matched.length);for(let r=0;r<u;r++){const i=t.matched[r];i&&(e.matched.find(a=>hs(a,i))?n.push(i):s.push(i));const l=e.matched[r];l&&(t.matched.find(a=>hs(a,l))||o.push(l))}return[s,n,o]}var Wf=Object.defineProperty,Lf=Object.getOwnPropertyDescriptor,Uf=(e,t,s,n)=>{for(var o=n>1?void 0:n?Lf(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&Wf(t,s,o),o};let To=class extends me{close(t){this.$emit("close"),t.stopPropagation()}};To=Uf([he({emits:["close"]})],To);const xf=d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"},[d("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"})],-1),Kf=[xf];function Hf(e,t,s,n,o,u){return E(),_("button",{class:"close-btn",onClick:t[0]||(t[0]=(...r)=>e.close&&e.close(...r))},Kf)}const Yt=fe(To,[["render",Hf]]);var qf=Object.defineProperty,Gf=Object.getOwnPropertyDescriptor,Ji=(e,t,s,n)=>{for(var o=n>1?void 0:n?Gf(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&qf(t,s,o),o};let On=class extends me{constructor(){super(...arguments);v(this,"count")}};Ji([M()],On.prototype,"count",2);On=Ji([he({})],On);const Jf={key:1,class:"mji mji-no-box"},Yf={key:2,class:"mji mji-false"};function Zf(e,t,s,n,o,u){return E(),_("span",null,[e.count>0?(E(!0),_(q,{key:0},ue(e.count,r=>(E(),_("icon",{key:r,class:"mji mji-box"}))),128)):G("",!0),e.count===0?(E(),_("icon",Jf)):G("",!0),e.count===-1?(E(),_("icon",Yf)):G("",!0)])}const Xn=fe(On,[["render",Zf]]);var zf=Object.defineProperty,Qf=Object.getOwnPropertyDescriptor,Ft=(e,t,s,n)=>{for(var o=n>1?void 0:n?Qf(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&zf(t,s,o),o};let Ye=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"step");v(this,"value");v(this,"pop");v(this,"demand");v(this,"removeable");v(this,"pattern");v(this,"favor")}get name(){return Ie.TrimName(this.step.Name)}get time(){return this.step.Time}get iconPath(){return"item-"+this.step.Icon}get popularity(){return this.pop===void 0?"mji-popular-2":"mji-popular-"+this.pop.toString()}get demandBox(){return this.demand===void 0?2:Ht.GetDemand(this.demand)}get patternName(){return this.pattern===void 0?lt[0]:lt[this.pattern]}onClose(){this.$emit("remove")}onMouseIn(s){this.solver&&this.solver.event.onHoverEnter(this.step.Id,s.clientX,s.clientY)}onMouseOut(){this.solver&&this.solver.event.onHoverExit(this.step.Id)}unmounted(){this.onMouseOut()}};Ft([M()],Ye.prototype,"solver",2);Ft([M()],Ye.prototype,"step",2);Ft([M()],Ye.prototype,"value",2);Ft([M()],Ye.prototype,"pop",2);Ft([M()],Ye.prototype,"demand",2);Ft([M()],Ye.prototype,"removeable",2);Ft([M()],Ye.prototype,"pattern",2);Ft([M()],Ye.prototype,"favor",2);Ye=Ft([he({components:{Close:Yt,MjiBox:Xn},emits:["remove"]})],Ye);const Xf={class:"item-img"},eh={key:0,class:"mji mji-nekomimi icon-sub"},th={class:"item-text hide-md"},sh={class:"item-primary"},nh={class:"item-name"},oh={class:"item-desc"},uh={class:"step-value text"},rh=d("icon",{class:"blue-coin"},null,-1),ih={class:"step-time text"},lh={key:0,class:"step-pattern text"},ah={key:1,class:"step-pop"};function ch(e,t,s,n,o,u){const r=Z("close"),i=Z("MjiBox");return E(),_("div",{class:"step-item mji-step-box",onMouseenter:t[0]||(t[0]=(...l)=>e.onMouseIn&&e.onMouseIn(...l)),onMouseleave:t[1]||(t[1]=(...l)=>e.onMouseOut&&e.onMouseOut(...l))},[d("div",Xf,[d("icon",{class:ae(["item",e.iconPath])},null,2),e.favor?(E(),_("icon",eh)):G("",!0)]),d("div",th,[d("div",sh,[e.removeable?(E(),ve(r,{key:0,class:"item-remove",onClose:e.onClose},null,8,["onClose"])):G("",!0),d("span",nh,S(e.name),1)]),d("div",oh,[d("span",uh,[rh,I(S(e.value),1)]),d("span",ih,S(e.time)+"h",1),e.pattern?(E(),_("span",lh,S(e.patternName),1)):G("",!0),e.pop!==void 0?(E(),_("span",ah,[d("icon",{class:ae(["mji",e.popularity])},null,2)])):G("",!0),e.demand!==void 0?(E(),ve(i,{key:2,class:"step-demand",count:e.demandBox},null,8,["count"])):G("",!0)])])],32)}const Yi=fe(Ye,[["render",ch]]);var dh=Object.defineProperty,ph=Object.getOwnPropertyDescriptor,_t=(e,t,s,n)=>{for(var o=n>1?void 0:n?ph(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&dh(t,s,o),o};let Ze=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"steps");v(this,"values");v(this,"demands");v(this,"patterns");v(this,"pops");v(this,"removeable");v(this,"favors")}getStep(s){return this.solver.data.GetRecipe(s)}getClassName(s){return"step-"+this.getStep(s).Time}getDemand(s){if(!(!this.demands||this.demands.length<=s))return this.demands[s]}getPattern(s){if(!(!this.patterns||this.patterns.length<=s))return this.patterns[s]}getPopularity(s){if(!(!this.pops||this.pops.length<=s))return this.pops[s]}onRemove(s){this.$emit("remove",s)}isFavor(s){return this.favors?this.favors.find(n=>n==this.steps[s])!==void 0:!1}};_t([M()],Ze.prototype,"solver",2);_t([M()],Ze.prototype,"steps",2);_t([M()],Ze.prototype,"values",2);_t([M()],Ze.prototype,"demands",2);_t([M()],Ze.prototype,"patterns",2);_t([M()],Ze.prototype,"pops",2);_t([M()],Ze.prototype,"removeable",2);_t([M()],Ze.prototype,"favors",2);Ze=_t([he({components:{Step:Yi},emits:["remove"]})],Ze);const fh={class:"steps"};function hh(e,t,s,n,o,u){const r=Z("step");return E(),_("div",fh,[(E(!0),_(q,null,ue(e.steps,(i,l)=>(E(),ve(r,{key:l,solver:e.solver,class:ae(e.getClassName(i)),step:e.getStep(i),value:e.values[l],demand:e.getDemand(l),pattern:e.getPattern(i),pop:e.getPopularity(l),favor:e.isFavor(l),removeable:e.removeable,onRemove:a=>e.onRemove(l)},null,8,["solver","class","step","value","demand","pattern","pop","favor","removeable","onRemove"]))),128))])}const eo=fe(Ze,[["render",hh]]);var mh=Object.defineProperty,gh=Object.getOwnPropertyDescriptor,At=(e,t,s,n)=>{for(var o=n>1?void 0:n?gh(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&mh(t,s,o),o};let ze=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"batch");v(this,"deltaVal");v(this,"removeable");v(this,"demands");v(this,"patterns");v(this,"pops");v(this,"favors")}onRemove(s){this.$emit("remove",s)}};At([M()],ze.prototype,"solver",2);At([M()],ze.prototype,"batch",2);At([M()],ze.prototype,"deltaVal",2);At([M()],ze.prototype,"removeable",2);At([M()],ze.prototype,"demands",2);At([M()],ze.prototype,"patterns",2);At([M()],ze.prototype,"pops",2);At([M()],ze.prototype,"favors",2);ze=At([he({components:{Steps:eo},emits:["remove"]})],ze);const vh={key:0,class:"batch"},Eh={class:"batch-value"},Fh={class:"bench-value"},_h=d("icon",{class:"blue-coin"},null,-1),Ah={class:"bench-cost mji-text-small"},Ch={key:0};function yh(e,t,s,n,o,u){const r=Z("steps");return e.batch?(E(),_("div",vh,[qt(e.$slots,"default"),d("div",Eh,[d("span",Fh,[_h,I(S(e.batch.value),1)]),d("span",Ah,[I(" (-"+S(e.batch.cost),1),e.deltaVal?(E(),_("span",Ch,", "+S(e.deltaVal>0?"+":"")+S(e.deltaVal),1)):G("",!0),I(") ")])]),W(r,{solver:e.solver,steps:e.batch.steps,values:e.batch.stepValues,removeable:e.removeable,demands:e.demands,patterns:e.patterns,pops:e.pops,favors:e.favors,onRemove:e.onRemove},null,8,["solver","steps","values","removeable","demands","patterns","pops","favors","onRemove"])])):G("",!0)}const Zi=fe(ze,[["render",yh]]);var bh=Object.defineProperty,wh=Object.getOwnPropertyDescriptor,hu=(e,t,s,n)=>{for(var o=n>1?void 0:n?wh(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&bh(t,s,o),o};let Qs=class extends me{constructor(){super(...arguments);v(this,"modelValue",0);v(this,"value",0)}select(s){this.value=s,this.$emit("update:modelValue",s)}isSelected(s){return this.value==s}mounted(){this.onModelChange()}onModelChange(){this.value=this.modelValue}};hu([M()],Qs.prototype,"modelValue",2);hu([_e("modelValue")],Qs.prototype,"onModelChange",1);Qs=hu([he({emits:["update:modelValue"]})],Qs);const Bh={class:"datebar",role:"group","aria-label":"..."},Dh=["onClick"];function $h(e,t,s,n,o,u){return E(),_("div",Bh,[d("button",{class:ae(["sched",{"sched-yellow":!e.isSelected(0),"sched-green":e.isSelected(0)}]),onClick:t[0]||(t[0]=r=>e.select(0))}," - ",2),(E(),_(q,null,ue(7,r=>d("button",{key:r,class:ae(["sched",{"sched-red":!e.isSelected(r),"sched-green":e.isSelected(r)}]),onClick:i=>e.select(r)},S(r),11,Dh)),64))])}const Ph=fe(Qs,[["render",$h]]);var kh=Object.defineProperty,Sh=Object.getOwnPropertyDescriptor,to=(e,t,s,n)=>{for(var o=n>1?void 0:n?Sh(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&kh(t,s,o),o};let gs=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"batches",[]);v(this,"tension",0);v(this,"maxTime",24);v(this,"demands",[]);v(this,"banList",[]);v(this,"setSteps",[]);v(this,"setValues",[]);v(this,"currentWorker",3);v(this,"date",0)}get banArr(){const s=[];for(let n=0;n<this.banList.length;n++)this.banList[n]&&s.push(n);return s}async solve(){let s=await this.solver.solveMultiDay(this.demands,this.setSteps,this.banArr,this.tension,this.currentWorker,this.maxTime);s.forEach(n=>n.batches.forEach(o=>{o.workerVal!=0&&(o.workerVal-=this.sumVal)})),this.batches=s.slice(0,100)}get pop_pattern(){return this.solver.popPattern}get objects(){return this.solver.Recipes.filter(s=>s.Name)}get maxWorker(){return this.solver.config.workers}get sumVal(){let s=0;for(let n=0;n<this.setValues.length;n++)s+=this.setValues[n].value*this.setSteps[n].worker;return s}get sumCost(){let s=0;for(let n=0;n<this.setValues.length;n++)s+=this.setValues[n].cost*this.setSteps[n].worker;return s}get netVal(){return this.sumVal-this.sumCost}get customDemand(){return this.date===0}updateDemands(){this.date!==0&&(this.demands=new Array(...this.solver.getPredictDemands(this.date-1)))}mounted(){for(;this.demands.length<this.solver.Recipes.length;)this.demands.push(9);for(;this.banList.length<this.solver.Recipes.length;)this.banList.push(!1)}trimName(s){return Ie.TrimName(s)}popularity(s){return this.pop_pattern>=this.solver.Popularity.length?"mji-popular-3":"mji-popular-"+this.solver.Popularity[this.pop_pattern][s].toString()}getDemandBox(s){return Ht.GetDemand(s)}changeDemandBox(s){if(!this.customDemand)return;let o=(Ht.GetDemand(this.demands[s])+1)%5;this.demands[s]=Ht.FromDemand(o),this.simulateSet(),this.solve()}add(s){this.batches[s].batches.forEach(o=>{this.setSteps.push(new Se(o.workers,o.steps)),this.setValues.push(o)}),this.simulateSet(),this.solve()}removeSet(s){this.setSteps.splice(s,1),this.setValues.splice(s,1),this.simulateSet(),this.solve()}async simulateSet(){this.setValues=await this.solver.simulateMulti(this.setSteps,this.demands,this.tension)}setWorkerNum(s,n){let o=Number(n.target.value);this.setSteps[s].worker=o,this.simulateSet(),this.solve()}onMouseIn(s,n){this.solver.event.onHoverEnter(s,n.clientX,n.clientY)}onMouseOut(s){this.solver.event.onHoverExit(s)}};to([M()],gs.prototype,"solver",2);to([_e("date")],gs.prototype,"updateDemands",1);to([_e("demands",{deep:!0}),_e("tension")],gs.prototype,"simulateSet",1);gs=to([he({components:{BatchView:Zi,DateBar:Ph,MjiBox:Xn}})],gs);const jh={class:"container"},Ih={class:"container-left setting"},Oh={class:"pure-form"},Mh=d("legend",null,"",-1),Rh={class:"solve-sitting pure-control-group"},Th=d("div",null,[d("label",{for:"tension"},""),d("label",{for:"maxTime"},""),d("label",{for:"currentWorker"},"")],-1),Nh=["max"],Vh={class:"pure-form pure-form-stacked pure-g"},Wh=d("legend",null,"",-1),Lh={class:"objects"},Uh=rn('<div class="objects-header pure-g"><span class="item-name pure-u-8-24"></span><span class="item-pop pure-u-4-24"></span><span class="item-demand pure-u-9-24"></span><span class="item-demand pure-u-3-24"></span></div>',1),xh=["onMouseenter","onMouseleave"],Kh={class:"item-pop pure-u-2-24"},Hh=["onUpdate:modelValue"],qh={class:"item-disable pure-u-3-24"},Gh=["onUpdate:modelValue"],Jh={class:"container-right solve"},Yh=d("h1",null,"",-1),Zh={key:0},zh={key:1,class:"set-workers mji-info-box"},Qh={key:0,class:"worker-value"},Xh=d("icon",{class:"blue-coin"},null,-1),em=d("icon",{class:"blue-coin"},null,-1),tm={key:0},sm=d("icon",{class:"blue-coin"},null,-1),nm=["onClick"],om={class:"set-worker-num"},um=["max","value","onInput"],rm=d("span",{class:"cross"},"",-1),im=["onClick"],lm={class:"batches-left hide-xs"},am={class:"bench-value"},cm=d("icon",{class:"blue-coin"},null,-1),dm={class:"bench-cost mji-text-small"},pm={class:"batches-right"},fm={class:"batch-worker-num"},hm=d("span",{class:"cross"},"",-1);function mm(e,t,s,n,o,u){const r=Z("date-bar"),i=Z("MjiBox"),l=Z("batch-view");return E(),_("div",jh,[d("div",Ih,[d("form",Oh,[Mh,d("div",Rh,[Th,d("div",null,[ee(d("input",{id:"tension","onUpdate:modelValue":t[0]||(t[0]=a=>e.tension=a),type:"number",min:"0",max:"35",placeholder:""},null,512),[[je,e.tension]]),ee(d("input",{id:"maxTime","onUpdate:modelValue":t[1]||(t[1]=a=>e.maxTime=a),type:"number",min:"4",max:"24",placeholder:""},null,512),[[je,e.maxTime]]),ee(d("input",{id:"currentWorker","onUpdate:modelValue":t[2]||(t[2]=a=>e.currentWorker=a),type:"number",min:"1",max:e.maxWorker,placeholder:""},null,8,Nh),[[je,e.currentWorker]])])])]),d("div",Vh,[Wh,W(r,{modelValue:e.date,"onUpdate:modelValue":t[3]||(t[3]=a=>e.date=a)},null,8,["modelValue"])]),d("div",Lh,[Uh,(E(!0),_(q,null,ue(e.objects,(a,c)=>(E(),_("div",{key:c,class:"object-item pure-form pure-g"},[d("span",{class:"item-name pure-u-9-24",onMouseenter:p=>e.onMouseIn(a.Id,p),onMouseleave:p=>e.onMouseOut(a.Id)},S(e.trimName(a.Name)),41,xh),d("span",Kh,[d("icon",{class:ae(["mji",e.popularity(a.Id)])},null,2)]),W(i,{class:ae(["item-demand-box pure-u-6-24",{"pure-u-6-24":e.customDemand,"pure-u-10-24":!e.customDemand}]),count:e.getDemandBox(e.demands[a.Id]),onClick:p=>e.changeDemandBox(a.Id)},null,8,["class","count","onClick"]),e.customDemand?ee((E(),_("input",{key:0,"onUpdate:modelValue":p=>e.demands[a.Id]=p,class:"item-demand pure-u-4-24",type:"number",placeholder:""},null,8,Hh)),[[je,e.demands[a.Id],void 0,{number:!0}]]):G("",!0),d("span",qh,[ee(d("input",{"onUpdate:modelValue":p=>e.banList[a.Id]=p,type:"checkbox"},null,8,Gh),[[Bt,e.banList[a.Id]]])])]))),128))])]),d("div",Jh,[Yh,e.batches.length==0?(E(),_("p",Zh,"  ")):G("",!0),e.setValues.length>0?(E(),_("div",zh,[d("div",null,[e.setValues.length>0?(E(),_("span",Qh,[I("  "),Xh,I(S(e.sumVal)+" ( ",1),em,I(S(-e.sumCost)+") ",1),e.solver.config.showNetValue?(E(),_("span",tm,[I(" = "),sm,I(S(e.netVal),1)])):G("",!0)])):G("",!0)]),(E(!0),_(q,null,ue(e.setValues,(a,c)=>(E(),_("div",{key:c+1e3,class:"set-worker"},[W(l,{solver:e.solver,batch:a},{default:oe(()=>[d("button",{class:"sched sched-red add-item",onClick:p=>e.removeSet(c)}," - ",8,nm),d("div",om,[d("input",{type:"number",min:"0",max:e.maxWorker,value:e.setSteps[c].worker,onInput:p=>e.setWorkerNum(c,p)},null,40,um),rm])]),_:2},1032,["solver","batch"])]))),128))])):G("",!0),d("button",{class:"pure-button",onClick:t[4]||(t[4]=(...a)=>e.solve&&e.solve(...a))},"  "),d("div",null,[(E(!0),_(q,null,ue(e.batches,(a,c)=>(E(),_("div",{key:c,class:"mji-info-box batches-item",onClick:p=>e.add(c)},[d("div",lm,[d("span",am,[cm,I(S(a.value),1)]),d("span",dm," (-"+S(a.cost)+") ",1)]),d("div",pm,[(E(!0),_(q,null,ue(a.batches,(p,f)=>(E(),ve(l,{key:c*1e3+f,solver:e.solver,batch:p,"delta-val":p.workerVal},{default:oe(()=>[d("div",fm,[I(S(p.workers),1),hm])]),_:2},1032,["solver","batch","delta-val"]))),128))])],8,im))),128))])])])}const gm=fe(gs,[["render",mm]]);var vm=Object.defineProperty,Em=Object.getOwnPropertyDescriptor,zi=(e,t,s,n)=>{for(var o=n>1?void 0:n?Em(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&vm(t,s,o),o};let Mn=class extends me{constructor(){super(...arguments);v(this,"solver")}get year(){return new Date().getFullYear()}get demoStep(){return ul[13]}get build(){return new Date(1771119172627).toLocaleString()}};zi([M()],Mn.prototype,"solver",2);Mn=zi([he({components:{StepsComp:eo,Step:Yi,Close:Yt}})],Mn);const dt=e=>(ti("data-v-549e8fd0"),e=e(),si(),e),Fm={class:"about"},_m=rn('<h1 data-v-549e8fd0></h1><p data-v-549e8fd0></p><p data-v-549e8fd0>  </p><p data-v-549e8fd0> <a href="https://nga.178.com/read.php?tid=33443333" target="_blank" data-v-549e8fd0></a> </p><h2 data-v-549e8fd0></h2><p data-v-549e8fd0></p><p data-v-549e8fd0></p><h2 data-v-549e8fd0></h2><p data-v-549e8fd0></p><p data-v-549e8fd0><del data-v-549e8fd0></del></p><p data-v-549e8fd0>ACT</p><h2 data-v-549e8fd0></h2><p data-v-549e8fd0></p><p data-v-549e8fd0></p><p data-v-549e8fd0></p><p data-v-549e8fd0></p><h2 data-v-549e8fd0></h2><p data-v-549e8fd0></p><p data-v-549e8fd0><a href="https://docs.qq.com/doc/DTUNRZkJjTVhvT2Nv" target="_blank" data-v-549e8fd0></a></p><p data-v-549e8fd0> <button class="pure-button" style="width:56px;" data-v-549e8fd0><icon class="mji mji-nekomimi" style="--scale:0.6;" data-v-549e8fd0></icon></button> </p><h1 data-v-549e8fd0></h1><h2 data-v-549e8fd0></h2><p data-v-549e8fd0></p><h2 data-v-549e8fd0></h2><p data-v-549e8fd0></p><h3 data-v-549e8fd0></h3><ul data-v-549e8fd0><li data-v-549e8fd0></li><li data-v-549e8fd0></li><li data-v-549e8fd0><button class="sched sched-delete" data-v-549e8fd0></button> </li><li data-v-549e8fd0><button class="sched sched-demand" data-v-549e8fd0></button> </li><li data-v-549e8fd0></li><li data-v-549e8fd0></li><li data-v-549e8fd0>  <span data-v-549e8fd0><icon class="mji mji-popular-1" data-v-549e8fd0></icon><icon class="mji mji-popular-2" data-v-549e8fd0></icon><icon class="mji mji-popular-3" data-v-549e8fd0></icon><icon class="mji mji-popular-4" data-v-549e8fd0></icon></span>  </li><li data-v-549e8fd0>:  =  *  / </li><li data-v-549e8fd0>  </li><li data-v-549e8fd0> xx <span data-v-549e8fd0><icon class="mji mji-box" data-v-549e8fd0></icon></span>[10] 110 </li></ul><h3 data-v-549e8fd0></h3><p data-v-549e8fd0>1-4</p><p data-v-549e8fd0> 1-4   </p><p data-v-549e8fd0>   </p><p data-v-549e8fd0> ACTFFXIVMon </p><h2 data-v-549e8fd0></h2><p data-v-549e8fd0></p>',34),Am=rn('<li data-v-549e8fd0></li><li data-v-549e8fd0>1</li><li data-v-549e8fd0></li><li data-v-549e8fd0></li><li data-v-549e8fd0></li><li data-v-549e8fd0> x <icon class="blue-coin" data-v-549e8fd0></icon>1234:  </li><li data-v-549e8fd0><button class="sched sched-add" data-v-549e8fd0></button>:  </li><li data-v-549e8fd0>x</li><li data-v-549e8fd0>3</li>',9),Cm=dt(()=>d("span",null,"",-1)),ym=dt(()=>d("li",null,[d("icon",{class:"mji mji-nekomimi"}),I(":  ")],-1)),bm=dt(()=>d("h3",null,"",-1)),wm=dt(()=>d("p",null,"",-1)),Bm=rn('<li data-v-549e8fd0>  </li><li data-v-549e8fd0>  <li data-v-549e8fd0><ul data-v-549e8fd0></ul><ul data-v-549e8fd0></ul><ul data-v-549e8fd0></ul></li></li><li data-v-549e8fd0>  </li><li data-v-549e8fd0>  <icon class="blue-coin" data-v-549e8fd0></icon>1234 (<icon class="blue-coin" data-v-549e8fd0></icon>-123) </li><li data-v-549e8fd0> <icon class="blue-coin" data-v-549e8fd0></icon>1234:  </li><li data-v-549e8fd0> (-123, +45): <ul data-v-549e8fd0><li data-v-549e8fd0>-123: </li><li data-v-549e8fd0>+45: </li></ul></li><li data-v-549e8fd0></li>',7),Dm=dt(()=>d("li",null,[d("icon",{class:"mji mji-popular-2"}),I(":  ")],-1)),$m=dt(()=>d("li",null,[d("icon",{class:"mji mji-box"}),I(":  ")],-1)),Pm=dt(()=>d("li",null,"2: ",-1)),km=rn('<h2 data-v-549e8fd0></h2><p data-v-549e8fd0></p><ul data-v-549e8fd0><li data-v-549e8fd0></li><li data-v-549e8fd0>24</li><li data-v-549e8fd0>&quot;-&quot;</li><li data-v-549e8fd0></li><li data-v-549e8fd0></li></ul><p data-v-549e8fd0></p><h2 data-v-549e8fd0>ACT</h2><p data-v-549e8fd0>ACT</p><ol data-v-549e8fd0><li data-v-549e8fd0> <a href="https://github.com/ffxiv-cyou/island-craftwork-act-plugin/releases/latest/" target="_blank" data-v-549e8fd0>Github</a>ACT </li><li data-v-549e8fd0>ACTOverlayPluginNGLD</li><li data-v-549e8fd0></li><li data-v-549e8fd0></li></ol><h1 data-v-549e8fd0></h1>',8),Sm=dt(()=>d("a",{href:"https://ffxiv.cyou",target:"_blank"},"",-1)),jm=dt(()=>d("a",{href:"https://github.com/ffxiv-cyou/ffxiv-island-sanctuary-craftwork",target:"_blank"},"Github",-1)),Im=dt(()=>d("a",{href:"https://nga.178.com/read.php?tid=34882091",target:"_blank"},"",-1));function Om(e,t,s,n,o,u){const r=Z("step"),i=Z("close");return E(),_("div",Fm,[_m,d("ul",null,[Am,d("li",null,[W(r,{value:52,step:e.demoStep},null,8,["step"]),I(": "),Cm]),ym]),bm,wm,d("ul",null,[Bm,d("li",null,[W(r,{value:52,step:e.demoStep,pop:2,demand:10,pattern:1,removeable:!0},null,8,["step"]),d("ul",null,[Dm,$m,Pm,d("li",null,[W(i),I(":  ")])])])]),km,d("p",null,""+S(e.build)+" |  6.5 /  6.5",1),d("p",null,[I("  2022-"+S(e.year)+" ",1),Sm,I(" | "),jm,I(" | "),Im,I(" | ALL FINAL FANTASY XIV CONTENT IS PROPERTY OF SQUARE ENIX CO., LTD ")])])}const Mm=fe(Mn,[["render",Om],["__scopeId","data-v-549e8fd0"]]);var Rm=Object.defineProperty,Tm=Object.getOwnPropertyDescriptor,Qe=(e,t,s,n)=>{for(var o=n>1?void 0:n?Tm(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&Rm(t,s,o),o};let Ne=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"popPattern");v(this,"demandPats");v(this,"demandPatsRaw");v(this,"demands");v(this,"demandsRaw");v(this,"lastDemands");v(this,"changes");v(this,"demandPatName")}get objects(){return this.solver.Recipes.filter(s=>s.Name)}get patternName(){return this.demandPatName??""}get patternNames(){return lt}get rawMode(){return this.demandsRaw!==void 0}get hasLasDemand(){return this.lastDemands!==void 0&&this.lastDemands.length>0}rawDemand(s,n){if(this.demandsRaw){var o=this.demandsRaw[s-1];return!o||o.length==0?2:o[n]??2}return 9}lastDemandRaw(s){return this.lastDemands?this.lastDemands[s]??-128:-128}lastDemandText(s){const n=this.lastDemandRaw(s);return n===-128?"?":n}lastDemand(s){const n=this.lastDemandRaw(s);return n===-128?-1:Ht.GetDemand(n)}demand(s,n){if(this.rawMode)return Ht.GetDemand(this.rawDemand(s,n));if(this.demands){var o=this.demands[s-1];return!o||o.length==0?2:o[n]??2}return 2}change(s,n){if(this.changes){var o=this.changes[s-1];return!o||o.length==0?2:o[n]??2}return 2}pattern(s){var n=this.demandPats[s]??0;let o=this.patternMask(s);if(o!==void 0){for(var u=0;u<12;u++)if(o&1<<u){n=u+1;break}}return lt[n]}patternUnionName(s){let n=this.patternMask(s),o=this.bitCount(n);if(o===0||o>5)return lt[0];let u="";for(let r=0;r<6;r++){let i=(n&1<<r*2)>0,l=(n&1<<r*2+1)>0;i&&l?u+=(r+2).toString()+"/":i?u+=lt[1+r*2]+"/":l&&(u+=lt[1+r*2+1]+"/")}return u.endsWith("/")&&(u=u.substring(0,u.length-1)),u}patternMask(s){return this.demandPatsRaw===void 0?0:this.demandPatsRaw[s]}uniquePattern(s){if(this.demandPatsRaw===void 0)return!0;let n=this.demandPatsRaw[s];return this.bitCount(n)<=1}bitCount(s){return s=s-(s>>1&1431655765),s=(s&858993459)+(s>>2&858993459),(s+(s>>4)&252645135)*16843009>>24}onDemandsPatsRawChange(){if(this.demandPatsRaw)for(var s=0;s<this.demandPatsRaw.length;s++){let o=this.demandPatsRaw[s];if(this.bitCount(o)!=1){this.demandPats[s]=0;continue}for(var n=0;n<12;n++)if(o&1<<n){this.demandPats[s]=n+1;break}}}changeClass(s,n){switch(this.change(s,n)){case 0:return"mji-change-2-up";case 1:return"mji-change-1-up";case 2:return"mji-change-0";case 3:return"mji-change-1-down";case 4:return"mji-change-2-down";default:return"mji-change-0"}}iconPath(s){return"item-"+s}popularityClass(s){return this.popPattern>=this.solver.Popularity.length||this.popPattern===0?"mji-popular-3":"mji-popular-"+this.solver.Popularity[this.popPattern][s].toString()}trimName(s){return Ie.TrimName(s)}};Qe([M()],Ne.prototype,"solver",2);Qe([M()],Ne.prototype,"popPattern",2);Qe([M()],Ne.prototype,"demandPats",2);Qe([M()],Ne.prototype,"demandPatsRaw",2);Qe([M()],Ne.prototype,"demands",2);Qe([M()],Ne.prototype,"demandsRaw",2);Qe([M()],Ne.prototype,"lastDemands",2);Qe([M()],Ne.prototype,"changes",2);Qe([M()],Ne.prototype,"demandPatName",2);Qe([_e("demandPatsRaw")],Ne.prototype,"onDemandsPatsRawChange",1);Ne=Qe([he({components:{MjiBox:Xn}})],Ne);const Nm={class:"demands mji-wooden-plate"},Vm={class:"demand-header mji-text-small mji-text-orange mji-title"},Wm=d("span",{class:"demand-name"},"",-1),Lm=d("span",{class:"demand-pop"},"",-1),Um={key:0,class:"demand-change"},xm={class:"demand-pat"},Km={class:"demand-items"},Hm={class:"demand-name"},qm={class:"demand-pop"},Gm={key:0,class:"demand-change"},Jm={class:"change"},Ym={class:"demand-raw mji-text-small"},Zm={class:"change"},zm={key:1,class:"demand-raw mji-text-small"},Qm={class:"demand-pat"},Xm={key:0},e0={key:1,class:"select"},t0=["onUpdate:modelValue"],s0={value:"0"},n0=["value"];function o0(e,t,s,n,o,u){const r=Z("MjiBox");return E(),_("div",Nm,[qt(e.$slots,"header"),d("div",Vm,[Wm,Lm,e.hasLasDemand?(E(),_("span",Um,"7")):G("",!0),(E(),_(q,null,ue(7,i=>d("span",{key:i,class:"demand-change"},""+S(i)+"",1)),64)),d("span",xm,S(e.patternName),1)]),d("div",Km,[(E(!0),_(q,null,ue(e.objects,(i,l)=>(E(),_("div",{key:l,class:"demand-item mji-text-brown"},[d("span",Hm,[d("icon",{class:ae(["item",e.iconPath(i.Icon)])},null,2),I(" "+S(e.trimName(i.Name)),1)]),d("span",qm,[d("icon",{class:ae(["mji",e.popularityClass(i.Id)])},null,2)]),e.hasLasDemand?(E(),_("span",Gm,[W(r,{class:"demand",count:e.lastDemand(i.Id)},null,8,["count"]),d("span",Jm,[d("span",Ym,"["+S(e.lastDemandText(i.Id))+"]",1)])])):G("",!0),(E(),_(q,null,ue(7,a=>d("span",{key:a,class:"demand-change"},[W(r,{class:"demand",count:e.demand(a,i.Id)},null,8,["count"]),d("span",Zm,[e.rawMode?(E(),_("span",zm,"["+S(e.rawDemand(a,i.Id))+"]",1)):(E(),_("icon",{key:0,class:ae(["mji",e.changeClass(a,i.Id)])},null,2))])])),64)),d("span",Qm,[e.uniquePattern(i.Id)?(E(),_("span",Xm,S(e.pattern(i.Id)),1)):(E(),_("div",e0,[ee(d("select",{"onUpdate:modelValue":a=>e.demandPats[i.Id]=a,class:"mji-text-brown"},[d("option",s0,S(e.patternUnionName(i.Id)),1),(E(!0),_(q,null,ue(e.patternNames,(a,c)=>(E(),_(q,null,[c!=0&&(e.patternMask(i.Id)&1<<c-1)>0?(E(),_("option",{key:c,value:c},S(a),9,n0)):G("",!0)],64))),256))],8,t0),[[nu,e.demandPats[i.Id]]])]))])]))),128))]),qt(e.$slots,"footer")])}const Qi=fe(Ne,[["render",o0]]);var u0=Object.defineProperty,r0=Object.getOwnPropertyDescriptor,Bs=(e,t,s,n)=>{for(var o=n>1?void 0:n?r0(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&u0(t,s,o),o};let Ot=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"inputData");v(this,"datapacks",["","","","","","",""]);v(this,"data",[]);v(this,"patterns",[]);v(this,"patternMasks",[]);v(this,"demands",[]);v(this,"changes",[]);v(this,"lastWeekPat","");v(this,"lastDemands",[])}get config(){return this.solver.config}get firstValidData(){for(let s=0;s<this.data.length;s++)if(this.data[s].length>0)return this.data[s];return new Uint8Array(0)}get popPattern(){var s=this.firstValidData;return!s||s.length<2?0:s[0]+1}get popPatternNext(){var s=this.firstValidData;return!s||s.length<2?0:s[1]+1}fromInputData(){if(!this.inputData)return;let s=new Date,n=s.getUTCDay(),o=s.getUTCHours();n=n+7-2,o<8&&n--,n%=7;let u=!1;this.datapacks[n]=this.inputData;for(let r=n+1;r<this.datapacks.length;r++)this.datapacks[r]&&(u=!0),this.datapacks[r]="";u&&(this.lastWeekPat=this.solver.shareLink)}async onLastWeekPatChange(){let n=/(.*#\/pat\/)?([0-9A-Za-z-_]+)/.exec(this.lastWeekPat);if(n&&n.length>0){let o=zn(n[2]),u=[0,1,2,3,4,5,6,7,8,9,10,11,12],r=await this.solver.demandsFromPredict(u,6);r[0]=-128;let i=[];for(let l=1;l<o.length;l++)i.push(r[o[l]&15]),i.push(r[(o[l]&240)>>4]);this.lastDemands=i}else this.lastDemands=[];this.onDatapackChange()}onDatapackChange(){this.reload(),this.saveData()}reload(){this.data.length=0;for(let s=0;s<this.datapacks.length;s++)this.data.push(cu.Hex2U8Array(this.datapacks[s]));this.demands.length=0,this.changes.length=0;for(let s=0;s<this.data.length;s++){const n=this.data[s];let o=[],u=[];for(let r=2;r<n.length;r++)o.push(n[r]>>4&15),u.push(n[r]>>0&15);this.demands.push(o),this.changes.push(u)}this.predict()}async predict(){let s=[];for(let n=0;n<this.data.length&&this.data[n].length>0;n++)s.push(this.data[n]);if(s.length!=0){for(;this.lastDemands.length<s[0].length;)this.lastDemands.push(-128);this.patternMasks=await this.solver.predictFromPacketsAdv(s,new Uint8Array(this.lastDemands)),console.log(s,this.lastDemands,this.patternMasks)}}mounted(){this.loadData(),this.fromInputData(),this.reload()}loadData(){let s=localStorage.getItem("MJICraftworkPatPred");if(!s)return;var n=JSON.parse(s);for(let u=0;u<n.length;u++)this.datapacks[u]=n[u];let o=localStorage.getItem("MJILastWeekPat");o&&(this.lastWeekPat=o)}saveData(){let s=JSON.stringify(this.datapacks);localStorage.setItem("MJICraftworkPatPred",s),localStorage.setItem("MJILastWeekPat",this.lastWeekPat)}applyPredict(s){for(let n=0;n<this.config.demandPatterns.length&&n<this.patterns.length;n++)!s&&this.config.demandPatterns[n]!=0||(this.config.demandPatterns[n]=this.patterns[n]);this.solver.popPattern=this.popPattern,this.solver.updatePredictDemands(),this.config.save(),this.$emit("on-apply")}};Bs([M()],Ot.prototype,"solver",2);Bs([M()],Ot.prototype,"inputData",2);Bs([_e("inputData")],Ot.prototype,"fromInputData",1);Bs([_e("lastWeekPat")],Ot.prototype,"onLastWeekPatChange",1);Bs([_e("datapacks",{deep:!0})],Ot.prototype,"onDatapackChange",1);Ot=Bs([he({emits:["on-apply"],components:{DemandList:Qi}})],Ot);const i0={class:"mji-text-brown mji-title"},l0=d("span",null,"",-1),a0={class:"demand-control"},c0={class:"mji-text-small"},d0=d("span",{class:"mji-text-orange"}," ",-1),p0={class:"mji-text-brown"},f0=d("span",{class:"hide-xs"}," ",-1),h0=d("span",{class:"hide-xs"}," ",-1),m0={class:"demand-packet mji-text-small mji-title"},g0=d("span",{class:"demand-packet-title mji-text-orange"},"",-1),v0={class:"demand-packet mji-text-small mji-title"},E0=d("span",{class:"demand-packet-title mji-text-orange"},"",-1),F0=["onUpdate:modelValue","placeholder","required"],_0={class:"demand-control mji-footer"};function A0(e,t,s,n,o,u){const r=Z("DemandList");return E(),ve(r,{solver:e.solver,"pop-pattern":e.popPattern,"demand-pats":e.patterns,demands:e.demands,changes:e.changes,"demand-pat-name":"","last-demands":e.lastDemands,"demand-pats-raw":e.patternMasks},{header:oe(()=>[d("div",i0,[l0,d("span",a0,[d("span",c0,[d0,d("span",p0,[f0,I(S(e.popPattern)+" / ",1),h0,I(S(e.popPatternNext),1)])])])]),d("div",m0,[g0,ee(d("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>e.lastWeekPat=i),class:"mji-text-brown",type:"text",placeholder:""},null,512),[[je,e.lastWeekPat]])]),d("div",v0,[E0,(E(),_(q,null,ue(7,i=>ee(d("input",{key:i,"onUpdate:modelValue":l=>e.datapacks[i-1]=l,type:"text",placeholder:""+i+"",required:e.datapacks[i]!==void 0&&e.datapacks[i].length>0,pattern:"[0-9a-fA-F]+",class:"mji-text-brown"},null,8,F0),[[je,e.datapacks[i-1]]])),64))])]),footer:oe(()=>[d("div",_0,[d("button",{class:"mji",onClick:t[1]||(t[1]=i=>e.applyPredict(!1))},"  "),d("button",{class:"mji",onClick:t[2]||(t[2]=i=>e.applyPredict(!0))},"  ")])]),_:1},8,["solver","pop-pattern","demand-pats","demands","changes","last-demands","demand-pats-raw"])}const C0=fe(Ot,[["render",A0]]),Dr=["GqBrdBWjiCvLV1aTlsmBo0pLwysUXMcoFieJSllnMsErPEV7qGFZa5EjR6gMAAA","VGC0pGyUcYI6tyG3GEySLJqbFbpjZYVcxzOISrFzxWlSuJIWR6MsPKW4YXQJAAA","IMB5tVw2mpKIxHzDaphEt0sbETemuGpSUSKzwVdDJpqoQ3ElyLlmI0ipFbcMAAA","NGDKurLBaFN0KZK2SUSTesayHFEYWHOHOrWsLJVLF2iTQsZYcatjoTiyVJwHAAA","YaB4lCG0UVzCk0HJPFGzp4Ryhlx4orOWZrpbpMm4YSeTHIdCVqsTW2Q6eSgMAAA","IXBmmGjBocNDi7Wyy3VkoTRUgqEnknycs5WaOlx7gmGkMmlxhUyLMlF0a6kMAAA","UYC5QniSqRZZWKi7YxQ0Uny8y1dqTDFxYywqpnE0tclYtHqSPBZIlsFzpYsCAAA","Y6CzE3xLwla0k3pbtEcYmpKGWcoSJ4FmhTzMZHGbo4WCyTcbokU2hCVpyxoHAAA","XsCjEhZGMcMrt2usu1OlkleMjEKHlIdhqZWUgntBNlqMQhO6nHVWJreowUMJAAA","KKCaiTSRLIhKe2N1NrfGLBVcokZcuJSxMbK3JpNKUXyYMki2cVyqwmhXwUMJAAA","WmAoGop6lVTGSCbLgZLBs5WXVzuzQqfLw2FEVoe8GTqSvHKkUYOWyjQhsAcGAAA","MzBSLEeoZXRzyaiLEcZ2ysW2K5M6tCQZuBmVbItFohO3w2pHWSiBKmxxNUsJAAA","S6Cli4h8YURzSiGXxceYkhu7ZqnLEjJMNVN2XCYUirNpsnXBmkOIxxO6NUsJAAA","L3BlmCxEhFfBZSUaN8yTO4dpsYoqQsGzmraLxpdKUbIjh1umQxx5lrojQVAMAAA","WWASt8QZOUiTFqIzh3XLW6UrJLh1qMrJZkGMyrEnZUljJBPJi6dVuBfDQVQMAAA","FsCLNGGRIjUreTdrKzFXFIysRFeaxpVqyLjKIbdqhZNkpHgsG5NFW8OJQVQMAAA","F7Bhi1NxShnEe6nCwZZ1gmJaias4c8xLRSPGNWKUGHsaJoxzpFtZSBuconYDAAA","TKDKdHOFKrlZKhwbOHJMtWN7EjaIZcGcZEuJnLYSRzpFWbIxhqectaLHhDYBAAA","DKAYYRTCYqhHQlY6VYuzOVLHe5vIxsuUqTexpsJYRzmBslo8lkF3EripNsQFAAA","HGCbSpyxdSwjaCuivGxzYxyJeIEaSntFNUV5JLbJE4WKQVe6ySNGp2OMWRsCAAA","PsAVexOqKEs1JMmnuZSJPKTFxre4YWcmNYEimDRnFbyaEnjEpbZDclw2uBkKAAA","D7BqphdMU7FjN3IhFFSzKZqZiIzIdWy0yrJlhXShOcIqWawYNrcUOiZ4uBkKAAA","B1CBw2QapksxKJfCp4kUWzl7daLMU2uShkxLcqlsFbMYvIdlI6RZuklxBgAAAAA","JJCjakeKscQ4I5W8nJFKYVhWy0clYxiyeyy3F8JphFpDWbhnLKFTR6OMtpECAAA","FbDDulvDKnu5eJZ0xGhWdROmwUiiiSITyUWhgWdTTCt5wmQZWLPKt5KkOGUBAAA","OqBMhnOiY0FMu6dFESlauWl8M5G1yMi3hlJCJco2lxuIlyyhVLZTJJGjZ4wLAAA","DTCyaMw1lSFijBrKtXSxNppEaKkXeXuMSzWCGVYns8Sao4K1xHahxzVCFokLAAA","AnCZwlhscruExaKVNoFBFHupvGEmeqNYQ8ujSJc7ZcLBS2cqiRUjjJFUa3oDAAA","NkAWqCGTs3V1zMVma4G0KJeVhJyqtMIXOzrCpXKLSWGDw0Enq2nFYZW6NsQFAAA","W4AUc2enuilTuZMqLJaMuFdVEcyGtiSrFEM8UZtoRyqsthWcI4SXiktcFgAAAAA","HnAxZalIwXbCZSRYMVm7qinBsyzJiHRrc7p0wphjGrWEKVp2TDE7rBS4dWkCAAA","MmBXt1mGGjwbdpJLWLOYDFTJEso8pIsTKmJnc4WboSRMXHk7qBZSRhe6yYIDAAA","WLC1fBK0WonINGgZZWLMKSxJeoEXW7czajSKOyXJYUc6V7pGjJGSaDwrdKUBAAA","P5BWw7eldRS0iMIRiCohTDlJK2N7e8psNpqlRYZ7EpyjYXWDskxpKXpIwxsFAAA","E7A8Q7FcQncskWFia0hJezMmp6HMqFVYm5p4lFgyprF8NsQSmrVYfDuCSWEKAAA","EnCbRcOHe4XMkySbqKvDYouqHEQlkjZlEWFnlzRbisEiyJdbE2qkNSdhnEgLAAA","JkBLeGgVspeCdjeUOFvMGqbEMloytsuRUZo8qXxoErU0eJsVakzCGKcrQ1YJAAA","YrBYOHE6VSqMWhQRSYKUvCx0s8t5fCo7lmaGGSbEW3rDcTgmW0qpFDVoK8kHAAA","IsBbqIGagss6YVesQbMylsclQTmUcmdLXLYok0fIFrVqipQbN1JMKJZbWGwDAAA","PGCROKdcSXiYZaF0w4ubZaw7FDIrJ1LLxqFEO8hSl6aRg1GmLHvEKRU4QAAKAAA","AWCJtKVXdSvBnLQ7EzyKZ4sckoYqRlIaR5xjg7kqxUF3SoyVIxbLeFs0EpYKAAA","XaAmMnQXm0OxW7KIVmfFVxpIJqwZucSsOJwjNYcZq8aElhV0yrJTNBiccqYLAAA","RHAXuKZbhJJijIS5w1nHGkplqxw7YzxRcilkEkmjx4WLZFyTe6IhNFmhy3YIAAA","JUDFhYIrIXZjdBoVe0qsY8GpcmucW5SJvDijWGkceyOkNlxLcYlCI2gVm8cKAAA","A3AqJIZrmKipybW6QyhBU3dlFifMFcu5NBOsGXOyaMS1NJjKUWdyhFYZq8MCAAA","RWA3hqlFs4inyiTHVyYTXLa8HCOlghGbtJQ5dopFG5yScoxDWxZKY8t4GlkCAAA","TTBcSKalLBc1uaZsOLeGl7QjF6wUmVtLIoFchqs8dCkRSaaDxys1yasVGlkCAAA","QBAbtzInlINoRaK1eqaUVCHGs1lnyIw8yhm7ijHCSXbFO2R4pSkxgntRBgAAAAA","EHB6QquXRmm8Ehy5iJMyWzhcq3wxZRYoxFRqyiOReFR7wjS2UYoZqXJjjFsEAAA","FFAly8NKTCp2WIsTqRJpQ8GrhHtyYcZYc5u5acSnKBNluKwVSXMydZJojFsEAAA","ESAYN5nMESZIZsNci4Q3OSWnecqrtFFbZKuScqgUWzbMtKWYcWNyNIWmmywBAAA","TmDCWBw5JWQjGzuqUcd8kmSJGXVjyIu3q0pEg8K1pxmWYhR1o4tMw7UqlxYIAAA","NbA8qbQ4HEMoxsccpEVSe1iniilluTshdmmhIcuGRZM3eRqGJbyknFeBlxYIAAA","QVBGh7oanMZyE7uYaTJSIXq3xFZKyVg8QYtTmshkMhu3qFnBI2dUFrkqADgAAAA","HSB6FbMWlLuFwTJsJ4RWaZSqw7J8R1GjyLmotsU4EnQZoyWUeLymgrxTFzgEAAA","BsBKE3JCVVhrSCxbukeHaZc8Gqximzm8E4ZxiVw7ZCFaQxp5smxYuoxpcUIDAAA","OLA1xaJisZa6e6IZhEx4yDwpZchRQ6a3eRSTbLSjgXJ1tYbEI5qRy1I4cUIDAAA","KiAzc2GHXBiLa6ujXEZBIpcrqmxZjFSbF0lcrDdBJotpLJU6exRIFpcysAoAAAA","RxBmt1g2IhvJXHsniaKlvBybRDw0eBZYOpSKNqUssUmXZXLBq0iDpiFDAAAAAAA","LJCbybqlyyFEymslI0N8pmV2SVMhuBh4jDHHtSQxpodJeRhjuiW8ZRLKAAAAAAA","BECLgzklZDw7e1LEG8cqJqoYV5a8SYYVnHF6UaLJZIuzKWGEw6XHNkUXAAAAAAA","KxAsR2dsmlKivFW0W4Rzl6Gza8mIIchhSTpTSmMpi3E8WHtMKpYxwShp","I6AkGCuKzLylEmNrlpuoe5VydMGGlTxTRxQzXGGYerRSanGyPJQYSTt1yYIDAAA","GWC6Klo1wTNnLIS8h0sRqXOCZ0SZZSGJW8x7RjkcpbhyTKJoU5EbtUOCyYIDAAA","QpBnU4U7GJvBm6RCwSJmejjHbMo0pUsYJ7XJh7OkFWkiQ5jBtqc1h0ucyYIDAAA","YGAqSoyTu6wZdGlbh4YhGMPFyhdblFJHsyNml7EyqFxErLcykYVGrJhyyYIDAAA","H1AakaKnNbqxMiTIZcbJixRIR1O3xjh2kslLnDpicbVoFzyVKKSbdkKzyYIDAAA","MDCUzCKatjgSiovFWkeaE7c2GYRRQna3W8YcNHxqJbgZk2WHwqu0wjiRyYIDAAA","N7CKyHdUi1QTo1KsJ8vHlMkhG7Y5WGYSQ6kmrFc0losxxqGUdbLIqEKz","BRBkmoLCRTF2qRyyeaJxume1NJy1OMTFhotzQ6spgVxmS3U5yhgSdIky","RhDExRZImmtafFm6XMMne0OhkotmQiM3ixlIipbCFzUrvJU4cWQqg7Vk","ShDGx3VJiHtUScw6o4krqLwjtlsWeRSiNiXBQXark4J1lRo4xGsiildjyYIDAAA","X6Cal3NcexzIPDabsyaouCRBRlnGK1RxKFqBfLKaVGNBrLg5YnGVHEYyyYIDAAA","XKBjGMphgVfLyWl5Q3WyI0SMOrvCaFGpclskTJdRirbDSmlTK3gxvCaayYIDAAA","J4BWh7KVqUpzTCwnTGlRVxaotBbDiSM8qxuLWjsslHZBe4xjlaKRKkOMyYIDAAA","U4AWUbs8eimLRDXGiaOXglIbynVMYky6kxZXgWx5q0MyilxBZ5Jbm2FMyYIDAAA","DoBWuDqsQlhsskKDURYxnHt5RXtiHEuXw6k6tRyJZ6IUsnXIRqmDc7xayYIDAAA","VqDEKFs7dqxpvMnBJKEyWChrapSDWxc3dBllkjyBpbS3inVCYZxzGShTAAAAAAA","GLDEdMjDsWE7ihwqE4lydpJWymtbl4WUU6IkR8MZumiVQSajxYdbZ0mL","ZDAyh1GFiUmkMkypKXFsS2Zbglx7YcuqE7dcsoacFKMnc4WrTBmWITeL","VcCZa7nENcSBq7dkuqNhyMhSYqRymFUjF3ETeSuEo2XMZaIxSYe7aCkUAAAAAAA","G7AmgbJbpypjsbNMVZQkzKlkdonFyhg5gTenJkwVc5uYtGo1ghxnNLlYHHIKAAA","LjCWtZLKJIPIwURYN7Giqmm3m0E3JmeFHFs8SRV8uoJWKWy0pzFYE7JniUwKAAA","OUC0qYRsaMkbFhVVvHx4Qxl8qHM1sqqSOyZSQrljp8HIqGQye5UROsgna0kFAAA","CoATtULFtGgmV6OYjJwTtqwUemt5wjIUupdFpiy1N4mBphl7XDIkuWcUWowDAAA","UMC8kxmzXHphuTScSGGHp7WFOmRyG4xiKiR1JZw6YUsobJVDgacbt4LGU5QKAAA","SIASG4ukpLE2jHNLYsh3lWmcqzeVVBwsZTqSxXNGoStIxicxm4WaMsZKuHEFAAA","KaA3e1xMi2qieUYUUbzLGiOGN1hJJryCGTU5omWRS8jHF2SzWYpCOslluHIBAAA","O3BzFDy5GZgcLKorQ3G2WcZbqEh8JSWKZjRrkhikyzdFU8gpcWqLKTHKZUcLAAA","UrCha6lZMjZrJEITR7qsUot2mVzMgTdRR8hYlHpjvBhCFsk4q1eyKBc0pskFAAA","CYCRtzE3oSuMWJNbckScuqZUcoLGNbkWxqxEORJ2yriVhLxqN1IxvChXmmEEAAA","MbA3kVlqmSxRw7ZBx8hipIO0ImpKi8V4sVNnwjhacZu0Mpp4YcSVMUyoZ7IFAAA","CxA6OFXGSiF0FJO2OyVLJptSGal4h8rIzHtWSpYjHHh7khbFNItKVpGow7cCAAA","TxBqc7hsGVdFUZKmckPDwsUrlGtKg5yHsYu6F4JsmkOFmiPEZ1uxwmVDeokBAAA","PcCGwyMbqJp1y5FUVCJyzIaFNme3k7mkobShYbyTVIeim1TIYnEjg8FLlaYHAAA","VxA2lct1ijkrQULHUcFqubhSdqyUhDMoemy7NaghR5yGx5RjobIVknq0WGwDAAA","QzASETZkLCu4VMXLXEabd6NJyRqKN7mKKHXGKhebNGW4RXqTEoa8GkI3aMUJAAA","SUCLOmNhTMtbGGzCVyZUc3WhwZNKi4K3kplayJcaYrNUhGesGyMpekk7WGEMAAA","CJCLe1omN8JYnMSjGBE3ZrlIq6TGxLI3GVJ1UYtGMqlcgxp2lLxSbHQYOaILAAA","LbC8I7RBsXg4eypmzHNxpVwoRZlqJUoWyJM5WRqLdsQieshTaUE7tZjCahcEAAA"];var y0=Object.defineProperty,b0=Object.getOwnPropertyDescriptor,mu=(e,t,s,n)=>{for(var o=n>1?void 0:n?b0(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&y0(t,s,o),o};let Xs=class extends me{constructor(){super(...arguments);v(this,"active");v(this,"activeUp")}click(s){this.$emit("click",s)}};mu([M()],Xs.prototype,"active",2);mu([M()],Xs.prototype,"activeUp",2);Xs=mu([he({emits:["click"]})],Xs);const w0={class:"sort-label"},B0={class:"sort-btn"};function D0(e,t,s,n,o,u){return E(),_("span",w0,[qt(e.$slots,"default"),d("div",B0,[d("button",{class:ae({"is-active":e.active&&e.activeUp}),onClick:t[0]||(t[0]=r=>e.click(!0))},"",2),d("button",{class:ae({"is-active":e.active&&!e.activeUp}),onClick:t[1]||(t[1]=r=>e.click(!1))},"",2)])])}const $0=fe(Xs,[["render",D0]]);var P0=Object.defineProperty,k0=Object.getOwnPropertyDescriptor,Xi=(e,t,s,n)=>{for(var o=n>1?void 0:n?k0(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&P0(t,s,o),o};let Rn=class extends me{constructor(){super(...arguments);v(this,"noClose")}close(){this.$emit("close")}};Xi([M()],Rn.prototype,"noClose",2);Rn=Xi([he({components:{Close:Yt},emits:["close"]})],Rn);const S0={class:"dialog"},j0={class:"dialog-content"};function I0(e,t,s,n,o,u){const r=Z("close");return E(),_("div",S0,[d("div",{class:"dialog-background",onClick:t[0]||(t[0]=(...i)=>e.close&&e.close(...i))}),e.noClose?G("",!0):(E(),ve(r,{key:0,class:"dialog-close",onClose:e.close},null,8,["onClose"])),d("div",j0,[qt(e.$slots,"default")])])}const so=fe(Rn,[["render",I0]]);var O0=Object.defineProperty,M0=Object.getOwnPropertyDescriptor,no=(e,t,s,n)=>{for(var o=n>1?void 0:n?M0(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&O0(t,s,o),o};let vs=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"shareCode");v(this,"patterns",[]);v(this,"popPattern",0);v(this,"demands",[])}get config(){return this.solver.config}async parseShareCode(){if(!this.shareCode)return;let s=zn(this.shareCode);this.popPattern=s[0];for(let n=1;n<s.length;n++)this.patterns[(n-1)*2]=s[n]&15,this.patterns[(n-1)*2+1]=(s[n]&240)>>4;for(let n=0;n<7;n++){const o=await this.solver.demandsFromPredict(this.patterns,n);this.demands.length<=n?this.demands.push(o):this.demands[n]=o}}mounted(){this.parseShareCode()}applyShare(){for(let s=0;s<this.patterns.length;s++)this.config.demandPatterns[s]=this.patterns[s];this.solver.popPattern=this.popPattern,this.config.save(),this.solver.updatePredictDemands(),this.$emit("on-apply")}};no([M()],vs.prototype,"solver",2);no([M()],vs.prototype,"shareCode",2);no([_e("shareCode")],vs.prototype,"parseShareCode",1);vs=no([he({emits:["on-apply"],components:{DemandList:Qi}})],vs);const R0={class:"mji-text-brown mji-title"},T0=d("span",null,"",-1),N0={class:"demand-control"},V0={class:"mji-text-small"},W0=d("span",{class:"mji-text-orange"}," ",-1),L0={class:"mji-text-brown"},U0={class:"demand-control mji-footer"},x0=d("span",{class:"mji-text-small mji-text-orange"}," ",-1);function K0(e,t,s,n,o,u){const r=Z("DemandList");return E(),ve(r,{solver:e.solver,"pop-pattern":e.popPattern,"demand-pats":e.patterns,"demands-raw":e.demands},{header:oe(()=>[d("div",R0,[T0,d("span",N0,[d("span",V0,[W0,d("span",L0,S(e.popPattern),1)])])])]),footer:oe(()=>[d("div",U0,[x0,d("button",{class:"mji mji-text-brown",onClick:t[0]||(t[0]=(...i)=>e.applyShare&&e.applyShare(...i))},"  ")])]),_:1},8,["solver","pop-pattern","demand-pats","demands-raw"])}const H0=fe(vs,[["render",K0]]);var q0=Object.defineProperty,G0=Object.getOwnPropertyDescriptor,oo=(e,t,s,n)=>{for(var o=n>1?void 0:n?G0(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&q0(t,s,o),o};let Es=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"inputShareCode");v(this,"hideCurrentPopup",!1);v(this,"currentCode","");v(this,"sortMethod",0);v(this,"sortDir",!0)}get showCurrentPopup(){return!this.hideCurrentPopup&&this.solver.popPattern!==this.currentPopPattern}get config(){return this.solver.config}get patternNames(){return lt}get demandPattern(){return this.config.demandPatterns}get popPattern(){return this.solver.popPattern}set popPattern(s){s<=0||s>100||(this.solver.popPattern=s)}get shareCode(){return this.inputShareCode||this.currentCode}get currentWeek(){const s=new Date,n=16612416e5,o=s.getTime()-n;return Math.floor(o/(7*24*3600*1e3))}get currentShareCode(){const s=this.currentWeek%Dr.length;return Dr[s]}get currentPopPattern(){return zn(this.currentShareCode)[0]}useCurrent(){this.currentCode=this.currentShareCode,this.hideCurrentPopup=!0}get shareLink(){return document.location.protocol+"//"+document.location.host+"/#/pat/"+this.solver.shareLink}set shareLink(s){let o=/#\/pat\/(.+)/.exec(s);console.log(o),o&&o.length>0&&this.$router.push("/pat/"+o[1])}sort(s,n){this.sortMethod=s,this.sortDir=n}get objects(){return this.solver.Recipes.filter(s=>s.Name).sort((s,n)=>{let o=0;switch(this.sortMethod){case 1:o=s.Id-n.Id;break;case 2:o=this.solver.Popularity[this.popPattern][s.Id]-this.solver.Popularity[this.popPattern][n.Id],o=-o;break;case 3:o=this.getBasicPriceNum(s)-this.getBasicPriceNum(n);break;case 4:o=this.demandPattern[s.Id]-this.demandPattern[n.Id];break;case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:let u=this.sortMethod-4;o=this.getDemand(s.Id,u)-this.getDemand(n.Id,u);break;default:o=s.Id-n.Id;break}return this.sortDir?o:-o})}trimName(s){return Ie.TrimName(s)}getBasicPriceNum(s){let n=this.solver.Popularity[this.popPattern][s.Id],o=1;switch(n){case 0:o=0;break;case 1:o=1.4;break;case 2:o=1.2;break;case 3:o=1;break;case 4:o=.8;break}return s.Price*o/s.Time}getBasicPriceStr(s){return this.getBasicPriceNum(s).toFixed(1)}get cachedDemands(){return this.solver.predictDemands}getDemand(s,n){return this.cachedDemands.length<n?9:this.cachedDemands[n-1][s]}getDemandIcons(s,n){return Ht.GetDemand(this.getDemand(s,n))}popularity(s){return this.popPattern>=this.solver.Popularity.length?"mji-popular-3":"mji-popular-"+this.solver.Popularity[this.popPattern][s].toString()}async onDemandChange(){this.config.save(),this.solver.updatePredictDemands()}onShareApply(){this.currentCode="",this.$router.push("/pred")}reset(){for(let s=0;s<this.config.demandPatterns.length;s++)this.config.demandPatterns[s]=0;this.solver.updatePredictDemands(),this.config.save()}mounted(){try{this.solver.init().then(async()=>{for(await this.solver.updatePredictDemands();this.config.demandPatterns.length<this.solver.data.Recipes.length;)this.config.demandPatterns.push(0)})}catch{}}onMouseIn(s,n){this.solver.event.onHoverEnter(s,n.clientX,n.clientY)}onMouseOut(s){this.solver.event.onHoverExit(s)}};oo([M()],Es.prototype,"solver",2);oo([M()],Es.prototype,"inputShareCode",2);oo([_e("config.demandPatterns",{deep:!0})],Es.prototype,"onDemandChange",1);Es=oo([he({emits:["view-predict"],components:{SortLabel:$0,Popup:so,DemandShare:H0,MjiBox:Xn}})],Es);const J0={class:"mji-wooden-plate"},Y0=d("div",{class:"mji-title mji-text-brown"},"",-1),Z0={class:"mji-text-brown"},z0=d("br",null,null,-1),Q0={class:"mji-footer",style:{"text-align":"right"}},X0={class:"control-form pure-form"},e5={class:"pure-g"},t5=d("label",{for:"pop-pattern"},"",-1),s5=d("label",{for:"share-link"},"  ",-1),n5={class:"recipes"},o5={class:"recipe-header"},u5=d("span",{class:"recipe-icon"},null,-1),r5={class:"recipe-name"},i5={class:"recipe-pop"},l5={class:"recipe-value"},a5={class:"recipe-pattern"},c5={class:"recipe-icon"},d5=["onMouseenter","onMouseleave"],p5={class:"recipe-pop"},f5={class:"recipe-value"},h5={class:"recipe-pattern pure-form"},m5=["onUpdate:modelValue"],g5=["value"];function v5(e,t,s,n,o,u){const r=Z("DemandShare"),i=Z("popup"),l=Z("sort-label"),a=Z("MjiBox");return E(),_("div",null,[e.shareCode?(E(),ve(i,{key:0,"no-close":!0},{default:oe(()=>[W(r,{class:"demand-share",solver:e.solver,"share-code":e.shareCode,onOnApply:e.onShareApply},null,8,["solver","share-code","onOnApply"])]),_:1})):e.showCurrentPopup?(E(),ve(i,{key:1,onClose:t[2]||(t[2]=c=>e.hideCurrentPopup=!0)},{default:oe(()=>[d("div",J0,[Y0,d("div",Z0,[I("  "+S(e.currentWeek+1)+" ",1),z0,I(" ")]),d("div",Q0,[d("button",{class:"mji mji-text-brown",onClick:t[0]||(t[0]=(...c)=>e.useCurrent&&e.useCurrent(...c))},"  "),d("button",{class:"mji mji-text-brown",onClick:t[1]||(t[1]=c=>e.hideCurrentPopup=!0)},"  ")])])]),_:1})):G("",!0),d("div",X0,[d("fieldset",e5,[t5,ee(d("input",{id:"pop-pattern","onUpdate:modelValue":t[3]||(t[3]=c=>e.popPattern=c),type:"number",min:"1",max:"100"},null,512),[[je,e.popPattern,void 0,{number:!0}]]),s5,ee(d("input",{id:"share-link","onUpdate:modelValue":t[4]||(t[4]=c=>e.shareLink=c),onclick:"this.select();",type:"text",placeholder:""},null,512),[[je,e.shareLink]]),d("button",{class:"sched sched-delete",onClick:t[5]||(t[5]=(...c)=>e.reset&&e.reset(...c))}),d("button",{class:"sched sched-demand",onClick:t[6]||(t[6]=c=>e.$emit("view-predict"))})])]),d("div",n5,[d("div",o5,[u5,d("span",r5,[W(l,{active:e.sortMethod===1,"active-up":e.sortDir,onClick:t[7]||(t[7]=c=>e.sort(1,c))},{default:oe(()=>[I("")]),_:1},8,["active","active-up"])]),d("span",i5,[W(l,{active:e.sortMethod===2,"active-up":e.sortDir,onClick:t[8]||(t[8]=c=>e.sort(2,c))},{default:oe(()=>[I("")]),_:1},8,["active","active-up"])]),d("span",l5,[W(l,{active:e.sortMethod===3,"active-up":e.sortDir,onClick:t[9]||(t[9]=c=>e.sort(3,c))},{default:oe(()=>[I("")]),_:1},8,["active","active-up"])]),d("span",a5,[W(l,{active:e.sortMethod===4,"active-up":e.sortDir,onClick:t[10]||(t[10]=c=>e.sort(4,c))},{default:oe(()=>[I("")]),_:1},8,["active","active-up"])]),(E(),_(q,null,ue(7,c=>d("span",{key:c,class:"recipe-demand hide-xs"},[W(l,{active:e.sortMethod===c+4,"active-up":e.sortDir,onClick:p=>e.sort(c+4,p)},{default:oe(()=>[I(""+S(c)+"",1)]),_:2},1032,["active","active-up","onClick"])])),64))]),(E(!0),_(q,null,ue(e.objects,(c,p)=>(E(),_("div",{key:p,class:"recipe-item"},[d("span",c5,[d("icon",{class:ae(["item","item-"+c.Icon])},null,2)]),d("span",{class:"recipe-name",onMouseenter:f=>e.onMouseIn(c.Id,f),onMouseleave:f=>e.onMouseOut(c.Id)},S(e.trimName(c.Name)),41,d5),d("span",p5,[d("icon",{class:ae(["mji",e.popularity(c.Id)])},null,2)]),d("span",f5,S(e.getBasicPriceStr(c)),1),d("span",h5,[ee(d("select",{"onUpdate:modelValue":f=>e.demandPattern[c.Id]=f,class:""},[(E(!0),_(q,null,ue(e.patternNames,(f,F)=>(E(),_("option",{key:F,value:F},S(f),9,g5))),128))],8,m5),[[nu,e.demandPattern[c.Id]]])]),(E(),_(q,null,ue(7,f=>d("span",{key:f,class:"recipe-demand hide-xs"},[W(a,{class:"demand",count:e.getDemandIcons(c.Id,f)},null,8,["count"]),d("span",null,"["+S(e.getDemand(c.Id,f))+"]",1)])),64))]))),128))])])}const E5=fe(Es,[["render",v5]]);var F5=Object.defineProperty,_5=Object.getOwnPropertyDescriptor,gu=(e,t,s,n)=>{for(var o=n>1?void 0:n?_5(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&F5(t,s,o),o};let en=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"changeVisible",!1)}get shareCode(){return this.$route.params.share}get packetData(){return this.$route.params.data}onPacketDataChange(t){t&&(this.changeVisible=!0)}onApply(){this.changeVisible=!1}mounted(){this.onPacketDataChange(this.packetData)}};gu([M()],en.prototype,"solver",2);gu([_e("packetData")],en.prototype,"onPacketDataChange",1);en=gu([he({components:{DemandChange:C0,Popup:so,Pattern:E5}})],en);const A5={class:"container"};function C5(e,t,s,n,o,u){const r=Z("Pattern"),i=Z("demand-change"),l=Z("popup");return E(),_("div",A5,[W(r,{class:"container-right demand-pattern",solver:e.solver,"input-share-code":e.shareCode,onViewPredict:t[0]||(t[0]=a=>e.changeVisible=!0)},null,8,["solver","input-share-code"]),e.changeVisible?(E(),ve(l,{key:0,onClose:t[1]||(t[1]=a=>e.changeVisible=!1)},{default:oe(()=>[W(i,{solver:e.solver,"input-data":e.packetData,class:"demand-view",onOnApply:e.onApply},null,8,["solver","input-data","onOnApply"])]),_:1})):G("",!0)])}const vo=fe(en,[["render",C5]]);var y5=Object.defineProperty,b5=Object.getOwnPropertyDescriptor,vu=(e,t,s,n)=>{for(var o=n>1?void 0:n?b5(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&y5(t,s,o),o};let tn=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"filterOverride");v(this,"filterUser",0)}get filterList(){return["","4","6","8"].concat(this.themes)}setFilter(s){this.filterUser=s}get filter(){return this.filterOverride??this.filterUser}get themes(){return this.solver.data.Themes.slice(1)}get items(){return this.solver.Recipes.filter(s=>s.Time>0)}get filterItems(){if(this.filter===0)return this.items;if(this.filter<4){let s=(this.filter-1)*2+4;return this.items.filter(n=>n.Time==s)}else{let s=this.filter-4+1;return this.items.filter(n=>n.Theme0==s||n.Theme1==s)}}getIcon(s){return"item-"+s}trimName(s){return Ie.TrimName(s)}onItemClick(s){this.$emit("on-select",s)}};vu([M()],tn.prototype,"solver",2);vu([M()],tn.prototype,"filterOverride",2);tn=vu([he({})],tn);const w5={class:"item-selection mji-wooden-plate"},B5={class:"mji-title mji-text-brown"},D5={key:0},$5={class:"item-body"},P5={key:0,class:"item-body-left mji-info-box"},k5=["value","onClick"],S5={class:"item-body-right mji-info-box"},j5=["value","onClick"],I5={class:"item-name"};function O5(e,t,s,n,o,u){return E(),_("div",w5,[d("div",B5,[I(" "),e.filterOverride?(E(),_("span",D5,"("+S(e.filterList[e.filter])+")",1)):G("",!0)]),d("div",$5,[e.filterOverride?G("",!0):(E(),_("div",P5,[(E(!0),_(q,null,ue(e.filterList,(r,i)=>(E(),_("div",{class:ae(["filter-item",{selected:i==e.filter}]),value:i,onClick:l=>e.setFilter(i)},S(r),11,k5))),256))])),d("div",S5,[(E(!0),_(q,null,ue(e.filterItems,(r,i)=>(E(),_("div",{class:"recipe-item mji-step-box",value:i,onClick:l=>e.onItemClick(r.Id)},[d("icon",{class:ae(["item item-icon",e.getIcon(r.Icon)])},null,2),d("div",I5,[d("span",null,S(e.trimName(r.Name)),1)])],8,j5))),256))])])])}const el=fe(tn,[["render",O5],["__scopeId","data-v-b5deaa7d"]]);var M5=Object.defineProperty,R5=Object.getOwnPropertyDescriptor,tl=(e,t,s,n)=>{for(var o=n>1?void 0:n?R5(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&M5(t,s,o),o};let Tn=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"banPicker",!1)}get config(){return this.solver.config}get level(){return this.config.level}set level(t){this.config.level=t}get craft_level(){return this.config.craftLevel+1}set craft_level(t){this.config.craftLevel=t-1}get max_tension(){return this.config.maxTension}set max_tension(t){this.config.maxTension=t}get workers(){return this.config.workers}set workers(t){this.config.workers=t}get withCost(){return this.config.withCost}set withCost(t){this.config.withCost=t}get region(){return this.solver.region===0}set region(t){this.solver.region=t?Eo.Global:Eo.CN}get stepMonospace(){return this.config.styleStepWidth}set stepMonospace(t){this.config.styleStepWidth=t}get totalDemand(){return this.config.totalDemand}set totalDemand(t){this.config.totalDemand=t}get differentWorkers(){return this.config.differentWorkers}set differentWorkers(t){this.config.differentWorkers=t}iconPath(t){return"item-"+this.solver.data.GetRecipe(t).Icon}itemName(t){return Ie.TrimName(this.solver.data.GetRecipe(t).Name)}removeBan(t){this.config.defaultBanList.splice(t,1),this.config.save()}addBan(t){this.banPicker=!1,this.config.defaultBanList.push(t),this.config.save()}showItemSelection(){this.banPicker=!0}};tl([M()],Tn.prototype,"solver",2);Tn=tl([he({components:{Popup:so,ItemSelection:el,Close:Yt}})],Tn);const T5={class:"setting-page"},N5=d("h1",null,"",-1),V5={class:"pure-form pure-form-aligned"},W5=d("legend",null,"",-1),L5={class:"pure-control-group"},U5={for:"region"},x5=d("span",{class:"pure-form-message-inline"},"",-1),K5={class:"pure-control-group"},H5=d("label",{for:"differentWorkers"},"  ",-1),q5=["max"],G5=d("span",{class:"pure-form-message-inline"},"1",-1),J5=d("legend",null,"",-1),Y5={class:"pure-control-group"},Z5=d("label",{for:"level"},"",-1),z5=d("span",{class:"pure-form-message-inline"},"1-20",-1),Q5={class:"pure-control-group"},X5=d("label",{for:"craft-level"},"",-1),eg=d("span",{class:"pure-form-message-inline"},"1-5",-1),tg={class:"pure-control-group"},sg=d("label",{for:"max-tension"},"",-1),ng=d("span",{class:"pure-form-message-inline"},"0-45",-1),og={class:"pure-control-group"},ug=d("label",{for:"workers"},"",-1),rg=d("span",{class:"pure-form-message-inline"},"1-4",-1),ig=d("legend",null,"/",-1),lg={class:"pure-control-group"},ag={for:"with-cost"},cg=d("span",{class:"pure-form-message-inline"}," =  - ",-1),dg={class:"pure-control-group"},pg={for:"total-demand"},fg=d("span",{class:"pure-form-message-inline"},[I(""),d("br"),I(""),d("br"),I("")],-1),hg={class:"pure-control-group"},mg=d("label",{for:"default-ban-list"},"",-1),gg={class:"ban-list"},vg=d("legend",null,"",-1),Eg={class:"pure-control-group"},Fg={for:"step-monospace"},_g=d("span",{class:"pure-form-message-inline"},"",-1),Ag={class:"pure-control-group"},Cg={for:"show-net-value"},yg=d("span",{class:"pure-form-message-inline"},"",-1),bg={class:"pure-control-group"},wg={for:"hide-ingredients"},Bg=d("span",{class:"pure-form-message-inline"},"",-1),Dg={class:"pure-control-group"},$g={for:"show-item-popup"},Pg=d("span",{class:"pure-form-message-inline"},"",-1);function kg(e,t,s,n,o,u){const r=Z("close"),i=Z("item-selection"),l=Z("popup");return E(),_("div",T5,[N5,d("div",V5,[d("fieldset",null,[W5,d("div",L5,[d("label",U5,[ee(d("input",{id:"region","onUpdate:modelValue":t[0]||(t[0]=a=>e.region=a),type:"checkbox"},null,512),[[Bt,e.region]]),I("  ")]),x5]),d("div",K5,[H5,ee(d("input",{id:"differentWorkers","onUpdate:modelValue":t[1]||(t[1]=a=>e.differentWorkers=a),type:"number",min:"1",max:e.workers},null,8,q5),[[je,e.differentWorkers]]),G5])]),d("fieldset",null,[J5,d("div",Y5,[Z5,ee(d("input",{id:"level","onUpdate:modelValue":t[2]||(t[2]=a=>e.level=a),type:"number",min:"1",max:"20",placeholder:"1-20"},null,512),[[je,e.level]]),z5]),d("div",Q5,[X5,ee(d("input",{id:"craft-level","onUpdate:modelValue":t[3]||(t[3]=a=>e.craft_level=a),type:"number",min:"1",max:"5",placeholder:"1-5"},null,512),[[je,e.craft_level]]),eg]),d("div",tg,[sg,ee(d("input",{id:"max-tension","onUpdate:modelValue":t[4]||(t[4]=a=>e.max_tension=a),type:"number",min:"0",max:"45",placeholder:"0-45"},null,512),[[je,e.max_tension]]),ng]),d("div",og,[ug,ee(d("input",{id:"workers","onUpdate:modelValue":t[5]||(t[5]=a=>e.workers=a),type:"number",min:"1",max:"4",placeholder:"1-4"},null,512),[[je,e.workers]]),rg])]),d("fieldset",null,[ig,d("div",lg,[d("label",ag,[ee(d("input",{id:"with-cost","onUpdate:modelValue":t[6]||(t[6]=a=>e.withCost=a),type:"checkbox"},null,512),[[Bt,e.withCost]]),I("  ")]),cg]),d("div",dg,[d("label",pg,[ee(d("input",{id:"total-demand","onUpdate:modelValue":t[7]||(t[7]=a=>e.totalDemand=a),type:"checkbox"},null,512),[[Bt,e.totalDemand]]),I("  ")]),fg]),d("div",hg,[mg,d("div",gg,[(E(!0),_(q,null,ue(e.config.defaultBanList,(a,c)=>(E(),_("div",{key:c,class:"ban-item mji-step-box"},[d("icon",{class:ae(["item",e.iconPath(a)])},null,2),d("span",null,S(e.itemName(a)),1),W(r,{onClick:p=>e.removeBan(c)},null,8,["onClick"])]))),128)),d("button",{onClick:t[8]||(t[8]=(...a)=>e.showItemSelection&&e.showItemSelection(...a))},"+")])])]),d("fieldset",null,[vg,d("div",Eg,[d("label",Fg,[ee(d("input",{id:"step-monospace","onUpdate:modelValue":t[9]||(t[9]=a=>e.stepMonospace=a),type:"checkbox"},null,512),[[Bt,e.stepMonospace]]),I("  ")]),_g]),d("div",Ag,[d("label",Cg,[ee(d("input",{id:"show-net-value","onUpdate:modelValue":t[10]||(t[10]=a=>e.config.showNetValue=a),type:"checkbox"},null,512),[[Bt,e.config.showNetValue]]),I("  ")]),yg]),d("div",bg,[d("label",wg,[ee(d("input",{id:"hide-ingredients","onUpdate:modelValue":t[11]||(t[11]=a=>e.config.hideIngredients=a),type:"checkbox"},null,512),[[Bt,e.config.hideIngredients]]),I("  ")]),Bg]),d("div",Dg,[d("label",$g,[ee(d("input",{id:"show-item-popup","onUpdate:modelValue":t[12]||(t[12]=a=>e.config.showItemPopup=a),type:"checkbox"},null,512),[[Bt,e.config.showItemPopup]]),I("  ")]),Pg])])]),ee(W(l,{onClose:t[13]||(t[13]=a=>e.banPicker=!1)},{default:oe(()=>[W(i,{solver:e.solver,onOnSelect:e.addBan},null,8,["solver","onOnSelect"])]),_:1},512),[[Os,e.banPicker]])])}const Sg=fe(Tn,[["render",kg]]);var jg=Object.defineProperty,Ig=Object.getOwnPropertyDescriptor,uo=(e,t,s,n)=>{for(var o=n>1?void 0:n?Ig(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&jg(t,s,o),o};let Fs=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"banList",[]);v(this,"batches",[]);v(this,"isLoading",!0);v(this,"stepDemands",[]);v(this,"stepPops",[]);v(this,"cachedDemands");v(this,"cachedtension");v(this,"setSteps",[]);v(this,"setValues",[]);v(this,"solverMethod",0);v(this,"maxWorkerPerQueue",3);v(this,"favorWorker",1);v(this,"favorItems",[])}get hasSetWorker(){return this.setSteps.length>0}get maxWorker(){return this.solver.config.workers}get isFull(){return this.remainWorker<=0}get sumVal(){let s=0;for(let n=0;n<this.setValues.length;n++)s+=this.setValues[n].value*this.setSteps[n].worker;return s}get sumCost(){let s=0;for(let n=0;n<this.setValues.length;n++)s+=this.setValues[n].cost*this.setSteps[n].worker;return s}get netVal(){return this.sumVal-this.sumCost}addBan(s,n,o){let u=this.batches[s].batches[n].steps[o];this.banList.indexOf(u)>=0||this.banList.push(u)}removeBan(s){this.banList.splice(s,1)}calcPops(s){let n=[];for(let o=0;o<s.length;o++){const u=s[o];n[o]=this.solver.Popularity[this.solver.popPattern][u]}return n}get patterns(){return this.solver.config.demandPatterns}get favors(){let s=[];return this.favorItems.forEach(n=>s.push(n.id)),s}get remainWorker(){let s=0;for(let n=0;n<this.setSteps.length;n++)s+=this.setSteps[n].worker;return this.maxWorker-s}setWorkerNum(s,n){let o=Number(n.target.value),u=[];for(let r=0;r<this.setSteps.length;r++)u.push(this.setSteps[r].worker);cu.ChangeArrayVal(u,s,o,this.maxWorker);for(let r=0;r<this.setSteps.length;r++)this.setSteps[r].worker=u[r];this.solve()}removeSet(s){this.setSteps.splice(s,1),this.setValues.splice(s,1),this.solve()}async switchMode(){await this.solve()}async solve(){if(this.cachedDemands===void 0||this.cachedtension===void 0||this.setSteps===void 0||(this.setValues=await this.solver.simulateMulti(this.setSteps,this.cachedDemands,this.cachedtension),this.isFull))return;this.isLoading=!0,this.stepDemands=[],this.stepPops=[],this.batches=[];let s=this.remainWorker<1?1:this.remainWorker,n=[],o=this.solverMethod;switch(o==1&&this.setSteps.length>0&&(o=0),o){case 0:s>this.maxWorkerPerQueue&&(s=this.maxWorkerPerQueue),n=await this.solver.solveMultiDay(this.cachedDemands,this.setSteps,this.banList,this.cachedtension,s);break;case 1:n=await this.solver.solveDayDual(this.cachedDemands,this.banList,this.cachedtension,s);break;case 2:s>this.favorWorker&&(s=this.favorWorker),n=await this.solver.solveDayFavor(this.cachedDemands,this.setSteps,this.banList,this.cachedtension,this.favorItems,s);break}n.forEach(u=>u.batches.forEach(r=>{r.workerVal!=0&&(r.workerVal-=this.sumVal)})),this.isLoading=!1,this.batches=n.slice(0,100);for(let u=0;u<this.batches.length;u++){this.stepDemands.push([]),this.stepPops.push([]);let r=this.batches[u].batches;for(let i=0;i<r.length;i++){let l=r[i].steps,a=[],c=[];for(let f=0;f<r.length;f++)f!=i&&(a.push(r[f].steps),c.push(r[f].workers));for(let f=0;f<this.setSteps.length;f++)a.push(this.setSteps[f].steps),c.push(this.setSteps[f].worker);this.stepDemands[u].push([]),this.stepPops[u].push([]);let p=0;for(let f=0;f<l.length;f++){let F=l[f];p+=this.solver.data.GetRecipe(F).Time;let D=this.cachedDemands[F];for(let k=0;k<f;k++)l[k]==F&&(D-=(k===0?1:2)*r[i].workers);for(let k=0;k<a.length;k++){let H=0,R=a[k];for(let V=0;V<R.length;V++){let Q=R[V];if(H+=this.solver.data.GetRecipe(Q).Time,H>=p)break;Q==F&&(D-=(V===0?1:2)*c[k])}}this.stepDemands[u][i].push(D),this.stepPops[u][i].push(this.solver.Popularity[this.solver.popPattern][F])}}}}solveBatch(s,n,o,u){this.cachedDemands=s,this.cachedtension=o,this.setSteps=[],this.favorItems=u,n.forEach(r=>{this.setSteps.push(r.clone())}),this.isLoading=!1,this.setValues=[],this.banList=[],this.solver.config.defaultBanList.forEach(r=>this.banList.push(r)),this.solve()}add(s){this.batches[s].batches.forEach(o=>{this.setSteps.push(new Se(o.workers,o.steps)),this.setValues.push(o)}),this.solve()}apply(){this.$emit("apply",this.setSteps)}iconPath(s){return"item-"+this.solver.data.GetRecipe(s).Icon}itemName(s){return Ie.TrimName(this.solver.data.GetRecipe(s).Name)}};uo([M()],Fs.prototype,"solver",2);uo([_e("solverMethod")],Fs.prototype,"switchMode",1);uo([_e("banList",{deep:!0}),_e("maxWorkerPerQueue"),_e("favorWorker")],Fs.prototype,"solve",1);Fs=uo([he({components:{StepsComp:eo,BatchView:Zi,Close:Yt,Loading:au},emits:["apply"]})],Fs);const Og={class:"solver-view mji-wooden-plate"},Mg={class:"mji-title mji-text-brown"},Rg={class:"solver-control"},Tg={key:0,class:"max-worker"},Ng=d("label",{class:"mji-text-small",for:"maximum-worker"},"",-1),Vg=["max"],Wg={key:1,class:"max-worker"},Lg=d("label",{class:"mji-text-small",for:"maximum-worker"},"",-1),Ug=["max"],xg={class:"solver-method mji-text-small"},Kg=d("label",{for:"solver-method"},"",-1),Hg={class:"select"},qg=d("option",{value:"0"},"",-1),Gg=d("option",{value:"1"},"",-1),Jg=d("option",{value:"2"},"",-1),Yg=[qg,Gg,Jg],Zg={class:"mji-title mji-text-orange mji-text-small"},zg={key:0,class:"worker-value mji-text-brown"},Qg=d("icon",{class:"blue-coin"},null,-1),Xg=d("icon",{class:"blue-coin"},null,-1),ev={key:0},tv=d("icon",{class:"blue-coin"},null,-1),sv={class:"set-workers mji-info-box"},nv=["onClick"],ov={class:"set-worker-num"},uv=["max","value","onInput"],rv=d("span",{class:"cross"},"",-1),iv={key:1,class:"mji-title mji-text-orange mji-text-small"},lv={class:"ban-list"},av=d("legend",{class:"batch-header mji-title mji-text-orange mji-text-small"},[d("span",{class:"batches-value hide-xs"},""),d("span",{class:"batch-worker-num"},""),d("span",{class:"batch-value"},""),d("span",null,"")],-1),cv={key:2,class:"batches"},dv=["onClick"],pv={class:"batches-left hide-xs"},fv={class:"bench-value"},hv=d("icon",{class:"blue-coin"},null,-1),mv={class:"bench-cost mji-text-small"},gv={class:"batches-right"},vv={class:"batch-worker-num"},Ev=d("span",{class:"cross"},"",-1),Fv={key:3},_v=d("span",{class:"mji-text-brown mji-text-small"},"",-1),Av=[_v],Cv={key:4,class:"loading"};function yv(e,t,s,n,o,u){const r=Z("batch-view"),i=Z("close"),l=Z("Loading");return E(),_("div",Og,[d("legend",Mg,[I("  "),d("div",Rg,[e.solverMethod<2?(E(),_("span",Tg,[Ng,ee(d("input",{id:"maximum-worker","onUpdate:modelValue":t[0]||(t[0]=a=>e.maxWorkerPerQueue=a),min:"1",max:e.maxWorker,type:"number"},null,8,Vg),[[je,e.maxWorkerPerQueue]])])):G("",!0),e.solverMethod==2?(E(),_("span",Wg,[Lg,ee(d("input",{id:"maximum-worker","onUpdate:modelValue":t[1]||(t[1]=a=>e.favorWorker=a),min:"1",max:e.maxWorker,type:"number"},null,8,Ug),[[je,e.favorWorker]])])):G("",!0),d("span",xg,[Kg,d("div",Hg,[ee(d("select",{id:"solver-method","onUpdate:modelValue":t[2]||(t[2]=a=>e.solverMethod=a)},Yg,512),[[nu,e.solverMethod,void 0,{number:!0}]])])]),d("button",{class:"mji",onClick:t[3]||(t[3]=(...a)=>e.apply&&e.apply(...a))},"  ")])]),e.hasSetWorker?(E(),_(q,{key:0},[d("legend",Zg,[I("  "),e.setValues.length>0?(E(),_("span",zg,[Qg,I(S(e.sumVal)+" ( ",1),Xg,I(S(-e.sumCost)+") ",1),e.solver.config.showNetValue?(E(),_("span",ev,[I(" = "),tv,I(S(e.netVal),1)])):G("",!0)])):G("",!0)]),d("div",sv,[(E(!0),_(q,null,ue(e.setValues,(a,c)=>(E(),_("div",{key:c+1e3,class:"set-worker"},[W(r,{solver:e.solver,batch:a,patterns:e.patterns,favors:e.favors},{default:oe(()=>[d("button",{class:"sched sched-red add-item",onClick:p=>e.removeSet(c)}," - ",8,nv),d("div",ov,[d("input",{type:"number",min:"0",max:e.maxWorker,value:e.setSteps[c].worker,onInput:p=>e.setWorkerNum(c,p)},null,40,uv),rv])]),_:2},1032,["solver","batch","patterns","favors"])]))),128))])],64)):G("",!0),e.banList.length>0?(E(),_("legend",iv,"  ")):G("",!0),d("div",lv,[(E(!0),_(q,null,ue(e.banList,(a,c)=>(E(),_("div",{key:c,class:"ban-item mji-step-box"},[d("icon",{class:ae(["item",e.iconPath(a)])},null,2),d("span",null,S(e.itemName(a)),1),W(i,{onClick:p=>e.removeBan(c)},null,8,["onClick"])]))),128))]),av,e.isFull?(E(),_("div",Fv,Av)):(E(),_("div",cv,[(E(!0),_(q,null,ue(e.batches,(a,c)=>(E(),_("div",{key:c,class:"mji-info-box batches-item",onClick:p=>e.add(c)},[d("div",pv,[d("span",fv,[hv,I(S(a.value),1)]),d("span",mv," (-"+S(a.cost)+") ",1)]),d("div",gv,[(E(!0),_(q,null,ue(a.batches,(p,f)=>(E(),ve(r,{key:c*1e3+f,solver:e.solver,batch:p,removeable:!0,demands:e.stepDemands[c][f],pops:e.stepPops[c][f],patterns:e.patterns,"delta-val":p.workerVal,favors:e.favors,onRemove:F=>e.addBan(c,f,F)},{default:oe(()=>[d("div",vv,[I(S(p.workers),1),Ev])]),_:2},1032,["solver","batch","demands","pops","patterns","delta-val","favors","onRemove"]))),128))])],8,dv))),128))])),e.isLoading?(E(),_("div",Cv,[W(l)])):G("",!0)])}const bv=fe(Fs,[["render",yv]]);var wv=Object.defineProperty,Bv=Object.getOwnPropertyDescriptor,ro=(e,t,s,n)=>{for(var o=n>1?void 0:n?Bv(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&wv(t,s,o),o};let _s=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"steps");v(this,"workers")}get factor(){return this.workers??1}get ingredients(){let s=new Map;for(let o=0;o<this.steps.length;o++){let u=this.steps[o];s.set(u,(s.get(u)??0)+1)}let n=new Map;return s.forEach((o,u)=>{this.solver.Recipes[u].Ingredients.forEach(i=>{if(i.Count===0)return;let l=i.Id,a=i.Count*o;n.set(l,(n.get(l)??0)+a)})}),[...n.entries()].sort((o,u)=>{let r=this.solver.data.GetItem(u[0]).Category-this.solver.data.GetItem(o[0]).Category;return r||o[0]-u[0]})}getName(s){return Ie.TrimName(this.solver.data.GetItem(s).Name)}getIconPath(s){return"item-"+this.solver.data.GetItem(s).Icon}getCategory(s){return"category-"+this.solver.data.GetItem(s).Category}};ro([M()],_s.prototype,"solver",2);ro([M()],_s.prototype,"steps",2);ro([M()],_s.prototype,"workers",2);_s=ro([he({})],_s);const Dv=e=>(ti("data-v-182ab360"),e=e(),si(),e),$v={class:"ingridient-name"},Pv={class:"ingridient-count"},kv=Dv(()=>d("span",{class:"cross"},"",-1));function Sv(e,t,s,n,o,u){return E(),_("div",null,[(E(!0),_(q,null,ue(e.ingredients,(r,i)=>(E(),_("div",{key:i,class:ae(["ingridient",e.getCategory(r[0])])},[d("span",$v,S(e.getName(r[0])),1),d("span",Pv,[kv,I(S(r[1]*e.factor),1)])],2))),128))])}const jv=fe(_s,[["render",Sv],["__scopeId","data-v-182ab360"]]);var Iv=Object.defineProperty,Ov=Object.getOwnPropertyDescriptor,Mt=(e,t,s,n)=>{for(var o=n>1?void 0:n?Ov(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&Iv(t,s,o),o};let ct=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"workerSteps");v(this,"favors");v(this,"removeable");v(this,"hideShare");v(this,"hideBtn");v(this,"batchValues",[])}getDayValue(s){let n=this.batchValues[s],o=this.workerSteps[s],u=0;for(let r=0;r<n.length;r++){const i=o[r].worker,l=n[r].value;u+=i*l}return u}get sumVal(){var n;let s=0;for(let o=0;o<this.batchValues.length;o++)for(let u=0;u<this.batchValues[o].length;u++)s+=this.batchValues[o][u].value*((n=this.workerSteps[o][u])==null?void 0:n.worker);return s}get sumCost(){var n;let s=0;for(let o=0;o<this.batchValues.length;o++)for(let u=0;u<this.batchValues[o].length;u++)s+=this.batchValues[o][u].cost*((n=this.workerSteps[o][u])==null?void 0:n.worker);return s}get netVal(){return this.sumVal-this.sumCost}get flatSteps(){let s=[];for(let n=0;n<this.workerSteps.length;n++)for(let o=0;o<this.workerSteps[n].length;o++){let u=this.workerSteps[n][o];for(let r=0;r<u.worker;r++)s.push(...u.steps)}return s}async recalculateValue(){await this.solver.init(),this.batchValues=await this.solver.simulateMultiWeek(this.workerSteps)}mounted(){this.recalculateValue()}onClose(){this.$emit("remove")}edit(s){this.$emit("editSteps",s)}del(s){this.$emit("delSteps",s)}get maxWorker(){return this.solver.config.workers}setWorkerNum(s,n,o){let u=Number(o.target.value),r=[];for(let i=0;i<this.workerSteps[s].length;i++)r.push(this.workerSteps[s][i].worker);cu.ChangeArrayVal(r,n,u,this.maxWorker);for(let i=0;i<this.workerSteps[s].length;i++)this.workerSteps[s][i].worker=r[i]}get isMax(){let s=0;for(let n=0;n<this.workerSteps.length;n++){let o=this.workerSteps[n];for(let u=0;u<o.length;u++)if(o[u].steps.length>0){s++;break}}return s>=5}getShareCode(){return Rd(this.workerSteps)}get shareLink(){return document.location.protocol+"//"+document.location.host+"/#/plan/"+this.getShareCode()}copyToClipboard(s){let n=": "+this.sumVal+" (: "+this.sumCost+`)
`;for(let o=0;o<7;o++){const u=this.workerSteps[o];if(n+=""+(o+1).toString()+": ",u.length===0){n+=`
`;continue}else n+=this.getDayValue(o)+`
`;for(let r=0;r<u.length;r++){const i=u[r];n+="    "+i.worker.toString()+" ";for(let l=0;l<i.steps.length;l++){const a=i.steps[l];n+=Ie.TrimName(this.solver.data.GetRecipe(a).Name),l<i.steps.length-1&&(n+=", ")}n+=`
`}}if(this.favors.length>0){n+=": ";for(let o=0;o<this.favors.length;o++){const u=this.favors[o];n+=Ie.TrimName(this.solver.data.GetRecipe(u.id).Name);const r=this.getFavorFinished(u.id);n+="("+r+"/"+u.num+")",o<this.favors.length-1&&(n+=", ")}}navigator.clipboard.writeText(n).catch(o=>alert(o)),s.preventDefault()}getFavorIcon(s){return"item-"+this.solver.Recipes[s].Icon}getFavorName(s){return Ie.TrimName(this.solver.Recipes[s].Name)}getFavorFinished(s){let n=0;return this.workerSteps.forEach(o=>{o.forEach(u=>n+=u.getRecipeProduct(s))}),n}editFavor(s){this.$emit("edit-favor",s)}onMouseIn(s,n){this.solver.event.onHoverEnter(s,n.clientX,n.clientY)}onMouseOut(s){this.solver.event.onHoverExit(s)}};Mt([M()],ct.prototype,"solver",2);Mt([M()],ct.prototype,"workerSteps",2);Mt([M()],ct.prototype,"favors",2);Mt([M()],ct.prototype,"removeable",2);Mt([M()],ct.prototype,"hideShare",2);Mt([M()],ct.prototype,"hideBtn",2);Mt([_e("workerSteps",{deep:!0})],ct.prototype,"recalculateValue",1);ct=Mt([he({components:{StepsComp:eo,IngridComp:jv,Close:Yt},emits:["addSteps","delSteps","remove"]})],ct);const Mv={class:"plan mji-wooden-plate"},Rv={class:"plan-header mji-info-box"},Tv={class:"plan-info"},Nv={class:"total-value"},Vv=d("icon",{class:"blue-coin"},null,-1),Wv=d("icon",{class:"blue-coin"},null,-1),Lv={key:0},Uv=d("icon",{class:"blue-coin"},null,-1),xv={class:"share-link"},Kv=["href"],Hv={key:0,class:"mji-text-small"},qv={class:"hide-lg share-link-url"},Gv={class:"plan-body"},Jv={class:"plan-batch-info"},Yv={key:0,class:"value"},Zv={class:"value plan-batch-remove"},zv=["onClick"],Qv={class:"value"},Xv=d("icon",{class:"blue-coin"},null,-1),e6={class:"plan-content"},t6=["onClick"],s6=d("icon",{class:"sched sched-add"},null,-1),n6=[s6],o6={key:1,class:"plan-rest"},u6=d("icon",{class:"sched sched-rest"},null,-1),r6=[u6],i6={key:1,class:"plan-workers"},l6={class:"worker-num"},a6=["max","value","onInput"],c6={key:1},d6=d("span",{class:"cross"},"",-1),p6={key:0,class:"plan-favors plan-batch mji-info-box"},f6=d("div",{class:"plan-batch-info"},[d("icon",{class:"mji mji-nekomimi"})],-1),h6={class:"plan-content"},m6=["onClick","onMouseenter","onMouseleave"],g6={class:"favor-item-body"},v6={class:"hide-md"},E6={class:"favor-item-state"},F6={key:0,class:"mji mji-true"},_6={key:1},A6=d("button",{class:"plan-add"},[d("icon",{class:"sched sched-add"})],-1),C6=[A6],y6={key:0,class:"plan-ingredients mji-info-box hide-xs"};function b6(e,t,s,n,o,u){const r=Z("close"),i=Z("steps-comp"),l=Z("ingrid-comp");return E(),_("div",Mv,[qt(e.$slots,"header"),d("div",Rv,[d("div",Tv,[d("span",Nv,[I(" : "),Vv,I(S(e.sumVal)+" ( ",1),Wv,I(S(-e.sumCost)+") ",1),e.solver.config.showNetValue?(E(),_("span",Lv,[I(" = "),Uv,I(S(e.netVal),1)])):G("",!0)]),d("span",xv,[e.hideShare?G("",!0):(E(),_("a",{key:0,href:e.shareLink,target:"_blank",class:"visible-lg"},"",8,Kv)),d("a",{href:"#",onClick:t[0]||(t[0]=(...a)=>e.copyToClipboard&&e.copyToClipboard(...a))},"")]),e.removeable?(E(),ve(r,{key:0,class:"plan-remove",onClose:e.onClose},null,8,["onClose"])):G("",!0)]),e.hideShare?G("",!0):(E(),_("div",Hv,[d("span",qv,S(e.shareLink),1)]))]),d("div",Gv,[d("div",{class:ae(["plan-batches",{"is-fullwidth":e.solver.config.hideIngredients}])},[(E(!0),_(q,null,ue(e.batchValues,(a,c)=>(E(),_("div",{key:c,class:"plan-batch mji-info-box"},[d("div",Jv,[d("span",null,""+S(c+1)+"",1),e.workerSteps[c].every(p=>p.steps.length===0)?(E(),_("span",Yv,"")):(E(),_(q,{key:1},[d("span",Zv,[d("a",{onClick:p=>e.del(c)},"",8,zv)]),d("span",Qv,[Xv,I(S(e.getDayValue(c)),1)])],64))]),d("div",e6,[e.workerSteps[c].length==0?(E(),_(q,{key:0},[!e.isMax&&!e.hideBtn?(E(),_("button",{key:0,class:"plan-add",onClick:p=>e.edit(c)},n6,8,t6)):(E(),_("div",o6,r6))],64)):(E(),_("div",i6,[(E(!0),_(q,null,ue(a,(p,f)=>(E(),_("div",{key:c*100+f,class:"plan-worker"},[d("div",l6,[e.hideBtn?(E(),_("span",c6,S(e.workerSteps[c][f].worker),1)):(E(),_("input",{key:0,type:"number",min:"0",max:e.maxWorker,value:e.workerSteps[c][f].worker,onInput:F=>e.setWorkerNum(c,f,F)},null,40,a6)),d6]),W(i,{solver:e.solver,values:p.stepValues,steps:p.steps,favors:e.favors.map(F=>F.id),class:"plan-steps",onClick:F=>e.edit(c)},null,8,["solver","values","steps","favors","onClick"])]))),128))]))])]))),128)),e.favors&&!e.hideBtn?(E(),_("div",p6,[f6,d("div",h6,[(E(!0),_(q,null,ue(e.favors,(a,c)=>(E(),_("div",{class:"plan-favor-item mji-step-box",key:c,onClick:p=>e.editFavor(c),onMouseenter:p=>e.onMouseIn(a.id,p),onMouseleave:p=>e.onMouseOut(a.id)},[d("icon",{class:ae(["item",e.getFavorIcon(a.id)])},null,2),d("div",g6,[d("span",v6,S(e.getFavorName(a.id)),1)]),d("span",E6,[e.getFavorFinished(a.id)>=a.num?(E(),_("icon",F6)):(E(),_("span",_6,S(e.getFavorFinished(a.id))+"/"+S(a.num),1))])],40,m6))),128)),e.favors.length<3?(E(),_("div",{key:0,class:"plan-favor-item",onClick:t[1]||(t[1]=a=>e.editFavor(e.favors.length))},C6)):G("",!0)])])):G("",!0)],2),e.solver.config.hideIngredients?G("",!0):(E(),_("div",y6,[W(l,{solver:e.solver,steps:e.flatSteps},null,8,["solver","steps"])]))]),qt(e.$slots,"footer")])}const w6=fe(ct,[["render",b6]]);var B6=Object.defineProperty,D6=Object.getOwnPropertyDescriptor,io=(e,t,s,n)=>{for(var o=n>1?void 0:n?D6(t,s):t,u=e.length-1,r;u>=0;u--)(r=e[u])&&(o=(n?r(t,s,o):r(o))||o);return n&&o&&B6(t,s,o),o};let As=class extends me{constructor(){super(...arguments);v(this,"solver");v(this,"shareSteps",[]);v(this,"workerPlans",[]);v(this,"currentPlan",0);v(this,"currentDay",0);v(this,"currentFavor",0);v(this,"solverDialog",!1);v(this,"isLoading",!1);v(this,"isSolveFavor",!1);v(this,"recipePicker",!1);v(this,"now",0);v(this,"progress",0);v(this,"totalProgress",1);v(this,"beginTime",0);v(this,"lastProgressTime",0);v(this,"solveFavors",[])}get shareCode(){return this.$route.params.share}get workerNum(){return this.solver.config.workers}get seqNum(){return this.solver.config.differentWorkers}get progressText(){return Math.round(this.progress/this.totalProgress*100)}get timeElapse(){if(this.now===0)return"0:00";let s=(this.now-this.beginTime)/1e3;return Math.floor(s/60)+":"+this.getText(Math.floor(s%60))}get timeEstimate(){if(this.lastProgressTime===0||this.progress===0){let n=(this.now-this.beginTime)/1e3;return n<0?"N/A":(n*=this.totalProgress,Math.ceil(n/300)*5+"")}let s=(this.lastProgressTime-this.beginTime)/1e3/(this.progress/this.totalProgress);return Math.floor(s/60)+""}getText(s){let n=String(s);return n.length<2?"0"+n:n}updateNow(){this.now=new Date().getTime()}editStep(s,n){this.currentPlan=s,this.currentDay=n;let o=this.solver.predictDemands[n],u=[];for(let c=0;c<o.length;c++)u.push(o[c]);let r=0,i=this.workerPlans[s].steps;for(let c=0;c<n;c++){let p=i[c];for(let f=0;f<p.length;f++){const F=p[f];F.steps.length>0&&(r+=(F.steps.length-1)*F.worker)}}for(let c=0;c<(this.solver.config.totalDemand?i.length:n);c++){let p=i[c];if(c!==n)for(let f=0;f<p.length;f++){const F=p[f];for(let D=0;D<F.steps.length;D++){const k=F.steps[D];u[k]-=(D==0?1:2)*F.worker}}}let l=[];this.workerPlans[s].favors.forEach(c=>{l.push(c.clone())}),i.forEach((c,p)=>{p!=n&&c.forEach(f=>l.forEach(F=>F.apply(f)))}),l.forEach(c=>c.num=Math.max(c.num,0));let a=[...i[n]];this.solverDialog=!0,this.$refs.ssolver.solveBatch(u,a,r,l)}applyWorkerSteps(s){this.close(),this.workerPlans[this.currentPlan].steps[this.currentDay]=s,this.onStepChange()}close(){this.solverDialog=!1}delStep(s,n){this.workerPlans[s].steps[n]=[],this.onStepChange()}editFavor(s,n){this.currentPlan=s,this.currentFavor=n,this.recipePicker=!0}applyFavor(s){let n=6;switch(this.solver.Recipes[s].Time){case 4:case 8:n=8;break;case 6:n=6;break}this.currentPlan<0?this.solveFavors[this.currentFavor]=new Kt(s,n):this.workerPlans[this.currentPlan].favors[this.currentFavor]=new Kt(s,n),this.recipePicker=!1}getFavorIcon(s){return"item-"+this.solver.Recipes[s].Icon}getFavorName(s){return Ie.TrimName(this.solver.Recipes[s].Name)}load(){let s=[],n=localStorage.getItem("MJIPlanWithFavors");if(n){let i=JSON.parse(n);for(let l=0;l<i.length;l++){let a=new ut([]),c=i[l].steps;for(let f=0;f<c.length;f++){let F=[];for(let D=0;D<c[f].length;D++)F.push(new Se(c[f][D].worker,c[f][D].steps));a.steps.push(F)}let p=i[l].favors;for(let f=0;f<p.length;f++)a.favors.push(new Kt(p[f].id,p[f].num));s.push(a)}}let o=localStorage.getItem("MJIWorkerPlans");if(o){let i=JSON.parse(o);localStorage.removeItem("MJIWorkerPlans");for(let l=0;l<i.length;l++){let a=[];for(let c=0;c<i[l].length;c++){let p=[];for(let f=0;f<i[l][c].length;f++)p.push(new Se(i[l][c][f].worker,i[l][c][f].steps));a.push(p)}s.push(new ut(a))}}let u=localStorage.getItem("MJIPlans");if(u){let i=JSON.parse(u);localStorage.removeItem("MJIPlans");for(let l=0;l<i.length;l++)s.push(new ut(this.planMigrate(i[l])))}let r=localStorage.getItem("MJIPlanItem");r&&(s.push(new ut(this.planMigrate(JSON.parse(r)))),localStorage.removeItem("MJIPlanItem")),this.workerPlans=s,this.resizePlan(),this.save()}save(){localStorage.setItem("MJIPlanWithFavors",JSON.stringify(this.workerPlans))}createPlan(){this.workerPlans.push(ut.Empty()),this.onStepChange()}removePlan(s){this.workerPlans.splice(s,1),this.onStepChange()}importPlan(){this.workerPlans.push(new ut(this.shareSteps)),this.resizePlan(),this.save(),this.closePlan()}closePlan(){this.$router.push("/plan")}onStepChange(){this.shareCode}onShareCodeChange(){if(!this.shareCode)return;let s=zn(this.shareCode);s[0]<128?this.shareSteps=this.planMigrate(Od(s)):this.shareSteps=Md(s)}async createPlanFromSolve(){this.isLoading=!0,this.progress=0,this.beginTime=new Date().getTime(),this.lastProgressTime=0,this.updateNow();let s=setInterval(this.updateNow,1e3),n=[];if(this.solver.config.differentWorkers>1){let u=0;this.totalProgress=30,await this.solver.solveCacheClear();for(let r=0;r<30;r++){let i=await this.solver.solveWeekPartly(this.solver.config.defaultBanList,r);this.progress=r,this.lastProgressTime=new Date().getTime(),i[0]>u&&(u=i[0],n=i[1])}}else this.totalProgress=1,n=await this.solver.solveWeek(this.solver.config.defaultBanList);let o=[[]];this.workerPlans.push(new ut(o.concat(n))),this.onStepChange(),this.isLoading=!1,clearInterval(s)}async createPlanFromFavor(){this.isSolveFavor=!1,this.isLoading=!0,this.progress=0,this.beginTime=new Date().getTime(),this.lastProgressTime=0,this.updateNow();let s=setInterval(this.updateNow,1e3);this.totalProgress=1;let n=await this.solver.solveWeekFavor(this.solver.config.defaultBanList,this.solveFavors),o=[[]],u=new ut(o.concat(n));u.favors=this.solveFavors,this.workerPlans.push(u),this.onStepChange(),this.isLoading=!1,clearInterval(s)}planMigrate(s){let n=[];for(let o=0;o<s.length;o++)n.push([new Se(this.workerNum,s[o])]);return n}resizePlan(){for(let s=0;s<this.workerPlans.length;s++){let n=this.workerPlans[s].steps;for(let o=0;o<n.length;o++){const u=n[o];for(let r=0;r<u.length;r++)u[r].steps.length===0&&(u.splice(r,1),r--)}}}mounted(){this.load(),this.onShareCodeChange()}};io([M()],As.prototype,"solver",2);io([_e("workerPlans",{deep:!0})],As.prototype,"save",1);io([_e("shareCode")],As.prototype,"onShareCodeChange",1);As=io([he({components:{Plan:w6,SimpleSolver:bv,Close:Yt,Popup:so,Loading:au,ItemSelection:el}})],As);class ut{constructor(t){v(this,"steps",[]);v(this,"favors",[]);this.steps=t}static Empty(){let t=[];for(let s=0;s<7;s++){let n=[];t.push(n)}return new ut(t)}}const $6={class:"plan-view"},P6=d("h1",null,"",-1),k6={class:"mji-wooden-plate"},S6=d("div",{class:"mji-title mji-text-brown"},[I("  "),d("span",{class:"mji mji-text-orange mji-text-small",style:{float:"right"}},"")],-1),j6={class:"solve-favor-body"},I6=["onClick"],O6={class:"favor-item-body"},M6=d("button",{class:"plan-add"},[d("icon",{class:"sched sched-add"})],-1),R6=[M6],T6={class:"mji-footer",style:{"text-align":"right"}},N6={key:0,class:"mji mji-text-orange mji-text-small",style:{"margin-right":"1em"}},V6=["disabled"],W6={class:"solve-progress"},L6={class:"progress-bar"},U6=["value","max"],x6={class:"progress-percent"},K6={class:"progress-label"},H6={class:"plan-share-view"},q6=d("div",{class:"mji-title"},[d("span",{class:"mji-text-brown"},"  "),d("span",{class:"share-control"},[d("span",{class:"mji-text-brown mji-text-small hide-xs"},"  ")])],-1),G6={class:"mji-footer",style:{"text-align":"right"}},J6={class:"control-buttons"},Y6=d("icon",{class:"mji mji-nekomimi",style:{"--scale":"0.6"}},null,-1),Z6=[Y6];function z6(e,t,s,n,o,u){const r=Z("simple-solver"),i=Z("popup"),l=Z("Loading"),a=Z("item-selection"),c=Z("plan");return E(),_("div",$6,[P6,ee(W(i,{onClose:e.close},{default:oe(()=>[W(r,{ref:"ssolver",class:"solver",solver:e.solver,onApply:e.applyWorkerSteps},null,8,["solver","onApply"])]),_:1},8,["onClose"]),[[Os,e.solverDialog]]),ee(W(i,{onClose:t[2]||(t[2]=p=>e.isSolveFavor=!1)},{default:oe(()=>{var p;return[d("div",k6,[S6,d("div",j6,[(E(!0),_(q,null,ue(e.solveFavors,(f,F)=>(E(),_("div",{class:"solve-favor-item mji-step-box",key:F,onClick:D=>e.editFavor(-1,F)},[d("icon",{class:ae(["item",e.getFavorIcon(f.id)])},null,2),d("div",O6,[d("span",null,S(e.getFavorName(f.id)),1)])],8,I6))),128)),e.solveFavors.length<3?(E(),_("div",{key:0,class:"solve-favor-item",onClick:t[0]||(t[0]=f=>e.editFavor(-1,e.solveFavors.length))},R6)):G("",!0)]),d("div",T6,[((p=e.solveFavors[2])==null?void 0:p.id)===77?(E(),_("span",N6,"")):G("",!0),d("button",{class:"mji mji-text-brown",onClick:t[1]||(t[1]=(...f)=>e.createPlanFromFavor&&e.createPlanFromFavor(...f)),disabled:e.solveFavors.length<3},"  ",8,V6)])])]}),_:1},512),[[Os,e.isSolveFavor]]),ee(W(i,{"no-close":!0},{default:oe(()=>[W(l),d("div",W6,[d("div",L6,[d("progress",{value:e.progress,max:e.totalProgress,class:"progress"},null,8,U6),d("span",x6,S(e.progressText)+"%",1)]),d("div",K6," : "+S(e.timeElapse)+" / : "+S(e.timeEstimate),1)])]),_:1},512),[[Os,e.isLoading]]),ee(W(i,{onClose:t[3]||(t[3]=p=>e.recipePicker=!1)},{default:oe(()=>[W(a,{solver:e.solver,onOnSelect:e.applyFavor,"filter-override":e.currentFavor+1},null,8,["solver","onOnSelect","filter-override"])]),_:1},512),[[Os,e.recipePicker]]),e.shareCode?(E(),ve(i,{key:0,"no-close":!0},{default:oe(()=>[d("div",H6,[e.shareCode?(E(),ve(c,{key:0,solver:e.solver,"worker-steps":e.shareSteps,"hide-share":!0,"hide-btn":!0,favors:[]},{header:oe(()=>[q6]),footer:oe(()=>[d("div",G6,[d("button",{class:"mji mji-text-brown",onClick:t[4]||(t[4]=(...p)=>e.importPlan&&e.importPlan(...p))},"  ")])]),_:1},8,["solver","worker-steps"])):G("",!0)])]),_:1})):G("",!0),d("div",null,[(E(!0),_(q,null,ue(e.workerPlans,(p,f)=>(E(),ve(c,{key:f,solver:e.solver,"worker-steps":p.steps,removeable:!0,favors:p.favors,onRemove:F=>e.removePlan(f),onEditSteps:F=>e.editStep(f,F),onDelSteps:F=>e.delStep(f,F),onEditFavor:F=>e.editFavor(f,F)},null,8,["solver","worker-steps","favors","onRemove","onEditSteps","onDelSteps","onEditFavor"]))),128)),d("div",J6,[d("button",{class:"pure-button",style:{width:"50%"},onClick:t[5]||(t[5]=(...p)=>e.createPlan&&e.createPlan(...p))},"  "),d("button",{class:"pure-button",style:{width:"calc(50% - 56px - 5px - 5px)"},onClick:t[6]||(t[6]=(...p)=>e.createPlanFromSolve&&e.createPlanFromSolve(...p))},"  "),d("button",{class:"pure-button",style:{width:"56px"},onClick:t[7]||(t[7]=p=>e.isSolveFavor=!0)},Z6)])])])}const $r=fe(As,[["render",z6]]),Q6=Nf({history:Xp("/"),routes:[{path:"/",name:"home",component:gm},{path:"/help",name:"help",component:Mm},{path:"/pat/:share",name:"pattern_share",component:vo},{path:"/pred/:data",name:"predition_data",component:vo},{path:"/pred",name:"predition",component:vo},{path:"/plan",name:"plan",component:$r},{path:"/plan/:share",name:"plan_share",component:$r},{path:"/setting",name:"setting",component:Sg}]}),Eu=Bc(Op);Eu.use(Q6);Eu.use(Jc,{config:{id:"G-55CXMHCLVY"}});Eu.mount("#app");

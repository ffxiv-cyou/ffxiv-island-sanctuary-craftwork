var Ji=Object.defineProperty;var Yi=(e,t,s)=>t in e?Ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var v=(e,t,s)=>(Yi(e,typeof t!="symbol"?t+"":t,s),s);import{C as nt,R as du,a as Xi,b as Zi}from"./config-d68b2056.js";function Su(e,t){const s=Object.create(null),n=e.split(",");for(let u=0;u<n.length;u++)s[n[u]]=!0;return t?u=>!!s[u.toLowerCase()]:u=>!!s[u]}const ce={},es=[],Ke=()=>{},el=()=>!1,tl=/^on[^a-z]/,In=e=>tl.test(e),ju=e=>e.startsWith("onUpdate:"),Fe=Object.assign,Ou=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},sl=Object.prototype.hasOwnProperty,X=(e,t)=>sl.call(e,t),U=Array.isArray,ts=e=>Xs(e)==="[object Map]",vs=e=>Xs(e)==="[object Set]",go=e=>Xs(e)==="[object Date]",q=e=>typeof e=="function",ve=e=>typeof e=="string",Ts=e=>typeof e=="symbol",ae=e=>e!==null&&typeof e=="object",yr=e=>ae(e)&&q(e.then)&&q(e.catch),wr=Object.prototype.toString,Xs=e=>wr.call(e),nl=e=>Xs(e).slice(8,-1),Ss=e=>Xs(e)==="[object Object]",Iu=e=>ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fn=Su(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ul=/-(\w)/g,ut=Rn(e=>e.replace(ul,(t,s)=>s?s.toUpperCase():"")),ol=/\B([A-Z])/g,_s=Rn(e=>e.replace(ol,"-$1").toLowerCase()),Mn=Rn(e=>e.charAt(0).toUpperCase()+e.slice(1)),su=Rn(e=>e?`on${Mn(e)}`:""),Ns=(e,t)=>!Object.is(e,t),hn=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Fn=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},Cn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let vo;const pu=()=>vo||(vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zs(e){if(U(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],u=ve(n)?al(n):Zs(n);if(u)for(const o in u)t[o]=u[o]}return t}else{if(ve(e))return e;if(ae(e))return e}}const rl=/;(?![^(]*\))/g,il=/:([^]+)/,ll=new RegExp("\\/\\*.*?\\*\\/","gs");function al(e){const t={};return e.replace(ll,"").split(rl).forEach(s=>{if(s){const n=s.split(il);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function me(e){let t="";if(ve(e))t=e;else if(U(e))for(let s=0;s<e.length;s++){const n=me(e[s]);n&&(t+=n+" ")}else if(ae(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const cl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dl=Su(cl);function Ar(e){return!!e||e===""}function pl(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=en(e[n],t[n]);return s}function en(e,t){if(e===t)return!0;let s=go(e),n=go(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Ts(e),n=Ts(t),s||n)return e===t;if(s=U(e),n=U(t),s||n)return s&&n?pl(e,t):!1;if(s=ae(e),n=ae(t),s||n){if(!s||!n)return!1;const u=Object.keys(e).length,o=Object.keys(t).length;if(u!==o)return!1;for(const r in e){const i=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(i&&!l||!i&&l||!en(e[r],t[r]))return!1}}return String(e)===String(t)}function Ru(e,t){return e.findIndex(s=>en(s,t))}const O=e=>ve(e)?e:e==null?"":U(e)||ae(e)&&(e.toString===wr||!q(e.toString))?JSON.stringify(e,Dr,2):String(e),Dr=(e,t)=>t&&t.__v_isRef?Dr(e,t.value):ts(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,u])=>(s[`${n} =>`]=u,s),{})}:vs(t)?{[`Set(${t.size})`]:[...t.values()]}:ae(t)&&!U(t)&&!Ss(t)?String(t):t;let Le;class fl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Le,!t&&Le&&(this.index=(Le.scopes||(Le.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=Le;try{return Le=this,t()}finally{Le=s}}}on(){Le=this}off(){Le=this.parent}stop(t){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function hl(e,t=Le){t&&t.active&&t.effects.push(e)}function ml(){return Le}const Mu=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Br=e=>(e.w&$t)>0,$r=e=>(e.n&$t)>0,gl=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=$t},vl=e=>{const{deps:t}=e;if(t.length){let s=0;for(let n=0;n<t.length;n++){const u=t[n];Br(u)&&!$r(u)?u.delete(e):t[s++]=u,u.w&=~$t,u.n&=~$t}t.length=s}},fu=new WeakMap;let $s=0,$t=1;const hu=30;let Ue;const xt=Symbol(""),mu=Symbol("");class Tu{constructor(t,s=null,n){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,hl(this,n)}run(){if(!this.active)return this.fn();let t=Ue,s=Dt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ue,Ue=this,Dt=!0,$t=1<<++$s,$s<=hu?gl(this):_o(this),this.fn()}finally{$s<=hu&&vl(this),$t=1<<--$s,Ue=this.parent,Dt=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ue===this?this.deferStop=!0:this.active&&(_o(this),this.onStop&&this.onStop(),this.active=!1)}}function _o(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let Dt=!0;const Pr=[];function Es(){Pr.push(Dt),Dt=!1}function Fs(){const e=Pr.pop();Dt=e===void 0?!0:e}function Ie(e,t,s){if(Dt&&Ue){let n=fu.get(e);n||fu.set(e,n=new Map);let u=n.get(s);u||n.set(s,u=Mu()),kr(u)}}function kr(e,t){let s=!1;$s<=hu?$r(e)||(e.n|=$t,s=!Br(e)):s=!e.has(Ue),s&&(e.add(Ue),Ue.deps.push(e))}function ht(e,t,s,n,u,o){const r=fu.get(e);if(!r)return;let i=[];if(t==="clear")i=[...r.values()];else if(s==="length"&&U(e)){const l=Number(n);r.forEach((a,c)=>{(c==="length"||c>=l)&&i.push(a)})}else switch(s!==void 0&&i.push(r.get(s)),t){case"add":U(e)?Iu(s)&&i.push(r.get("length")):(i.push(r.get(xt)),ts(e)&&i.push(r.get(mu)));break;case"delete":U(e)||(i.push(r.get(xt)),ts(e)&&i.push(r.get(mu)));break;case"set":ts(e)&&i.push(r.get(xt));break}if(i.length===1)i[0]&&gu(i[0]);else{const l=[];for(const a of i)a&&l.push(...a);gu(Mu(l))}}function gu(e,t){const s=U(e)?e:[...e];for(const n of s)n.computed&&Eo(n);for(const n of s)n.computed||Eo(n)}function Eo(e,t){(e!==Ue||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const _l=Su("__proto__,__v_isRef,__isVue"),Sr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ts)),El=Nu(),Fl=Nu(!1,!0),Cl=Nu(!0),Fo=bl();function bl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=ee(this);for(let o=0,r=this.length;o<r;o++)Ie(n,"get",o+"");const u=n[t](...s);return u===-1||u===!1?n[t](...s.map(ee)):u}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Es();const n=ee(this)[t].apply(this,s);return Fs(),n}}),e}function yl(e){const t=ee(this);return Ie(t,"has",e),t.hasOwnProperty(e)}function Nu(e=!1,t=!1){return function(n,u,o){if(u==="__v_isReactive")return!e;if(u==="__v_isReadonly")return e;if(u==="__v_isShallow")return t;if(u==="__v_raw"&&o===(e?t?Vl:Mr:t?Rr:Ir).get(n))return n;const r=U(n);if(!e){if(r&&X(Fo,u))return Reflect.get(Fo,u,o);if(u==="hasOwnProperty")return yl}const i=Reflect.get(n,u,o);return(Ts(u)?Sr.has(u):_l(u))||(e||Ie(n,"get",u),t)?i:De(i)?r&&Iu(u)?i:i.value:ae(i)?e?Tr(i):tn(i):i}}const wl=jr(),Al=jr(!0);function jr(e=!1){return function(s,n,u,o){let r=s[n];if(os(r)&&De(r)&&!De(u))return!1;if(!e&&(!bn(u)&&!os(u)&&(r=ee(r),u=ee(u)),!U(s)&&De(r)&&!De(u)))return r.value=u,!0;const i=U(s)&&Iu(n)?Number(n)<s.length:X(s,n),l=Reflect.set(s,n,u,o);return s===ee(o)&&(i?Ns(u,r)&&ht(s,"set",n,u):ht(s,"add",n,u)),l}}function Dl(e,t){const s=X(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&ht(e,"delete",t,void 0),n}function Bl(e,t){const s=Reflect.has(e,t);return(!Ts(t)||!Sr.has(t))&&Ie(e,"has",t),s}function $l(e){return Ie(e,"iterate",U(e)?"length":xt),Reflect.ownKeys(e)}const Or={get:El,set:wl,deleteProperty:Dl,has:Bl,ownKeys:$l},Pl={get:Cl,set(e,t){return!0},deleteProperty(e,t){return!0}},kl=Fe({},Or,{get:Fl,set:Al}),Vu=e=>e,Tn=e=>Reflect.getPrototypeOf(e);function on(e,t,s=!1,n=!1){e=e.__v_raw;const u=ee(e),o=ee(t);s||(t!==o&&Ie(u,"get",t),Ie(u,"get",o));const{has:r}=Tn(u),i=n?Vu:s?Uu:Vs;if(r.call(u,t))return i(e.get(t));if(r.call(u,o))return i(e.get(o));e!==u&&e.get(t)}function rn(e,t=!1){const s=this.__v_raw,n=ee(s),u=ee(e);return t||(e!==u&&Ie(n,"has",e),Ie(n,"has",u)),e===u?s.has(e):s.has(e)||s.has(u)}function ln(e,t=!1){return e=e.__v_raw,!t&&Ie(ee(e),"iterate",xt),Reflect.get(e,"size",e)}function Co(e){e=ee(e);const t=ee(this);return Tn(t).has.call(t,e)||(t.add(e),ht(t,"add",e,e)),this}function bo(e,t){t=ee(t);const s=ee(this),{has:n,get:u}=Tn(s);let o=n.call(s,e);o||(e=ee(e),o=n.call(s,e));const r=u.call(s,e);return s.set(e,t),o?Ns(t,r)&&ht(s,"set",e,t):ht(s,"add",e,t),this}function yo(e){const t=ee(this),{has:s,get:n}=Tn(t);let u=s.call(t,e);u||(e=ee(e),u=s.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return u&&ht(t,"delete",e,void 0),o}function wo(){const e=ee(this),t=e.size!==0,s=e.clear();return t&&ht(e,"clear",void 0,void 0),s}function an(e,t){return function(n,u){const o=this,r=o.__v_raw,i=ee(r),l=t?Vu:e?Uu:Vs;return!e&&Ie(i,"iterate",xt),r.forEach((a,c)=>n.call(u,l(a),l(c),o))}}function cn(e,t,s){return function(...n){const u=this.__v_raw,o=ee(u),r=ts(o),i=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,a=u[e](...n),c=s?Vu:t?Uu:Vs;return!t&&Ie(o,"iterate",l?mu:xt),{next(){const{value:p,done:m}=a.next();return m?{value:p,done:m}:{value:i?[c(p[0]),c(p[1])]:c(p),done:m}},[Symbol.iterator](){return this}}}}function Ft(e){return function(...t){return e==="delete"?!1:this}}function Sl(){const e={get(o){return on(this,o)},get size(){return ln(this)},has:rn,add:Co,set:bo,delete:yo,clear:wo,forEach:an(!1,!1)},t={get(o){return on(this,o,!1,!0)},get size(){return ln(this)},has:rn,add:Co,set:bo,delete:yo,clear:wo,forEach:an(!1,!0)},s={get(o){return on(this,o,!0)},get size(){return ln(this,!0)},has(o){return rn.call(this,o,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:an(!0,!1)},n={get(o){return on(this,o,!0,!0)},get size(){return ln(this,!0)},has(o){return rn.call(this,o,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:an(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=cn(o,!1,!1),s[o]=cn(o,!0,!1),t[o]=cn(o,!1,!0),n[o]=cn(o,!0,!0)}),[e,s,t,n]}const[jl,Ol,Il,Rl]=Sl();function xu(e,t){const s=t?e?Rl:Il:e?Ol:jl;return(n,u,o)=>u==="__v_isReactive"?!e:u==="__v_isReadonly"?e:u==="__v_raw"?n:Reflect.get(X(s,u)&&u in n?s:n,u,o)}const Ml={get:xu(!1,!1)},Tl={get:xu(!1,!0)},Nl={get:xu(!0,!1)},Ir=new WeakMap,Rr=new WeakMap,Mr=new WeakMap,Vl=new WeakMap;function xl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ll(e){return e.__v_skip||!Object.isExtensible(e)?0:xl(nl(e))}function tn(e){return os(e)?e:Lu(e,!1,Or,Ml,Ir)}function Ul(e){return Lu(e,!1,kl,Tl,Rr)}function Tr(e){return Lu(e,!0,Pl,Nl,Mr)}function Lu(e,t,s,n,u){if(!ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=u.get(e);if(o)return o;const r=Ll(e);if(r===0)return e;const i=new Proxy(e,r===2?n:s);return u.set(e,i),i}function ss(e){return os(e)?ss(e.__v_raw):!!(e&&e.__v_isReactive)}function os(e){return!!(e&&e.__v_isReadonly)}function bn(e){return!!(e&&e.__v_isShallow)}function Nr(e){return ss(e)||os(e)}function ee(e){const t=e&&e.__v_raw;return t?ee(t):e}function Vr(e){return Fn(e,"__v_skip",!0),e}const Vs=e=>ae(e)?tn(e):e,Uu=e=>ae(e)?Tr(e):e;function xr(e){Dt&&Ue&&(e=ee(e),kr(e.dep||(e.dep=Mu())))}function Lr(e,t){e=ee(e);const s=e.dep;s&&gu(s)}function De(e){return!!(e&&e.__v_isRef===!0)}function Wl(e){return Ur(e,!1)}function Hl(e){return Ur(e,!0)}function Ur(e,t){return De(e)?e:new Kl(e,t)}class Kl{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:ee(t),this._value=s?t:Vs(t)}get value(){return xr(this),this._value}set value(t){const s=this.__v_isShallow||bn(t)||os(t);t=s?t:ee(t),Ns(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:Vs(t),Lr(this))}}function ns(e){return De(e)?e.value:e}const zl={get:(e,t,s)=>ns(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const u=e[t];return De(u)&&!De(s)?(u.value=s,!0):Reflect.set(e,t,s,n)}};function Wr(e){return ss(e)?e:new Proxy(e,zl)}class ql{constructor(t,s,n,u){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Tu(t,()=>{this._dirty||(this._dirty=!0,Lr(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=n}get value(){const t=ee(this);return xr(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Gl(e,t,s=!1){let n,u;const o=q(e);return o?(n=e,u=Ke):(n=e.get,u=e.set),new ql(n,u,o||!u,s)}function Bt(e,t,s,n){let u;try{u=n?e(...n):e()}catch(o){Nn(o,t,s)}return u}function ze(e,t,s,n){if(q(e)){const o=Bt(e,t,s,n);return o&&yr(o)&&o.catch(r=>{Nn(r,t,s)}),o}const u=[];for(let o=0;o<e.length;o++)u.push(ze(e[o],t,s,n));return u}function Nn(e,t,s,n=!0){const u=t?t.vnode:null;if(t){let o=t.parent;const r=t.proxy,i=s;for(;o;){const a=o.ec;if(a){for(let c=0;c<a.length;c++)if(a[c](e,r,i)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){Bt(l,null,10,[e,r,i]);return}}Ql(e,s,u,n)}function Ql(e,t,s,n=!0){console.error(e)}let xs=!1,vu=!1;const Ae=[];let st=0;const us=[];let dt=null,Tt=0;const Hr=Promise.resolve();let Wu=null;function yn(e){const t=Wu||Hr;return e?t.then(this?e.bind(this):e):t}function Jl(e){let t=st+1,s=Ae.length;for(;t<s;){const n=t+s>>>1;Ls(Ae[n])<e?t=n+1:s=n}return t}function Hu(e){(!Ae.length||!Ae.includes(e,xs&&e.allowRecurse?st+1:st))&&(e.id==null?Ae.push(e):Ae.splice(Jl(e.id),0,e),Kr())}function Kr(){!xs&&!vu&&(vu=!0,Wu=Hr.then(qr))}function Yl(e){const t=Ae.indexOf(e);t>st&&Ae.splice(t,1)}function Xl(e){U(e)?us.push(...e):(!dt||!dt.includes(e,e.allowRecurse?Tt+1:Tt))&&us.push(e),Kr()}function Ao(e,t=xs?st+1:0){for(;t<Ae.length;t++){const s=Ae[t];s&&s.pre&&(Ae.splice(t,1),t--,s())}}function zr(e){if(us.length){const t=[...new Set(us)];if(us.length=0,dt){dt.push(...t);return}for(dt=t,dt.sort((s,n)=>Ls(s)-Ls(n)),Tt=0;Tt<dt.length;Tt++)dt[Tt]();dt=null,Tt=0}}const Ls=e=>e.id==null?1/0:e.id,Zl=(e,t)=>{const s=Ls(e)-Ls(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function qr(e){vu=!1,xs=!0,Ae.sort(Zl);const t=Ke;try{for(st=0;st<Ae.length;st++){const s=Ae[st];s&&s.active!==!1&&Bt(s,null,14)}}finally{st=0,Ae.length=0,zr(),xs=!1,Wu=null,(Ae.length||us.length)&&qr()}}function ea(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||ce;let u=s;const o=t.startsWith("update:"),r=o&&t.slice(7);if(r&&r in n){const c=`${r==="modelValue"?"model":r}Modifiers`,{number:p,trim:m}=n[c]||ce;m&&(u=s.map(F=>ve(F)?F.trim():F)),p&&(u=s.map(Cn))}let i,l=n[i=su(t)]||n[i=su(ut(t))];!l&&o&&(l=n[i=su(_s(t))]),l&&ze(l,e,6,u);const a=n[i+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,ze(a,e,6,u)}}function Gr(e,t,s=!1){const n=t.emitsCache,u=n.get(e);if(u!==void 0)return u;const o=e.emits;let r={},i=!1;if(!q(e)){const l=a=>{const c=Gr(a,t,!0);c&&(i=!0,Fe(r,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!i?(ae(e)&&n.set(e,null),null):(U(o)?o.forEach(l=>r[l]=null):Fe(r,o),ae(e)&&n.set(e,r),r)}function Vn(e,t){return!e||!In(t)?!1:(t=t.slice(2).replace(/Once$/,""),X(e,t[0].toLowerCase()+t.slice(1))||X(e,_s(t))||X(e,t))}let Be=null,xn=null;function wn(e){const t=Be;return Be=e,xn=e&&e.type.__scopeId||null,t}function Qr(e){xn=e}function Jr(){xn=null}function le(e,t=Be,s){if(!t||e._n)return e;const n=(...u)=>{n._d&&Mo(-1);const o=wn(t);let r;try{r=e(...u)}finally{wn(o),n._d&&Mo(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function nu(e){const{type:t,vnode:s,proxy:n,withProxy:u,props:o,propsOptions:[r],slots:i,attrs:l,emit:a,render:c,renderCache:p,data:m,setupState:F,ctx:P,inheritAttrs:R}=e;let K,j;const L=wn(e);try{if(s.shapeFlag&4){const W=u||n;K=tt(c.call(W,W,p,o,F,m,P)),j=l}else{const W=t;K=tt(W.length>1?W(o,{attrs:l,slots:i,emit:a}):W(o,null)),j=t.props?l:ta(l)}}catch(W){Is.length=0,Nn(W,e,1),K=H(Pt)}let Z=K;if(j&&R!==!1){const W=Object.keys(j),{shapeFlag:ye}=Z;W.length&&ye&7&&(r&&W.some(ju)&&(j=sa(j,r)),Z=rs(Z,j))}return s.dirs&&(Z=rs(Z),Z.dirs=Z.dirs?Z.dirs.concat(s.dirs):s.dirs),s.transition&&(Z.transition=s.transition),K=Z,wn(L),K}const ta=e=>{let t;for(const s in e)(s==="class"||s==="style"||In(s))&&((t||(t={}))[s]=e[s]);return t},sa=(e,t)=>{const s={};for(const n in e)(!ju(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function na(e,t,s){const{props:n,children:u,component:o}=e,{props:r,children:i,patchFlag:l}=t,a=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Do(n,r,a):!!r;if(l&8){const c=t.dynamicProps;for(let p=0;p<c.length;p++){const m=c[p];if(r[m]!==n[m]&&!Vn(a,m))return!0}}}else return(u||i)&&(!i||!i.$stable)?!0:n===r?!1:n?r?Do(n,r,a):!0:!!r;return!1}function Do(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let u=0;u<n.length;u++){const o=n[u];if(t[o]!==e[o]&&!Vn(s,o))return!0}return!1}function ua({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const oa=e=>e.__isSuspense;function ra(e,t){t&&t.pendingBranch?U(e)?t.effects.push(...e):t.effects.push(e):Xl(e)}const dn={};function mn(e,t,s){return Yr(e,t,s)}function Yr(e,t,{immediate:s,deep:n,flush:u,onTrack:o,onTrigger:r}=ce){var i;const l=ml()===((i=Ce)==null?void 0:i.scope)?Ce:null;let a,c=!1,p=!1;if(De(e)?(a=()=>e.value,c=bn(e)):ss(e)?(a=()=>e,n=!0):U(e)?(p=!0,c=e.some(W=>ss(W)||bn(W)),a=()=>e.map(W=>{if(De(W))return W.value;if(ss(W))return Vt(W);if(q(W))return Bt(W,l,2)})):q(e)?t?a=()=>Bt(e,l,2):a=()=>{if(!(l&&l.isUnmounted))return m&&m(),ze(e,l,3,[F])}:a=Ke,t&&n){const W=a;a=()=>Vt(W())}let m,F=W=>{m=L.onStop=()=>{Bt(W,l,4)}},P;if(Ws)if(F=Ke,t?s&&ze(t,l,3,[a(),p?[]:void 0,F]):a(),u==="sync"){const W=Za();P=W.__watcherHandles||(W.__watcherHandles=[])}else return Ke;let R=p?new Array(e.length).fill(dn):dn;const K=()=>{if(L.active)if(t){const W=L.run();(n||c||(p?W.some((ye,Pe)=>Ns(ye,R[Pe])):Ns(W,R)))&&(m&&m(),ze(t,l,3,[W,R===dn?void 0:p&&R[0]===dn?[]:R,F]),R=W)}else L.run()};K.allowRecurse=!!t;let j;u==="sync"?j=K:u==="post"?j=()=>je(K,l&&l.suspense):(K.pre=!0,l&&(K.id=l.uid),j=()=>Hu(K));const L=new Tu(a,j);t?s?K():R=L.run():u==="post"?je(L.run.bind(L),l&&l.suspense):L.run();const Z=()=>{L.stop(),l&&l.scope&&Ou(l.scope.effects,L)};return P&&P.push(Z),Z}function ia(e,t,s){const n=this.proxy,u=ve(e)?e.includes(".")?Xr(n,e):()=>n[e]:e.bind(n,n);let o;q(t)?o=t:(o=t.handler,s=t);const r=Ce;is(this);const i=Yr(u,o.bind(n),s);return r?is(r):Lt(),i}function Xr(e,t){const s=t.split(".");return()=>{let n=e;for(let u=0;u<s.length&&n;u++)n=n[s[u]];return n}}function Vt(e,t){if(!ae(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),De(e))Vt(e.value,t);else if(U(e))for(let s=0;s<e.length;s++)Vt(e[s],t);else if(vs(e)||ts(e))e.forEach(s=>{Vt(s,t)});else if(Ss(e))for(const s in e)Vt(e[s],t);return e}function re(e,t){const s=Be;if(s===null)return e;const n=Hn(s)||s.proxy,u=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,l,a=ce]=t[o];r&&(q(r)&&(r={mounted:r,updated:r}),r.deep&&Vt(i),u.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:a}))}return e}function Rt(e,t,s,n){const u=e.dirs,o=t&&t.dirs;for(let r=0;r<u.length;r++){const i=u[r];o&&(i.oldValue=o[r].value);let l=i.dir[n];l&&(Es(),ze(l,s,8,[e.el,i,e,t]),Fs())}}function Ku(e,t){return q(e)?(()=>Fe({name:e.name},t,{setup:e}))():e}const js=e=>!!e.type.__asyncLoader,Zr=e=>e.type.__isKeepAlive;function la(e,t){ei(e,"a",t)}function aa(e,t){ei(e,"da",t)}function ei(e,t,s=Ce){const n=e.__wdc||(e.__wdc=()=>{let u=s;for(;u;){if(u.isDeactivated)return;u=u.parent}return e()});if(Ln(t,n,s),s){let u=s.parent;for(;u&&u.parent;)Zr(u.parent.vnode)&&ca(n,t,s,u),u=u.parent}}function ca(e,t,s,n){const u=Ln(t,e,n,!0);ti(()=>{Ou(n[t],u)},s)}function Ln(e,t,s=Ce,n=!1){if(s){const u=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(s.isUnmounted)return;Es(),is(s);const i=ze(t,s,e,r);return Lt(),Fs(),i});return n?u.unshift(o):u.push(o),o}}const gt=e=>(t,s=Ce)=>(!Ws||e==="sp")&&Ln(e,(...n)=>t(...n),s),da=gt("bm"),pa=gt("m"),fa=gt("bu"),ha=gt("u"),ma=gt("bum"),ti=gt("um"),ga=gt("sp"),va=gt("rtg"),_a=gt("rtc");function Ea(e,t=Ce){Ln("ec",e,t)}const si="components";function Y(e,t){return Ca(si,e,!0,t)||e}const Fa=Symbol.for("v-ndc");function Ca(e,t,s=!0,n=!1){const u=Be||Ce;if(u){const o=u.type;if(e===si){const i=Ja(o,!1);if(i&&(i===t||i===ut(t)||i===Mn(ut(t))))return o}const r=Bo(u[e]||o[e],t)||Bo(u.appContext[e],t);return!r&&n?o:r}}function Bo(e,t){return e&&(e[t]||e[ut(t)]||e[Mn(ut(t))])}function de(e,t,s,n){let u;const o=s&&s[n];if(U(e)||ve(e)){u=new Array(e.length);for(let r=0,i=e.length;r<i;r++)u[r]=t(e[r],r,void 0,o&&o[r])}else if(typeof e=="number"){u=new Array(e);for(let r=0;r<e;r++)u[r]=t(r+1,r,void 0,o&&o[r])}else if(ae(e))if(e[Symbol.iterator])u=Array.from(e,(r,i)=>t(r,i,void 0,o&&o[i]));else{const r=Object.keys(e);u=new Array(r.length);for(let i=0,l=r.length;i<l;i++){const a=r[i];u[i]=t(e[a],a,i,o&&o[i])}}else u=[];return s&&(s[n]=u),u}function Wt(e,t,s={},n,u){if(Be.isCE||Be.parent&&js(Be.parent)&&Be.parent.isCE)return t!=="default"&&(s.name=t),H("slot",s,n&&n());let o=e[t];o&&o._c&&(o._d=!1),E();const r=o&&ni(o(s)),i=Ee(G,{key:s.key||r&&r.key||`_${t}`},r||(n?n():[]),r&&e._===1?64:-2);return!u&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),o&&o._c&&(o._d=!0),i}function ni(e){return e.some(t=>Bn(t)?!(t.type===Pt||t.type===G&&!ni(t.children)):!0)?e:null}const _u=e=>e?hi(e)?Hn(e)||e.proxy:_u(e.parent):null,Os=Fe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_u(e.parent),$root:e=>_u(e.root),$emit:e=>e.emit,$options:e=>zu(e),$forceUpdate:e=>e.f||(e.f=()=>Hu(e.update)),$nextTick:e=>e.n||(e.n=yn.bind(e.proxy)),$watch:e=>ia.bind(e)}),uu=(e,t)=>e!==ce&&!e.__isScriptSetup&&X(e,t),ba={get({_:e},t){const{ctx:s,setupState:n,data:u,props:o,accessCache:r,type:i,appContext:l}=e;let a;if(t[0]!=="$"){const F=r[t];if(F!==void 0)switch(F){case 1:return n[t];case 2:return u[t];case 4:return s[t];case 3:return o[t]}else{if(uu(n,t))return r[t]=1,n[t];if(u!==ce&&X(u,t))return r[t]=2,u[t];if((a=e.propsOptions[0])&&X(a,t))return r[t]=3,o[t];if(s!==ce&&X(s,t))return r[t]=4,s[t];Eu&&(r[t]=0)}}const c=Os[t];let p,m;if(c)return t==="$attrs"&&Ie(e,"get",t),c(e);if((p=i.__cssModules)&&(p=p[t]))return p;if(s!==ce&&X(s,t))return r[t]=4,s[t];if(m=l.config.globalProperties,X(m,t))return m[t]},set({_:e},t,s){const{data:n,setupState:u,ctx:o}=e;return uu(u,t)?(u[t]=s,!0):n!==ce&&X(n,t)?(n[t]=s,!0):X(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:u,propsOptions:o}},r){let i;return!!s[r]||e!==ce&&X(e,r)||uu(t,r)||(i=o[0])&&X(i,r)||X(n,r)||X(Os,r)||X(u.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:X(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function $o(e){return U(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Eu=!0;function ya(e){const t=zu(e),s=e.proxy,n=e.ctx;Eu=!1,t.beforeCreate&&Po(t.beforeCreate,e,"bc");const{data:u,computed:o,methods:r,watch:i,provide:l,inject:a,created:c,beforeMount:p,mounted:m,beforeUpdate:F,updated:P,activated:R,deactivated:K,beforeDestroy:j,beforeUnmount:L,destroyed:Z,unmounted:W,render:ye,renderTracked:Pe,renderTriggered:Qe,errorCaptured:lt,serverPrefetch:qt,expose:Je,inheritAttrs:_t,components:It,directives:Ye,filters:ys}=t;if(a&&wa(a,n,null),r)for(const oe in r){const te=r[oe];q(te)&&(n[oe]=te.bind(s))}if(u){const oe=u.call(s,s);ae(oe)&&(e.data=tn(oe))}if(Eu=!0,o)for(const oe in o){const te=o[oe],at=q(te)?te.bind(s,s):q(te.get)?te.get.bind(s,s):Ke,Et=!q(te)&&q(te.set)?te.set.bind(s):Ke,Xe=Ne({get:at,set:Et});Object.defineProperty(n,oe,{enumerable:!0,configurable:!0,get:()=>Xe.value,set:Se=>Xe.value=Se})}if(i)for(const oe in i)ui(i[oe],n,s,oe);if(l){const oe=q(l)?l.call(s):l;Reflect.ownKeys(oe).forEach(te=>{gn(te,oe[te])})}c&&Po(c,e,"c");function _e(oe,te){U(te)?te.forEach(at=>oe(at.bind(s))):te&&oe(te.bind(s))}if(_e(da,p),_e(pa,m),_e(fa,F),_e(ha,P),_e(la,R),_e(aa,K),_e(Ea,lt),_e(_a,Pe),_e(va,Qe),_e(ma,L),_e(ti,W),_e(ga,qt),U(Je))if(Je.length){const oe=e.exposed||(e.exposed={});Je.forEach(te=>{Object.defineProperty(oe,te,{get:()=>s[te],set:at=>s[te]=at})})}else e.exposed||(e.exposed={});ye&&e.render===Ke&&(e.render=ye),_t!=null&&(e.inheritAttrs=_t),It&&(e.components=It),Ye&&(e.directives=Ye)}function wa(e,t,s=Ke){U(e)&&(e=Fu(e));for(const n in e){const u=e[n];let o;ae(u)?"default"in u?o=ft(u.from||n,u.default,!0):o=ft(u.from||n):o=ft(u),De(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[n]=o}}function Po(e,t,s){ze(U(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function ui(e,t,s,n){const u=n.includes(".")?Xr(s,n):()=>s[n];if(ve(e)){const o=t[e];q(o)&&mn(u,o)}else if(q(e))mn(u,e.bind(s));else if(ae(e))if(U(e))e.forEach(o=>ui(o,t,s,n));else{const o=q(e.handler)?e.handler.bind(s):t[e.handler];q(o)&&mn(u,o,e)}}function zu(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:u,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,i=o.get(t);let l;return i?l=i:!u.length&&!s&&!n?l=t:(l={},u.length&&u.forEach(a=>An(l,a,r,!0)),An(l,t,r)),ae(t)&&o.set(t,l),l}function An(e,t,s,n=!1){const{mixins:u,extends:o}=t;o&&An(e,o,s,!0),u&&u.forEach(r=>An(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const i=Aa[r]||s&&s[r];e[r]=i?i(e[r],t[r]):t[r]}return e}const Aa={data:ko,props:So,emits:So,methods:Ps,computed:Ps,beforeCreate:ke,created:ke,beforeMount:ke,mounted:ke,beforeUpdate:ke,updated:ke,beforeDestroy:ke,beforeUnmount:ke,destroyed:ke,unmounted:ke,activated:ke,deactivated:ke,errorCaptured:ke,serverPrefetch:ke,components:Ps,directives:Ps,watch:Ba,provide:ko,inject:Da};function ko(e,t){return t?e?function(){return Fe(q(e)?e.call(this,this):e,q(t)?t.call(this,this):t)}:t:e}function Da(e,t){return Ps(Fu(e),Fu(t))}function Fu(e){if(U(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ke(e,t){return e?[...new Set([].concat(e,t))]:t}function Ps(e,t){return e?Fe(Object.create(null),e,t):t}function So(e,t){return e?U(e)&&U(t)?[...new Set([...e,...t])]:Fe(Object.create(null),$o(e),$o(t??{})):t}function Ba(e,t){if(!e)return t;if(!t)return e;const s=Fe(Object.create(null),e);for(const n in t)s[n]=ke(e[n],t[n]);return s}function oi(){return{app:null,config:{isNativeTag:el,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $a=0;function Pa(e,t){return function(n,u=null){q(n)||(n=Fe({},n)),u!=null&&!ae(u)&&(u=null);const o=oi(),r=new Set;let i=!1;const l=o.app={_uid:$a++,_component:n,_props:u,_container:null,_context:o,_instance:null,version:ec,get config(){return o.config},set config(a){},use(a,...c){return r.has(a)||(a&&q(a.install)?(r.add(a),a.install(l,...c)):q(a)&&(r.add(a),a(l,...c))),l},mixin(a){return o.mixins.includes(a)||o.mixins.push(a),l},component(a,c){return c?(o.components[a]=c,l):o.components[a]},directive(a,c){return c?(o.directives[a]=c,l):o.directives[a]},mount(a,c,p){if(!i){const m=H(n,u);return m.appContext=o,c&&t?t(m,a):e(m,a,p),i=!0,l._container=a,a.__vue_app__=l,Hn(m.component)||m.component.proxy}},unmount(){i&&(e(null,l._container),delete l._container.__vue_app__)},provide(a,c){return o.provides[a]=c,l},runWithContext(a){Dn=l;try{return a()}finally{Dn=null}}};return l}}let Dn=null;function gn(e,t){if(Ce){let s=Ce.provides;const n=Ce.parent&&Ce.parent.provides;n===s&&(s=Ce.provides=Object.create(n)),s[e]=t}}function ft(e,t,s=!1){const n=Ce||Be;if(n||Dn){const u=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Dn._context.provides;if(u&&e in u)return u[e];if(arguments.length>1)return s&&q(t)?t.call(n&&n.proxy):t}}function ka(e,t,s,n=!1){const u={},o={};Fn(o,Wn,1),e.propsDefaults=Object.create(null),ri(e,t,u,o);for(const r in e.propsOptions[0])r in u||(u[r]=void 0);s?e.props=n?u:Ul(u):e.type.props?e.props=u:e.props=o,e.attrs=o}function Sa(e,t,s,n){const{props:u,attrs:o,vnode:{patchFlag:r}}=e,i=ee(u),[l]=e.propsOptions;let a=!1;if((n||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let p=0;p<c.length;p++){let m=c[p];if(Vn(e.emitsOptions,m))continue;const F=t[m];if(l)if(X(o,m))F!==o[m]&&(o[m]=F,a=!0);else{const P=ut(m);u[P]=Cu(l,i,P,F,e,!1)}else F!==o[m]&&(o[m]=F,a=!0)}}}else{ri(e,t,u,o)&&(a=!0);let c;for(const p in i)(!t||!X(t,p)&&((c=_s(p))===p||!X(t,c)))&&(l?s&&(s[p]!==void 0||s[c]!==void 0)&&(u[p]=Cu(l,i,p,void 0,e,!0)):delete u[p]);if(o!==i)for(const p in o)(!t||!X(t,p))&&(delete o[p],a=!0)}a&&ht(e,"set","$attrs")}function ri(e,t,s,n){const[u,o]=e.propsOptions;let r=!1,i;if(t)for(let l in t){if(fn(l))continue;const a=t[l];let c;u&&X(u,c=ut(l))?!o||!o.includes(c)?s[c]=a:(i||(i={}))[c]=a:Vn(e.emitsOptions,l)||(!(l in n)||a!==n[l])&&(n[l]=a,r=!0)}if(o){const l=ee(s),a=i||ce;for(let c=0;c<o.length;c++){const p=o[c];s[p]=Cu(u,l,p,a[p],e,!X(a,p))}}return r}function Cu(e,t,s,n,u,o){const r=e[s];if(r!=null){const i=X(r,"default");if(i&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&q(l)){const{propsDefaults:a}=u;s in a?n=a[s]:(is(u),n=a[s]=l.call(null,t),Lt())}else n=l}r[0]&&(o&&!i?n=!1:r[1]&&(n===""||n===_s(s))&&(n=!0))}return n}function ii(e,t,s=!1){const n=t.propsCache,u=n.get(e);if(u)return u;const o=e.props,r={},i=[];let l=!1;if(!q(e)){const c=p=>{l=!0;const[m,F]=ii(p,t,!0);Fe(r,m),F&&i.push(...F)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return ae(e)&&n.set(e,es),es;if(U(o))for(let c=0;c<o.length;c++){const p=ut(o[c]);jo(p)&&(r[p]=ce)}else if(o)for(const c in o){const p=ut(c);if(jo(p)){const m=o[c],F=r[p]=U(m)||q(m)?{type:m}:Fe({},m);if(F){const P=Ro(Boolean,F.type),R=Ro(String,F.type);F[0]=P>-1,F[1]=R<0||P<R,(P>-1||X(F,"default"))&&i.push(p)}}}const a=[r,i];return ae(e)&&n.set(e,a),a}function jo(e){return e[0]!=="$"}function Oo(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Io(e,t){return Oo(e)===Oo(t)}function Ro(e,t){return U(t)?t.findIndex(s=>Io(s,e)):q(t)&&Io(t,e)?0:-1}const li=e=>e[0]==="_"||e==="$stable",qu=e=>U(e)?e.map(tt):[tt(e)],ja=(e,t,s)=>{if(t._n)return t;const n=le((...u)=>qu(t(...u)),s);return n._c=!1,n},ai=(e,t,s)=>{const n=e._ctx;for(const u in e){if(li(u))continue;const o=e[u];if(q(o))t[u]=ja(u,o,n);else if(o!=null){const r=qu(o);t[u]=()=>r}}},ci=(e,t)=>{const s=qu(t);e.slots.default=()=>s},Oa=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=ee(t),Fn(t,"_",s)):ai(t,e.slots={})}else e.slots={},t&&ci(e,t);Fn(e.slots,Wn,1)},Ia=(e,t,s)=>{const{vnode:n,slots:u}=e;let o=!0,r=ce;if(n.shapeFlag&32){const i=t._;i?s&&i===1?o=!1:(Fe(u,t),!s&&i===1&&delete u._):(o=!t.$stable,ai(t,u)),r=t}else t&&(ci(e,t),r={default:1});if(o)for(const i in u)!li(i)&&!(i in r)&&delete u[i]};function bu(e,t,s,n,u=!1){if(U(e)){e.forEach((m,F)=>bu(m,t&&(U(t)?t[F]:t),s,n,u));return}if(js(n)&&!u)return;const o=n.shapeFlag&4?Hn(n.component)||n.component.proxy:n.el,r=u?null:o,{i,r:l}=e,a=t&&t.r,c=i.refs===ce?i.refs={}:i.refs,p=i.setupState;if(a!=null&&a!==l&&(ve(a)?(c[a]=null,X(p,a)&&(p[a]=null)):De(a)&&(a.value=null)),q(l))Bt(l,i,12,[r,c]);else{const m=ve(l),F=De(l);if(m||F){const P=()=>{if(e.f){const R=m?X(p,l)?p[l]:c[l]:l.value;u?U(R)&&Ou(R,o):U(R)?R.includes(o)||R.push(o):m?(c[l]=[o],X(p,l)&&(p[l]=c[l])):(l.value=[o],e.k&&(c[e.k]=l.value))}else m?(c[l]=r,X(p,l)&&(p[l]=r)):F&&(l.value=r,e.k&&(c[e.k]=r))};r?(P.id=-1,je(P,s)):P()}}}const je=ra;function Ra(e){return Ma(e)}function Ma(e,t){const s=pu();s.__VUE__=!0;const{insert:n,remove:u,patchProp:o,createElement:r,createText:i,createComment:l,setText:a,setElementText:c,parentNode:p,nextSibling:m,setScopeId:F=Ke,insertStaticContent:P}=e,R=(f,h,g,_=null,b=null,w=null,k=!1,D=null,B=!!h.dynamicChildren)=>{if(f===h)return;f&&!As(f,h)&&(_=C(f),Se(f,b,w,!0),f=null),h.patchFlag===-2&&(B=!1,h.dynamicChildren=null);const{type:A,ref:V,shapeFlag:M}=h;switch(A){case Un:K(f,h,g,_);break;case Pt:j(f,h,g,_);break;case vn:f==null&&L(h,g,_,k);break;case G:It(f,h,g,_,b,w,k,D,B);break;default:M&1?ye(f,h,g,_,b,w,k,D,B):M&6?Ye(f,h,g,_,b,w,k,D,B):(M&64||M&128)&&A.process(f,h,g,_,b,w,k,D,B,$)}V!=null&&b&&bu(V,f&&f.ref,w,h||f,!h)},K=(f,h,g,_)=>{if(f==null)n(h.el=i(h.children),g,_);else{const b=h.el=f.el;h.children!==f.children&&a(b,h.children)}},j=(f,h,g,_)=>{f==null?n(h.el=l(h.children||""),g,_):h.el=f.el},L=(f,h,g,_)=>{[f.el,f.anchor]=P(f.children,h,g,_,f.el,f.anchor)},Z=({el:f,anchor:h},g,_)=>{let b;for(;f&&f!==h;)b=m(f),n(f,g,_),f=b;n(h,g,_)},W=({el:f,anchor:h})=>{let g;for(;f&&f!==h;)g=m(f),u(f),f=g;u(h)},ye=(f,h,g,_,b,w,k,D,B)=>{k=k||h.type==="svg",f==null?Pe(h,g,_,b,w,k,D,B):qt(f,h,b,w,k,D,B)},Pe=(f,h,g,_,b,w,k,D)=>{let B,A;const{type:V,props:M,shapeFlag:x,transition:z,dirs:Q}=f;if(B=f.el=r(f.type,w,M&&M.is,M),x&8?c(B,f.children):x&16&&lt(f.children,B,null,_,b,w&&V!=="foreignObject",k,D),Q&&Rt(f,null,_,"created"),Qe(B,f,f.scopeId,k,_),M){for(const ue in M)ue!=="value"&&!fn(ue)&&o(B,ue,null,M[ue],w,f.children,_,b,we);"value"in M&&o(B,"value",null,M.value),(A=M.onVnodeBeforeMount)&&et(A,_,f)}Q&&Rt(f,null,_,"beforeMount");const ie=(!b||b&&!b.pendingBranch)&&z&&!z.persisted;ie&&z.beforeEnter(B),n(B,h,g),((A=M&&M.onVnodeMounted)||ie||Q)&&je(()=>{A&&et(A,_,f),ie&&z.enter(B),Q&&Rt(f,null,_,"mounted")},b)},Qe=(f,h,g,_,b)=>{if(g&&F(f,g),_)for(let w=0;w<_.length;w++)F(f,_[w]);if(b){let w=b.subTree;if(h===w){const k=b.vnode;Qe(f,k,k.scopeId,k.slotScopeIds,b.parent)}}},lt=(f,h,g,_,b,w,k,D,B=0)=>{for(let A=B;A<f.length;A++){const V=f[A]=D?bt(f[A]):tt(f[A]);R(null,V,h,g,_,b,w,k,D)}},qt=(f,h,g,_,b,w,k)=>{const D=h.el=f.el;let{patchFlag:B,dynamicChildren:A,dirs:V}=h;B|=f.patchFlag&16;const M=f.props||ce,x=h.props||ce;let z;g&&Mt(g,!1),(z=x.onVnodeBeforeUpdate)&&et(z,g,h,f),V&&Rt(h,f,g,"beforeUpdate"),g&&Mt(g,!0);const Q=b&&h.type!=="foreignObject";if(A?Je(f.dynamicChildren,A,D,g,_,Q,w):k||te(f,h,D,null,g,_,Q,w,!1),B>0){if(B&16)_t(D,h,M,x,g,_,b);else if(B&2&&M.class!==x.class&&o(D,"class",null,x.class,b),B&4&&o(D,"style",M.style,x.style,b),B&8){const ie=h.dynamicProps;for(let ue=0;ue<ie.length;ue++){const ge=ie[ue],xe=M[ge],Yt=x[ge];(Yt!==xe||ge==="value")&&o(D,ge,xe,Yt,b,f.children,g,_,we)}}B&1&&f.children!==h.children&&c(D,h.children)}else!k&&A==null&&_t(D,h,M,x,g,_,b);((z=x.onVnodeUpdated)||V)&&je(()=>{z&&et(z,g,h,f),V&&Rt(h,f,g,"updated")},_)},Je=(f,h,g,_,b,w,k)=>{for(let D=0;D<h.length;D++){const B=f[D],A=h[D],V=B.el&&(B.type===G||!As(B,A)||B.shapeFlag&70)?p(B.el):g;R(B,A,V,null,_,b,w,k,!0)}},_t=(f,h,g,_,b,w,k)=>{if(g!==_){if(g!==ce)for(const D in g)!fn(D)&&!(D in _)&&o(f,D,g[D],null,k,h.children,b,w,we);for(const D in _){if(fn(D))continue;const B=_[D],A=g[D];B!==A&&D!=="value"&&o(f,D,A,B,k,h.children,b,w,we)}"value"in _&&o(f,"value",g.value,_.value)}},It=(f,h,g,_,b,w,k,D,B)=>{const A=h.el=f?f.el:i(""),V=h.anchor=f?f.anchor:i("");let{patchFlag:M,dynamicChildren:x,slotScopeIds:z}=h;z&&(D=D?D.concat(z):z),f==null?(n(A,g,_),n(V,g,_),lt(h.children,g,V,b,w,k,D,B)):M>0&&M&64&&x&&f.dynamicChildren?(Je(f.dynamicChildren,x,g,b,w,k,D),(h.key!=null||b&&h===b.subTree)&&di(f,h,!0)):te(f,h,g,V,b,w,k,D,B)},Ye=(f,h,g,_,b,w,k,D,B)=>{h.slotScopeIds=D,f==null?h.shapeFlag&512?b.ctx.activate(h,g,_,k,B):ys(h,g,_,b,w,k,B):Gt(f,h,B)},ys=(f,h,g,_,b,w,k)=>{const D=f.component=Ka(f,_,b);if(Zr(f)&&(D.ctx.renderer=$),za(D),D.asyncDep){if(b&&b.registerDep(D,_e),!f.el){const B=D.subTree=H(Pt);j(null,B,h,g)}return}_e(D,f,h,g,b,w,k)},Gt=(f,h,g)=>{const _=h.component=f.component;if(na(f,h,g))if(_.asyncDep&&!_.asyncResolved){oe(_,h,g);return}else _.next=h,Yl(_.update),_.update();else h.el=f.el,_.vnode=h},_e=(f,h,g,_,b,w,k)=>{const D=()=>{if(f.isMounted){let{next:V,bu:M,u:x,parent:z,vnode:Q}=f,ie=V,ue;Mt(f,!1),V?(V.el=Q.el,oe(f,V,k)):V=Q,M&&hn(M),(ue=V.props&&V.props.onVnodeBeforeUpdate)&&et(ue,z,V,Q),Mt(f,!0);const ge=nu(f),xe=f.subTree;f.subTree=ge,R(xe,ge,p(xe.el),C(xe),f,b,w),V.el=ge.el,ie===null&&ua(f,ge.el),x&&je(x,b),(ue=V.props&&V.props.onVnodeUpdated)&&je(()=>et(ue,z,V,Q),b)}else{let V;const{el:M,props:x}=h,{bm:z,m:Q,parent:ie}=f,ue=js(h);if(Mt(f,!1),z&&hn(z),!ue&&(V=x&&x.onVnodeBeforeMount)&&et(V,ie,h),Mt(f,!0),M&&se){const ge=()=>{f.subTree=nu(f),se(M,f.subTree,f,b,null)};ue?h.type.__asyncLoader().then(()=>!f.isUnmounted&&ge()):ge()}else{const ge=f.subTree=nu(f);R(null,ge,g,_,f,b,w),h.el=ge.el}if(Q&&je(Q,b),!ue&&(V=x&&x.onVnodeMounted)){const ge=h;je(()=>et(V,ie,ge),b)}(h.shapeFlag&256||ie&&js(ie.vnode)&&ie.vnode.shapeFlag&256)&&f.a&&je(f.a,b),f.isMounted=!0,h=g=_=null}},B=f.effect=new Tu(D,()=>Hu(A),f.scope),A=f.update=()=>B.run();A.id=f.uid,Mt(f,!0),A()},oe=(f,h,g)=>{h.component=f;const _=f.vnode.props;f.vnode=h,f.next=null,Sa(f,h.props,_,g),Ia(f,h.children,g),Es(),Ao(),Fs()},te=(f,h,g,_,b,w,k,D,B=!1)=>{const A=f&&f.children,V=f?f.shapeFlag:0,M=h.children,{patchFlag:x,shapeFlag:z}=h;if(x>0){if(x&128){Et(A,M,g,_,b,w,k,D,B);return}else if(x&256){at(A,M,g,_,b,w,k,D,B);return}}z&8?(V&16&&we(A,b,w),M!==A&&c(g,M)):V&16?z&16?Et(A,M,g,_,b,w,k,D,B):we(A,b,w,!0):(V&8&&c(g,""),z&16&&lt(M,g,_,b,w,k,D,B))},at=(f,h,g,_,b,w,k,D,B)=>{f=f||es,h=h||es;const A=f.length,V=h.length,M=Math.min(A,V);let x;for(x=0;x<M;x++){const z=h[x]=B?bt(h[x]):tt(h[x]);R(f[x],z,g,null,b,w,k,D,B)}A>V?we(f,b,w,!0,!1,M):lt(h,g,_,b,w,k,D,B,M)},Et=(f,h,g,_,b,w,k,D,B)=>{let A=0;const V=h.length;let M=f.length-1,x=V-1;for(;A<=M&&A<=x;){const z=f[A],Q=h[A]=B?bt(h[A]):tt(h[A]);if(As(z,Q))R(z,Q,g,null,b,w,k,D,B);else break;A++}for(;A<=M&&A<=x;){const z=f[M],Q=h[x]=B?bt(h[x]):tt(h[x]);if(As(z,Q))R(z,Q,g,null,b,w,k,D,B);else break;M--,x--}if(A>M){if(A<=x){const z=x+1,Q=z<V?h[z].el:_;for(;A<=x;)R(null,h[A]=B?bt(h[A]):tt(h[A]),g,Q,b,w,k,D,B),A++}}else if(A>x)for(;A<=M;)Se(f[A],b,w,!0),A++;else{const z=A,Q=A,ie=new Map;for(A=Q;A<=x;A++){const Re=h[A]=B?bt(h[A]):tt(h[A]);Re.key!=null&&ie.set(Re.key,A)}let ue,ge=0;const xe=x-Q+1;let Yt=!1,fo=0;const ws=new Array(xe);for(A=0;A<xe;A++)ws[A]=0;for(A=z;A<=M;A++){const Re=f[A];if(ge>=xe){Se(Re,b,w,!0);continue}let Ze;if(Re.key!=null)Ze=ie.get(Re.key);else for(ue=Q;ue<=x;ue++)if(ws[ue-Q]===0&&As(Re,h[ue])){Ze=ue;break}Ze===void 0?Se(Re,b,w,!0):(ws[Ze-Q]=A+1,Ze>=fo?fo=Ze:Yt=!0,R(Re,h[Ze],g,null,b,w,k,D,B),ge++)}const ho=Yt?Ta(ws):es;for(ue=ho.length-1,A=xe-1;A>=0;A--){const Re=Q+A,Ze=h[Re],mo=Re+1<V?h[Re+1].el:_;ws[A]===0?R(null,Ze,g,mo,b,w,k,D,B):Yt&&(ue<0||A!==ho[ue]?Xe(Ze,g,mo,2):ue--)}}},Xe=(f,h,g,_,b=null)=>{const{el:w,type:k,transition:D,children:B,shapeFlag:A}=f;if(A&6){Xe(f.component.subTree,h,g,_);return}if(A&128){f.suspense.move(h,g,_);return}if(A&64){k.move(f,h,g,$);return}if(k===G){n(w,h,g);for(let M=0;M<B.length;M++)Xe(B[M],h,g,_);n(f.anchor,h,g);return}if(k===vn){Z(f,h,g);return}if(_!==2&&A&1&&D)if(_===0)D.beforeEnter(w),n(w,h,g),je(()=>D.enter(w),b);else{const{leave:M,delayLeave:x,afterLeave:z}=D,Q=()=>n(w,h,g),ie=()=>{M(w,()=>{Q(),z&&z()})};x?x(w,Q,ie):ie()}else n(w,h,g)},Se=(f,h,g,_=!1,b=!1)=>{const{type:w,props:k,ref:D,children:B,dynamicChildren:A,shapeFlag:V,patchFlag:M,dirs:x}=f;if(D!=null&&bu(D,null,g,f,!0),V&256){h.ctx.deactivate(f);return}const z=V&1&&x,Q=!js(f);let ie;if(Q&&(ie=k&&k.onVnodeBeforeUnmount)&&et(ie,h,f),V&6)un(f.component,g,_);else{if(V&128){f.suspense.unmount(g,_);return}z&&Rt(f,null,h,"beforeUnmount"),V&64?f.type.remove(f,h,g,b,$,_):A&&(w!==G||M>0&&M&64)?we(A,h,g,!1,!0):(w===G&&M&384||!b&&V&16)&&we(B,h,g),_&&Qt(f)}(Q&&(ie=k&&k.onVnodeUnmounted)||z)&&je(()=>{ie&&et(ie,h,f),z&&Rt(f,null,h,"unmounted")},g)},Qt=f=>{const{type:h,el:g,anchor:_,transition:b}=f;if(h===G){Jt(g,_);return}if(h===vn){W(f);return}const w=()=>{u(g),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(f.shapeFlag&1&&b&&!b.persisted){const{leave:k,delayLeave:D}=b,B=()=>k(g,w);D?D(f.el,w,B):B()}else w()},Jt=(f,h)=>{let g;for(;f!==h;)g=m(f),u(f),f=g;u(h)},un=(f,h,g)=>{const{bum:_,scope:b,update:w,subTree:k,um:D}=f;_&&hn(_),b.stop(),w&&(w.active=!1,Se(k,f,h,g)),D&&je(D,h),je(()=>{f.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},we=(f,h,g,_=!1,b=!1,w=0)=>{for(let k=w;k<f.length;k++)Se(f[k],h,g,_,b)},C=f=>f.shapeFlag&6?C(f.component.subTree):f.shapeFlag&128?f.suspense.next():m(f.anchor||f.el),S=(f,h,g)=>{f==null?h._vnode&&Se(h._vnode,null,null,!0):R(h._vnode||null,f,h,null,null,null,g),Ao(),zr(),h._vnode=f},$={p:R,um:Se,m:Xe,r:Qt,mt:ys,mc:lt,pc:te,pbc:Je,n:C,o:e};let N,se;return t&&([N,se]=t($)),{render:S,hydrate:N,createApp:Pa(S,N)}}function Mt({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function di(e,t,s=!1){const n=e.children,u=t.children;if(U(n)&&U(u))for(let o=0;o<n.length;o++){const r=n[o];let i=u[o];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=u[o]=bt(u[o]),i.el=r.el),s||di(r,i)),i.type===Un&&(i.el=r.el)}}function Ta(e){const t=e.slice(),s=[0];let n,u,o,r,i;const l=e.length;for(n=0;n<l;n++){const a=e[n];if(a!==0){if(u=s[s.length-1],e[u]<a){t[n]=u,s.push(n);continue}for(o=0,r=s.length-1;o<r;)i=o+r>>1,e[s[i]]<a?o=i+1:r=i;a<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}const Na=e=>e.__isTeleport,G=Symbol.for("v-fgt"),Un=Symbol.for("v-txt"),Pt=Symbol.for("v-cmt"),vn=Symbol.for("v-stc"),Is=[];let He=null;function E(e=!1){Is.push(He=e?null:[])}function Va(){Is.pop(),He=Is[Is.length-1]||null}let Us=1;function Mo(e){Us+=e}function pi(e){return e.dynamicChildren=Us>0?He||es:null,Va(),Us>0&&He&&He.push(e),e}function y(e,t,s,n,u,o){return pi(d(e,t,s,n,u,o,!0))}function Ee(e,t,s,n,u){return pi(H(e,t,s,n,u,!0))}function Bn(e){return e?e.__v_isVNode===!0:!1}function As(e,t){return e.type===t.type&&e.key===t.key}const Wn="__vInternal",fi=({key:e})=>e??null,_n=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?ve(e)||De(e)||q(e)?{i:Be,r:e,k:t,f:!!s}:e:null);function d(e,t=null,s=null,n=0,u=null,o=e===G?0:1,r=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&fi(t),ref:t&&_n(t),scopeId:xn,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:Be};return i?(Gu(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=ve(s)?8:16),Us>0&&!r&&He&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&He.push(l),l}const H=xa;function xa(e,t=null,s=null,n=0,u=null,o=!1){if((!e||e===Fa)&&(e=Pt),Bn(e)){const i=rs(e,t,!0);return s&&Gu(i,s),Us>0&&!o&&He&&(i.shapeFlag&6?He[He.indexOf(e)]=i:He.push(i)),i.patchFlag|=-2,i}if(Ya(e)&&(e=e.__vccOpts),t){t=La(t);let{class:i,style:l}=t;i&&!ve(i)&&(t.class=me(i)),ae(l)&&(Nr(l)&&!U(l)&&(l=Fe({},l)),t.style=Zs(l))}const r=ve(e)?1:oa(e)?128:Na(e)?64:ae(e)?4:q(e)?2:0;return d(e,t,s,n,u,r,o,!0)}function La(e){return e?Nr(e)||Wn in e?Fe({},e):e:null}function rs(e,t,s=!1){const{props:n,ref:u,patchFlag:o,children:r}=e,i=t?Ua(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:i,key:i&&fi(i),ref:t&&t.ref?s&&u?U(u)?u.concat(_n(t)):[u,_n(t)]:_n(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==G?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rs(e.ssContent),ssFallback:e.ssFallback&&rs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function I(e=" ",t=0){return H(Un,null,e,t)}function sn(e,t){const s=H(vn,null,e);return s.staticCount=t,s}function J(e="",t=!1){return t?(E(),Ee(Pt,null,e)):H(Pt,null,e)}function tt(e){return e==null||typeof e=="boolean"?H(Pt):U(e)?H(G,null,e.slice()):typeof e=="object"?bt(e):H(Un,null,String(e))}function bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rs(e)}function Gu(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(U(t))s=16;else if(typeof t=="object")if(n&65){const u=t.default;u&&(u._c&&(u._d=!1),Gu(e,u()),u._c&&(u._d=!0));return}else{s=32;const u=t._;!u&&!(Wn in t)?t._ctx=Be:u===3&&Be&&(Be.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else q(t)?(t={default:t,_ctx:Be},s=32):(t=String(t),n&64?(s=16,t=[I(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ua(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const u in n)if(u==="class")t.class!==n.class&&(t.class=me([t.class,n.class]));else if(u==="style")t.style=Zs([t.style,n.style]);else if(In(u)){const o=t[u],r=n[u];r&&o!==r&&!(U(o)&&o.includes(r))&&(t[u]=o?[].concat(o,r):r)}else u!==""&&(t[u]=n[u])}return t}function et(e,t,s,n=null){ze(e,t,7,[s,n])}const Wa=oi();let Ha=0;function Ka(e,t,s){const n=e.type,u=(t?t.appContext:e.appContext)||Wa,o={uid:Ha++,vnode:e,type:n,parent:t,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new fl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ii(n,u),emitsOptions:Gr(n,u),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:n.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=ea.bind(null,o),e.ce&&e.ce(o),o}let Ce=null,Qu,Xt,To="__VUE_INSTANCE_SETTERS__";(Xt=pu()[To])||(Xt=pu()[To]=[]),Xt.push(e=>Ce=e),Qu=e=>{Xt.length>1?Xt.forEach(t=>t(e)):Xt[0](e)};const is=e=>{Qu(e),e.scope.on()},Lt=()=>{Ce&&Ce.scope.off(),Qu(null)};function hi(e){return e.vnode.shapeFlag&4}let Ws=!1;function za(e,t=!1){Ws=t;const{props:s,children:n}=e.vnode,u=hi(e);ka(e,s,u,t),Oa(e,n);const o=u?qa(e,t):void 0;return Ws=!1,o}function qa(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=Vr(new Proxy(e.ctx,ba));const{setup:n}=s;if(n){const u=e.setupContext=n.length>1?Qa(e):null;is(e),Es();const o=Bt(n,e,0,[e.props,u]);if(Fs(),Lt(),yr(o)){if(o.then(Lt,Lt),t)return o.then(r=>{No(e,r,t)}).catch(r=>{Nn(r,e,0)});e.asyncDep=o}else No(e,o,t)}else mi(e,t)}function No(e,t,s){q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ae(t)&&(e.setupState=Wr(t)),mi(e,s)}let Vo;function mi(e,t,s){const n=e.type;if(!e.render){if(!t&&Vo&&!n.render){const u=n.template||zu(e).template;if(u){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:i,compilerOptions:l}=n,a=Fe(Fe({isCustomElement:o,delimiters:i},r),l);n.render=Vo(u,a)}}e.render=n.render||Ke}is(e),Es(),ya(e),Fs(),Lt()}function Ga(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,s){return Ie(e,"get","$attrs"),t[s]}}))}function Qa(e){const t=s=>{e.exposed=s||{}};return{get attrs(){return Ga(e)},slots:e.slots,emit:e.emit,expose:t}}function Hn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Wr(Vr(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Os)return Os[s](e)},has(t,s){return s in t||s in Os}}))}function Ja(e,t=!0){return q(e)?e.displayName||e.name:e.name||t&&e.__name}function Ya(e){return q(e)&&"__vccOpts"in e}const Ne=(e,t)=>Gl(e,t,Ws);function gi(e,t,s){const n=arguments.length;return n===2?ae(t)&&!U(t)?Bn(t)?H(e,null,[t]):H(e,t):H(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Bn(s)&&(s=[s]),H(e,t,s))}const Xa=Symbol.for("v-scx"),Za=()=>ft(Xa),ec="3.3.2",tc="http://www.w3.org/2000/svg",Nt=typeof document<"u"?document:null,xo=Nt&&Nt.createElement("template"),sc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const u=t?Nt.createElementNS(tc,e):Nt.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&u.setAttribute("multiple",n.multiple),u},createText:e=>Nt.createTextNode(e),createComment:e=>Nt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,u,o){const r=s?s.previousSibling:t.lastChild;if(u&&(u===o||u.nextSibling))for(;t.insertBefore(u.cloneNode(!0),s),!(u===o||!(u=u.nextSibling)););else{xo.innerHTML=n?`<svg>${e}</svg>`:e;const i=xo.content;if(n){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function nc(e,t,s){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function uc(e,t,s){const n=e.style,u=ve(s);if(s&&!u){if(t&&!ve(t))for(const o in t)s[o]==null&&yu(n,o,"");for(const o in s)yu(n,o,s[o])}else{const o=n.display;u?t!==s&&(n.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const Lo=/\s*!important$/;function yu(e,t,s){if(U(s))s.forEach(n=>yu(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=oc(e,t);Lo.test(s)?e.setProperty(_s(n),s.replace(Lo,""),"important"):e[n]=s}}const Uo=["Webkit","Moz","ms"],ou={};function oc(e,t){const s=ou[t];if(s)return s;let n=ut(t);if(n!=="filter"&&n in e)return ou[t]=n;n=Mn(n);for(let u=0;u<Uo.length;u++){const o=Uo[u]+n;if(o in e)return ou[t]=o}return t}const Wo="http://www.w3.org/1999/xlink";function rc(e,t,s,n,u){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(Wo,t.slice(6,t.length)):e.setAttributeNS(Wo,t,s);else{const o=dl(t);s==null||o&&!Ar(s)?e.removeAttribute(t):e.setAttribute(t,o?"":s)}}function ic(e,t,s,n,u,o,r){if(t==="innerHTML"||t==="textContent"){n&&r(n,u,o),e[t]=s??"";return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){e._value=s;const a=i==="OPTION"?e.getAttribute("value"):e.value,c=s??"";a!==c&&(e.value=c),s==null&&e.removeAttribute(t);return}let l=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Ar(s):s==null&&a==="string"?(s="",l=!0):a==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}function wt(e,t,s,n){e.addEventListener(t,s,n)}function lc(e,t,s,n){e.removeEventListener(t,s,n)}function ac(e,t,s,n,u=null){const o=e._vei||(e._vei={}),r=o[t];if(n&&r)r.value=n;else{const[i,l]=cc(t);if(n){const a=o[t]=fc(n,u);wt(e,i,a,l)}else r&&(lc(e,i,r,l),o[t]=void 0)}}const Ho=/(?:Once|Passive|Capture)$/;function cc(e){let t;if(Ho.test(e)){t={};let n;for(;n=e.match(Ho);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):_s(e.slice(2)),t]}let ru=0;const dc=Promise.resolve(),pc=()=>ru||(dc.then(()=>ru=0),ru=Date.now());function fc(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ze(hc(n,s.value),t,5,[n])};return s.value=e,s.attached=pc(),s}function hc(e,t){if(U(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>u=>!u._stopped&&n&&n(u))}else return t}const Ko=/^on[a-z]/,mc=(e,t,s,n,u=!1,o,r,i,l)=>{t==="class"?nc(e,n,u):t==="style"?uc(e,s,n):In(t)?ju(t)||ac(e,t,s,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gc(e,t,n,u))?ic(e,t,n,o,r,i,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),rc(e,t,n,u))};function gc(e,t,s,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Ko.test(t)&&q(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ko.test(t)&&ve(s)?!1:t in e}const ls=e=>{const t=e.props["onUpdate:modelValue"]||!1;return U(t)?s=>hn(t,s):t};function vc(e){e.target.composing=!0}function zo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Oe={created(e,{modifiers:{lazy:t,trim:s,number:n}},u){e._assign=ls(u);const o=n||u.props&&u.props.type==="number";wt(e,t?"change":"input",r=>{if(r.target.composing)return;let i=e.value;s&&(i=i.trim()),o&&(i=Cn(i)),e._assign(i)}),s&&wt(e,"change",()=>{e.value=e.value.trim()}),t||(wt(e,"compositionstart",vc),wt(e,"compositionend",zo),wt(e,"change",zo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:n,number:u}},o){if(e._assign=ls(o),e.composing||document.activeElement===e&&e.type!=="range"&&(s||n&&e.value.trim()===t||(u||e.type==="number")&&Cn(e.value)===t))return;const r=t??"";e.value!==r&&(e.value=r)}},pt={deep:!0,created(e,t,s){e._assign=ls(s),wt(e,"change",()=>{const n=e._modelValue,u=Hs(e),o=e.checked,r=e._assign;if(U(n)){const i=Ru(n,u),l=i!==-1;if(o&&!l)r(n.concat(u));else if(!o&&l){const a=[...n];a.splice(i,1),r(a)}}else if(vs(n)){const i=new Set(n);o?i.add(u):i.delete(u),r(i)}else r(_i(e,o))})},mounted:qo,beforeUpdate(e,t,s){e._assign=ls(s),qo(e,t,s)}};function qo(e,{value:t,oldValue:s},n){e._modelValue=t,U(t)?e.checked=Ru(t,n.props.value)>-1:vs(t)?e.checked=t.has(n.props.value):t!==s&&(e.checked=en(t,_i(e,!0)))}const vi={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const u=vs(t);wt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?Cn(Hs(r)):Hs(r));e._assign(e.multiple?u?new Set(o):o:o[0])}),e._assign=ls(n)},mounted(e,{value:t}){Go(e,t)},beforeUpdate(e,t,s){e._assign=ls(s)},updated(e,{value:t}){Go(e,t)}};function Go(e,t){const s=e.multiple;if(!(s&&!U(t)&&!vs(t))){for(let n=0,u=e.options.length;n<u;n++){const o=e.options[n],r=Hs(o);if(s)U(t)?o.selected=Ru(t,r)>-1:o.selected=t.has(r);else if(en(Hs(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Hs(e){return"_value"in e?e._value:e.value}function _i(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Qo={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ds(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Ds(e,!0),n.enter(e)):n.leave(e,()=>{Ds(e,!1)}):Ds(e,t))},beforeUnmount(e,{value:t}){Ds(e,t)}};function Ds(e,t){e.style.display=t?e._vod:"none"}const _c=Fe({patchProp:mc},sc);let Jo;function Ec(){return Jo||(Jo=Ra(_c))}const Fc=(...e)=>{const t=Ec().createApp(...e),{mount:s}=t;return t.mount=n=>{const u=Cc(n);if(!u)return;const o=t._component;!q(o)&&!o.render&&!o.template&&(o.template=u.innerHTML),u.innerHTML="";const r=s(u,!1,u instanceof SVGElement);return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),r},t};function Cc(e){return ve(e)?document.querySelector(e):e}function wu(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Yo(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),s.push.apply(s,n)}return s}function Au(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Yo(Object(s),!0).forEach(function(n){wu(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Yo(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}var bc=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,u){if(!(typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");if(r.async=!0,r.src=t,r.defer=s.defer,s.preconnectOrigin){var i=document.createElement("link");i.href=s.preconnectOrigin,i.rel="preconnect",o.appendChild(i)}o.appendChild(r),r.onload=n,r.onerror=u}})},yc=function e(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),u=1;u<s;u++)n[u-1]=arguments[u];if(!n.length)return t;var o=n.shift();if(!(!Ss(t)||!Ss(o))){for(var r in o)Ss(o[r])?(t[r]||Object.assign(t,wu({},r,{})),e(t[r],o[r])):Object.assign(t,wu({},r,o[r]));return e.apply(void 0,[t].concat(n))}},nn=function(){return!(typeof window>"u"||typeof document>"u")},Xo=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;nn()},wc=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Xo('Missing "appName" property inside the plugin options.',t.app_name==null),Xo('Missing "name" property in the route.',t.screen_name==null),t};function Ac(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=e.split("/"),n=t.split("/");return s[0]===""&&t[t.length-1]==="/"&&s.shift(),n.join("/")+s.join("/")}var Dc=function(){return{bootstrap:!0,onReady:null,onError:null,onBeforeTrack:null,onAfterTrack:null,pageTrackerTemplate:null,customResourceURL:"https://www.googletagmanager.com/gtag/js",customPreconnectOrigin:"https://www.googletagmanager.com",deferScriptLoad:!1,pageTrackerExcludedRoutes:[],pageTrackerEnabled:!0,enabled:!0,disableScriptLoad:!1,pageTrackerScreenviewEnabled:!1,appName:null,pageTrackerUseFullPath:!1,pageTrackerPrependBase:!0,pageTrackerSkipSamePath:!0,globalDataLayerName:"dataLayer",globalObjectName:"gtag",defaultGroupName:"default",includes:null,config:{id:null,params:{send_page_view:!1}}}},Ei={},Bc=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=Dc();Ei=yc(s,t)},Te=function(){return Ei},Ht=function(){var e,t=Te(),s=t.globalObjectName;!nn()||typeof window[s]>"u"||(e=window)[s].apply(e,arguments)},Ju=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var n=Te(),u=n.config,o=n.includes;Ht.apply(void 0,["config",u.id].concat(t)),Array.isArray(o)&&o.forEach(function(r){Ht.apply(void 0,["config",r.id].concat(t))})},Zo=function(t,s){nn()&&(window["ga-disable-".concat(t)]=s)},Fi=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=Te(),s=t.config,n=t.includes;Zo(s.id,e),Array.isArray(n)&&n.forEach(function(u){return Zo(u.id,e)})},Ci=function(){Fi(!0)},$c=function(){Fi(!1)},bi,Pc=function(t){bi=t},Yu=function(){return bi},Kt=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=Te(),n=s.includes,u=s.defaultGroupName;t.send_to==null&&Array.isArray(n)&&n.length&&(t.send_to=n.map(function(o){return o.id}).concat(u)),Ht("event",e,t)},yi=function(e){if(nn()){var t;if(typeof e=="string")t={page_path:e};else if(e.path||e.fullPath){var s=Te(),n=s.pageTrackerUseFullPath,u=s.pageTrackerPrependBase,o=Yu(),r=o&&o.options.base,i=n?e.fullPath:e.path;t=Au(Au({},e.name&&{page_title:e.name}),{},{page_path:u?Ac(i,r):i})}else t=e;t.page_location==null&&(t.page_location=window.location.href),t.send_page_view==null&&(t.send_page_view=!0),Kt("page_view",t)}},wi=function(e){var t=Te(),s=t.appName;if(e){var n;typeof e=="string"?n={screen_name:e}:n=e,n.app_name=n.app_name||s,Kt("screen_view",n)}},kc=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Kt.apply(void 0,["exception"].concat(t))},Sc=function(e){Ju("linker",e)},jc=function(e){Kt("timing_complete",e)},Oc=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Ht.apply(void 0,["set"].concat(t))},Ic=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Kt.apply(void 0,["refund"].concat(t))},Rc=function(e){Kt("purchase",e)},Mc=function(e){Ju({custom_map:e})},Tc=Object.freeze({__proto__:null,query:Ht,config:Ju,optOut:Ci,optIn:$c,pageview:yi,screenview:wi,exception:kc,linker:Sc,time:jc,set:Oc,refund:Ic,purchase:Rc,customMap:Mc,event:Kt}),Nc=function(t){t.config.globalProperties.$gtag=Tc},Vc=function(){if(nn()){var e=Te(),t=e.enabled,s=e.globalObjectName,n=e.globalDataLayerName;return window[s]==null&&(window[n]=window[n]||[],window[s]=function(){window[n].push(arguments)}),window[s]("js",new Date),t||Ci(),window[s]}},er=function(t){return Au({send_page_view:!1},t)},Ai=function(){var e=Te(),t=e.config,s=e.includes;Ht("config",t.id,er(t.params)),Array.isArray(s)&&s.forEach(function(n){Ht("config",n.id,er(n.params))})},tr=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=Te(),n=s.appName,u=s.pageTrackerTemplate,o=s.pageTrackerScreenviewEnabled,r=s.pageTrackerSkipSamePath;if(!(r&&e.path===t.path)){var i=e;if(q(u)?i=u(e,t):o&&(i=wc({app_name:n,screen_name:e.name})),o){wi(i);return}yi(i)}},sr=function(t){var s=Te(),n=s.pageTrackerExcludedRoutes;return n.includes(t.path)||n.includes(t.name)},xc=function(){var e=Te(),t=e.onBeforeTrack,s=e.onAfterTrack,n=Yu();n.isReady().then(function(){yn().then(function(){var u=n.currentRoute;Ai(),!sr(u.value)&&tr(u.value)}),n.afterEach(function(u,o){yn().then(function(){sr(u)||(q(t)&&t(u,o),tr(u,o),q(s)&&s(u,o))})})})},Lc=function(){var e=Te(),t=e.onReady,s=e.onError,n=e.globalObjectName,u=e.globalDataLayerName,o=e.config,r=e.customResourceURL,i=e.customPreconnectOrigin,l=e.deferScriptLoad,a=e.pageTrackerEnabled,c=e.disableScriptLoad,p=!!(a&&Yu());if(Vc(),p?xc():Ai(),!c)return bc("".concat(r,"?id=").concat(o.id,"&l=").concat(u),{preconnectOrigin:i,defer:l}).then(function(){t&&t(window[n])}).catch(function(m){return s&&s(m),m})},Uc=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;Nc(t),Bc(s),Pc(n),Te().bootstrap&&Lc()};const Di=Symbol("vue-facing-decorator-slot");class Wc{constructor(t){this.names=new Map,this.inComponent=!1,this.cachedVueComponent=null,this.master=t}obtainMap(t){let s=this.names.get(t);return s||(s=new Map,this.names.set(t,s)),s}}function Hc(e){if(Kn(e))throw"";const t=new Wc(e);return Object.defineProperty(e,Di,{enumerable:!1,value:t}),t}function Kn(e){var t;return(t=Object.getOwnPropertyDescriptor(e,Di))===null||t===void 0?void 0:t.value}function $e(e){const t=Kn(e);return t||Hc(e)}function Kc(e,t){return e.reduce((s,n)=>(s[n]=t[n],s),{})}function Xu(e){const t=[];let s=e;do t.unshift(s),s=Object.getPrototypeOf(s);while(s.constructor!==eo&&!Kn(s));return t}function Bi(e){let t=Object.getPrototypeOf(e);for(;t.constructor!==eo;){const s=Kn(t);if(s)return s;t=Object.getPrototypeOf(t)}return null}function $i(e,t){return e.filter(s=>{let n=t;for(;n!=null;){for(const u of n.names.keys()){if(["watch","hooks","setup","emits"].includes(u))continue;if(n.names.get(u).has(s))return!1}n=Bi(n.master)}return!0})}function Zu(e,t){const s=Object.getOwnPropertyDescriptors(e);return Object.keys(s).filter(n=>t(s[n],n))}function zc(e){function t(s,n){if(n)e(s,n);else return function(u,o){e(u,o,s)}}return t}const qc=e=>e instanceof Promise;function Gc(e,t){const n=$e(e.prototype).obtainMap("setup");if(n.size===0)return;const u=function(o,r){const i={};let l=null;for(const a of n.keys()){const c=n.get(a).setupFunction(o,r);qc(c)?(l??(l=[]),l.push(c.then(p=>{i[a]=p}))):i[a]=c}return Array.isArray(l)?Promise.all(l).then(()=>i):i};t.setup=u}function Qc(e,t){var s;(s=t.computed)!==null&&s!==void 0||(t.computed={});const n=$e(e.prototype),u=n.obtainMap("computed"),o=n.obtainMap("vanilla");Xu(e.prototype).forEach(i=>{Zu(i,(l,a)=>(typeof l.get=="function"||typeof l.set=="function")&&!o.has(a)).forEach(l=>{u.set(l,!0);const a=Object.getOwnPropertyDescriptor(i,l);t.computed[l]={get:typeof a.get=="function"?a.get:void 0,set:typeof a.set=="function"?a.set:void 0}})})}function Jc(e,t,s,n){var u;(u=t.data)!==null&&u!==void 0||(t.data={});const o=new e(t,s);let r=Zu(o,l=>!!l.enumerable);const i=$e(e.prototype);r=$i(r,i),Object.assign(t.data,Kc(r,o))}const Yc=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","renderTracked","renderTriggered","errorCaptured","serverPrefetch","render"];function Xc(e,t){var s,n;const u=$e(e.prototype),o=Xu(e.prototype),r=u.obtainMap("hooks");(s=t.hooks)!==null&&s!==void 0||(t.hooks={}),(n=t.methods)!==null&&n!==void 0||(t.methods={});const i={},l={};o.forEach(c=>{$i(Zu(c,(p,m)=>m==="constructor"?!1:typeof p.value=="function"),u).forEach(p=>{Yc.includes(p)||r.has(p)?i[p]=c[p]:l[p]=c[p]})}),Object.assign(t.methods,l);const a=t.beforeCreateCallbacks;if(a&&a.length>0){const c=i.beforeCreate;i.beforeCreate=function(){a.forEach(p=>p.apply(this,arguments)),c&&c.apply(this,arguments)}}Object.assign(t.hooks,i)}function Pi(e,t){var s;(s=e.beforeCreateCallbacks)!==null&&s!==void 0||(e.beforeCreateCallbacks=[]),e.beforeCreateCallbacks.push(function(){const n=this;t(n).forEach((o,r)=>{Object.defineProperty(n,r,o)})})}function Zc(e,t){const n=$e(e.prototype).obtainMap("ref");n&&Pi(t,u=>{const o=new Map;return n.forEach((r,i)=>{o.set(i,{get:function(){return u.$refs[i]},set:void 0})}),o})}function be(e,t){return function(s,n){const o=$e(s).obtainMap("watch"),r=Object.assign({},t??{},{key:e,handler:s[n]});if(o.has(n)){const i=o.get(n);Array.isArray(i)?i.push(r):o.set(n,[i,r])}else o.set(n,r)}}function ed(e,t){var s;(s=t.watch)!==null&&s!==void 0||(t.watch={});const u=$e(e.prototype).obtainMap("watch");u&&u.forEach((o,r)=>{(Array.isArray(o)?o:[o]).forEach(l=>{if(!t.watch[l.key])t.watch[l.key]=l;else{const a=t.watch[l.key];Array.isArray(a)?a.push(l):t.watch[l.key]=[a,l]}})})}const T=zc(function(e,t,s){const u=$e(e).obtainMap("props"),o=Object.assign({},s??{});u.set(t,o)});function td(e,t){var s;(s=t.props)!==null&&s!==void 0||(t.props={});const u=$e(e.prototype).obtainMap("props");u&&u.forEach((o,r)=>{t.props[r]=o})}function sd(e,t){var s;(s=t.inject)!==null&&s!==void 0||(t.inject={});const u=$e(e.prototype).obtainMap("inject");u&&u.forEach((o,r)=>{t.inject[r]=o})}var nd=globalThis&&globalThis.__awaiter||function(e,t,s,n){function u(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function i(c){try{a(n.next(c))}catch(p){r(p)}}function l(c){try{a(n.throw(c))}catch(p){r(p)}}function a(c){c.done?o(c.value):u(c.value).then(i,l)}a((n=n.apply(e,t||[])).next())})};function ud(e,t){var s;(s=t.methods)!==null&&s!==void 0||(t.methods={});const n=e.prototype,u=$e(n),o=u.obtainMap("emit"),r=u.obtainMap("emits");o&&o.forEach((i,l)=>{const a=i===null?l:i;r.set(a,!0),t.methods[l]=function(){return nd(this,arguments,void 0,function*(){const c=n[l].apply(this,arguments);if(c instanceof Promise){const p=yield c;this.$emit(a,p)}else this.$emit(a,c)})}})}function od(e,t){var s;(s=t.computed)!==null&&s!==void 0||(t.computed={});const u=$e(e.prototype).obtainMap("v-model");u&&u.size>0&&u.forEach((o,r)=>{var i;const l=(i=o&&o.name)!==null&&i!==void 0?i:"modelValue";t.computed[r]={get:function(){return this[l]},set:function(a){this.$emit(`update:${l}`,a)}}})}function rd(e,t){const n=$e(e.prototype).obtainMap("vanilla"),u=Xu(e.prototype),o=new Map;Pi(t,r=>(u.forEach(i=>{const l=Object.getOwnPropertyDescriptors(i);for(const a in l){const c=l[a];c&&n.has(a)&&(typeof c.get=="function"||typeof c.set=="function")&&o.set(a,{set:typeof c.set=="function"?c.set.bind(r):void 0,get:typeof c.get=="function"?c.get.bind(r):void 0})}}),o))}const id=[];function ld(e,t){const s={};Gc(e,s),od(e,s),Qc(e,s),ed(e,s),td(e,s),sd(e,s),ud(e,s),Zc(e,s),Xc(e,s),rd(e,s);const n=s.setup?function(o,r){return s.setup(o,r)}:void 0;return Object.assign(Object.assign({setup:n,data(){var o;return delete s.data,Jc(e,s,this),(o=s.data)!==null&&o!==void 0?o:{}},methods:s.methods,computed:s.computed,watch:s.watch,props:s.props,inject:s.inject},s.hooks),{extends:t})}function ad(e,t,s){const n=ld(e,s),u=$e(e.prototype);Object.keys(t).reduce((r,i)=>(["options","modifier","emits","setup"].includes(i)||(r[i]=t[i]),r),n);let o=Array.from(u.obtainMap("emits").keys());if(Array.isArray(t.emits)&&(o=Array.from(new Set([...o,...t.emits]))),n.emits=o,id.forEach(r=>{r.creator.apply({},[n,r.key])}),t.setup)if(!n.setup)n.setup=t.setup;else{const r=n.setup,i=t.setup,l=function(a,c){const p=i(a,c),m=r(a,c);return m instanceof Promise||p instanceof Promise?Promise.all([p,m]).then(F=>Object.assign({},F[0],F[1])):Object.assign({},p,m)};n.setup=l}return t.options&&Object.assign(n,t.options),t.modifier&&t.modifier(n),Ku(n)}function cd(e,t){const s=$e(e.prototype);s.inComponent=!0;const n=Bi(e.prototype);if(n){if(!n.inComponent)throw"Class should be decorated by Component or ComponentBase: "+s.master;if(n.cachedVueComponent===null)throw"Component decorator 1"}const u=ad(e,t,n===null?void 0:n.cachedVueComponent);u.__vfdConstructor=e,s.cachedVueComponent=u}function dd(e,t){return typeof e=="function"?t(e,{}):function(s){return t(s,e)}}function fe(e){return dd(e,function(t,s){return cd(t,s),$e(t.prototype).cachedVueComponent})}const eo=class{constructor(e,t){const s=e.props;s&&Object.keys(s).forEach(n=>{this[n]=t[n]})}},he=eo;function pd(){return new Worker("/assets/workerv2-04d6721a.js")}class fd{constructor(t,s,n,u){v(this,"level");v(this,"max_tension");v(this,"tension");v(this,"workers");this.tension=t,this.max_tension=s,this.level=n,this.workers=u}}class nr{constructor(t,s){v(this,"resolve");v(this,"reject");this.resolve=t,this.reject=s}}class hd{constructor(){v(this,"worker");v(this,"msgQueue");this.msgQueue=[]}messageHandler(t){this.msgQueue.length>0&&(this.msgQueue[0].resolve(t.data),this.msgQueue.shift())}errorHandler(t){this.msgQueue.length>0&&(this.msgQueue[0].reject(t),this.msgQueue.shift())}postMsg(t){return new Promise((s,n)=>{if(!this.worker)return n("worker not init.");this.msgQueue.push(new nr(s,n)),this.worker.postMessage(t)})}init(){return new Promise((t,s)=>{this.worker=new pd,this.worker.onmessage=n=>this.messageHandler(n),this.worker.onerror=n=>this.errorHandler(n),this.msgQueue.push(new nr(t,s))})}init_repo(t,s,n){return this.postMsg({type:"init_repo",recipe:t,pops:s,pop_row:n})}set_pattern(t){return this.postMsg({type:"set_pattern",pattern:t})}solve_day(t,s,n,u,o,r){return this.postMsg({type:"solve_day",state:this.toInfoObj(t),level:s,ban_list:n,demands:u,time:o,with_cost:r})}solve_multi_day(t,s,n,u,o,r,i,l){return this.postMsg({type:"solve_multi_day",state:this.toInfoObj(t),level:s,ban_list:n,set:u,demands:o,worker:r,time:i,with_cost:l})}solve_day_dual(t,s,n,u,o,r,i){return this.postMsg({type:"solve_day_dual",state:this.toInfoObj(t),level:s,ban_list:n,demands:u,worker:o,time:r,with_cost:i})}solve_week(t,s,n,u,o,r){return this.postMsg({type:"solve_week",state:this.toInfoObj(t),level:s,ban_list:n,pattern:r,time:u,with_cost:o})}solve_week_part(t,s,n,u,o,r,i){return this.postMsg({type:"solve_week_part",state:this.toInfoObj(t),level:s,ban_list:n,pattern:r,time:u,with_cost:o,part_id:i})}solve_cache_clear(){return this.postMsg({type:"solve_cache_clear"})}simulate(t,s,n){return this.postMsg({type:"simulate",state:this.toInfoObj(t),seq:s,demands:n})}simulate_multi(t,s,n){return this.postMsg({type:"simulate_multi",state:this.toInfoObj(t),seq:s,demands:n})}pattern_predict(t,s){return this.postMsg({type:"pattern_predict",array:t,demands:s})}pattern_predict_adv(t,s){return this.postMsg({type:"pattern_predict_adv",array:t,demands:s})}pattern_demand(t,s){return this.postMsg({type:"pattern_demand",array:t,day:s})}toInfoObj(t){return{tension:t.tension,max_tension:t.max_tension,level:t.level,workers:t.workers}}}const md=typeof atob=="function",gd=typeof btoa=="function",zn=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ks=Array.prototype.slice.call(vd),pn=(e=>{let t={};return e.forEach((s,n)=>t[s]=n),t})(ks),_d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,En=String.fromCharCode.bind(String),ur=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Ed=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),ki=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Fd=e=>{let t,s,n,u,o="";const r=e.length%3;for(let i=0;i<e.length;){if((s=e.charCodeAt(i++))>255||(n=e.charCodeAt(i++))>255||(u=e.charCodeAt(i++))>255)throw new TypeError("invalid character found");t=s<<16|n<<8|u,o+=ks[t>>18&63]+ks[t>>12&63]+ks[t>>6&63]+ks[t&63]}return r?o.slice(0,r-3)+"===".substring(r):o},Cd=gd?e=>btoa(e):zn?e=>Buffer.from(e,"binary").toString("base64"):Fd,or=zn?e=>Buffer.from(e).toString("base64"):e=>{let s=[];for(let n=0,u=e.length;n<u;n+=4096)s.push(En.apply(null,e.subarray(n,n+4096)));return Cd(s.join(""))},bd=(e,t=!1)=>t?Ed(or(e)):or(e),yd=e=>{if(e=e.replace(/\s+/g,""),!_d.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,s="",n,u;for(let o=0;o<e.length;)t=pn[e.charAt(o++)]<<18|pn[e.charAt(o++)]<<12|(n=pn[e.charAt(o++)])<<6|(u=pn[e.charAt(o++)]),s+=n===64?En(t>>16&255):u===64?En(t>>16&255,t>>8&255):En(t>>16&255,t>>8&255,t&255);return s},wd=md?e=>atob(ki(e)):zn?e=>Buffer.from(e,"base64").toString("binary"):yd,Ad=zn?e=>ur(Buffer.from(e,"base64")):e=>ur(wd(e).split("").map(t=>t.charCodeAt(0))),Dd=e=>Ad(Bd(e)),Bd=e=>ki(e.replace(/[-_]/g,t=>t=="-"?"+":"/"));function Si(e){return bd(e,!0)}function to(e){return Dd(e)}function $d(e){const t=[];for(let s=0;s<e.length;s++){const n=e[s],u=Array.from(e.slice(s+1,s+1+n));t.push(u),s+=n}return t}function Pd(e){const t=[];if(e[0]!==128)return t;for(let s=1;s<e.length;s++){const n=e[s++],u=[];for(let o=0;o<n;o++){const r=e[s++],i=r>>4,l=r&15,a=Array.from(e.slice(s,s+l));u.push(new Ve(i,a)),s+=l}t.push(u),s--}return t}function kd(e){const t=[128];for(let s=0;s<e.length;s++){const n=e[s];t.push(n.length);const u=t.length-1;for(let o=0;o<n.length;o++){const r=n[o];if(r.steps.length==0||r.worker==0){t[u]--;continue}t.push((r.worker<<4)+r.steps.length);for(let i=0;i<r.steps.length;i++)t.push(r.steps[i])}}return Si(new Uint8Array(t))}class Sd{constructor(){v(this,"hoverRecipeID",0);v(this,"hoverPositionX",0);v(this,"hoverPositionY",0)}get HoverRecipeID(){return this.hoverRecipeID}get HoverPosX(){return this.hoverPositionX}get HoverPosY(){return this.hoverPositionY}onHoverEnter(t,s,n){this.hoverRecipeID=t,this.hoverPositionX=s,this.hoverPositionY=n}onHoverExit(t){t===this.hoverRecipeID&&(this.hoverRecipeID=0)}}class jd{constructor(){v(this,"solver",new hd);v(this,"data");v(this,"config");v(this,"event");v(this,"inited",!1);v(this,"predictDemands",[]);this.data=new nt(du.Global),this.config=Xi.load(this.Recipes.length),this.data.SetRegion(this.config.region),this.event=new Sd}get Recipes(){return this.data.Recipes}get Popularity(){return this.data.Popularity}async init(){this.inited||(await this.solver.init(),await this.loadData())}async loadData(){const t=new Uint16Array(7*this.Recipes.length);for(let u=0;u<this.Recipes.length;u++){const o=this.Recipes[u];t[u*7+0]=o.Id,t[u*7+1]=o.Theme0,t[u*7+2]=o.Theme1,t[u*7+3]=o.Level,t[u*7+4]=o.Time,t[u*7+5]=o.Price,t[u*7+6]=o.Cost}const s=this.data.Popularity[0].length,n=new Uint8Array(this.data.Popularity.length*s);for(let u=0;u<this.data.Popularity.length;u++){const o=this.data.Popularity[u];for(let r=0;r<o.length;r++)n[u*s+r]=o[r]}await this.solver.init_repo(t,n,s),this.inited=!0,await this.updatePredictDemands(),await this.solver.set_pattern(this.popPattern)}get popPattern(){return this.config.popPattern}set popPattern(t){this.config.popPattern=t,this.solver.set_pattern(t)}get region(){return this.config.region}set region(t){this.config.region=t,this.data.SetRegion(t),this.loadData()}get shareLink(){const t=new Uint8Array(Math.ceil(this.config.demandPatterns.length/2)+1);t[0]=this.popPattern;for(let s=0;s<this.config.demandPatterns.length;s++){const n=this.config.demandPatterns[s];t[Math.floor(s/2)+1]|=n<<(s%2===0?0:4)}return Si(t)}async updatePredictDemands(){for(let t=0;t<7;t++){const s=await this.demandsFromPredict(this.config.demandPatterns,t);this.predictDemands.length<=t?this.predictDemands.push(s):this.predictDemands[t]=s}}getPredictDemands(t){return this.predictDemands[t]}infoWithTension(t){return new fd(t,this.config.maxTension,this.config.craftLevel,this.config.workers)}async simulateDetail(t,s,n){const u=await this.solver.simulate(this.infoWithTension(n),new Uint8Array(t),new Int8Array(s));return We.fromSteps(t,u)}async simulateMulti(t,s,n){const u=Ve.toU8Array(t),o=await this.solver.simulate_multi(this.infoWithTension(n),u,new Int8Array(s)),r=[];for(let i=0;i<t.length;i++){const l=t[i],a=i*7,c=We.fromSteps(l.steps,o.slice(a,a+1+l.steps.length));r.push(c)}return r}async simulateWeek(t){const s=[],n=[];for(let o=0;o<this.Recipes.length;o++)n.push(0);let u=0;for(let o=0;o<t.length;o++){const r=t[o],i=new Int8Array(this.predictDemands[o]);for(let p=0;p<n.length;p++)i[p]-=n[p];const l=new Uint8Array(r.length);for(let p=0;p<r.length;p++)l[p]=r[p];const a=await this.solver.simulate(this.infoWithTension(u),l,i),c=We.fromSteps(r,a);s.push(c);for(let p=0;p<c.steps.length;p++){const m=c.steps[p];p==0?n[m]+=1*this.config.workers:(n[m]+=2*this.config.workers,u+=this.config.workers)}u>=this.config.maxTension&&(u=this.config.maxTension)}return s}async simulateMultiWeek(t){const s=[],n=[];for(let o=0;o<this.Recipes.length;o++)n.push(0);let u=0;for(let o=0;o<t.length;o++){const r=t[o],i=[...this.predictDemands[o]];for(let a=0;a<n.length;a++)i[a]-=n[a];const l=await this.simulateMulti(r,i,u);s.push(l);for(let a=0;a<r.length;a++){const c=r[a].steps,p=r[a].worker;for(let m=0;m<c.length;m++){const F=c[m];m==0?n[F]+=1*p:(n[F]+=2*p,u+=p)}}u>=this.config.maxTension&&(u=this.config.maxTension)}return s}async solveDayDetail(t,s,n,u=24){const o=new Uint8Array(s),r=new Int8Array(t),i=this.infoWithTension(n),l=await this.solver.solve_day(i,this.config.level,o,r,u,this.config.withCost);return We.fromSimulateArray(l)}async solveMultiDay(t,s,n,u,o,r=24){const i=new Uint8Array(n),l=new Int8Array(t),a=this.infoWithTension(u),c=Ve.toU8Array(s),p=await this.solver.solve_multi_day(a,this.config.level,i,c,l,o,r,this.config.withCost);return zs.fromSingleWorkerArray(Ks.fromWorkerArrays(p,o))}async solveDayDual(t,s,n,u,o=24){const r=new Uint8Array(s),i=new Int8Array(t),l=this.infoWithTension(n),a=await this.solver.solve_day_dual(l,this.config.level,r,i,u,o,this.config.withCost);return zs.fromArray(a)}async solveWeek(t){const s=this.infoWithTension(0),n=new Uint8Array(t),u=new Uint8Array(this.config.demandPatterns),o=await this.solver.solve_week(s,this.config.level,n,24,this.config.withCost,u),r=We.fromSimulateArray(o),i=[];for(let l=0;l<r.length;l++)r[l].steps.length>0?i.push([new Ve(s.workers,r[l].steps)]):i.push([]);return i}async solveWeekPartly(t,s){const n=this.infoWithTension(0),u=new Uint8Array(t),o=new Uint8Array(this.config.demandPatterns),r=await this.solver.solve_week_part(n,this.config.level,u,24,this.config.withCost,o,s);return[r[0],Ve.fromSolverArray(r.slice(1))]}solveCacheClear(){return this.solver.solve_cache_clear()}async predictFromPackets(t){const s=t.length,n=t[0].length-2,u=new Uint8Array(s*n);for(let i=0;i<t.length;i++){const l=t[i].slice(2);for(let a=0;a<n;a++)u[a*s+i]=l[a]}const o=await this.solver.pattern_predict(u,t.length),r=[];for(let i=0;i<o.length;i++)r.push(o[i]);return r}async predictFromPacketsAdv(t,s){const n=t.length,u=t[0].length-2,o=new Uint8Array((n+1)*u);for(let l=0;l<u;l++){o[l*(n+1)]=s[l];for(let a=0;a<n;a++){const c=t[a].slice(2);o[l*(n+1)+a+1]=c[l]}}const r=await this.solver.pattern_predict_adv(o,n),i=[];for(let l=0;l<r.length;l++)i.push(r[l]);return i}async demandsFromPredict(t,s){const n=new Uint8Array(t),u=await this.solver.pattern_demand(n,s),o=[];for(let r=0;r<u.length;r++)o.push(u[r]);return o}}class $n{constructor(t,s,n){v(this,"value");v(this,"count");v(this,"steps");this.value=t,this.count=s,this.steps=n}static fromArray(t){const s=t[0],n=t[1],u=[];for(let o=2;o<8;o++)t[o]!=0&&u.push(t[o]);return new $n(s,n,u)}static fromSimulateArray(t){const s=[];for(let n=0;n<t.length;n+=8)s.push($n.fromArray(t.slice(n,n+8)));return s}}class We extends $n{constructor(s,n,u,o){super(s,u.length,u);v(this,"stepValues");v(this,"cost");this.cost=n,this.stepValues=o}static fromSteps(s,n){let u=0;const o=[];for(let r=1;r<n.length;r++)u+=n[r],o.push(n[r]);return new We(u,n[0],s,o)}static fromArray(s){const n=s[0],u=s[1],o=[];for(let i=3;i<9;i++)s[i]!=0&&o.push(s[i]);const r=[];for(let i=9;i<15;i++)r.push(s[i]);return new We(n,u,o,r)}static fromSimulateArray(s){const n=[];for(let u=0;u<s.length;u+=15)n.push(We.fromArray(s.slice(u,u+15)));return n}}class Ks extends We{constructor(s,n,u,o,r,i,l){super(o,r,i,l);v(this,"workerVal");v(this,"workerCost");v(this,"workers");this.workers=s,this.workerVal=n,this.workerCost=u}static fromWorkerArray(s,n){const u=s[0],o=s[1],r=We.fromArray(s.slice(2));return new Ks(n,u,o,r.value,r.cost,r.steps,r.stepValues)}static fromWorkerArrays(s,n){const u=[];for(let o=0,r=0;o<s.length;o+=17,r++)u.push(Ks.fromWorkerArray(s.slice(o,o+17),n));return u}}class zs{constructor(t,s,n){v(this,"batches",[]);v(this,"cost",0);v(this,"value",0);this.value=t,this.cost=s,this.batches=n}static fromArray(t){let s=0;const n=[];for(;s<t.length;){const u=[],o=t[s++],r=t[s++],i=t[s++];for(let a=0;a<i;a++){const c=t[s++],p=t[s++],m=t[s++],F=t[s++],P=[];for(let j=0;j<6;j++)P.push(t[s++]);const R=[];for(let j=0;j<6;j++)R.push(t[s++]);P.length=F,R.length=F;const K=new Ks(c,0,0,p,m,P,R);u.push(K)}const l=new zs(o,r,u);n.push(l)}return n}static fromSingleWorkerArray(t){const s=[];for(let n=0;n<t.length;n++){const u=t[n];s.push(new zs(u.value*u.workers,u.cost*u.workers,[u]))}return s}}class Ve{constructor(t,s){v(this,"worker",1);v(this,"steps",[]);this.worker=t,s.length>6&&(s=s.slice(0,6)),this.steps=s}clone(){return new Ve(this.worker,this.steps.slice())}setU8Array(t){t[0]=this.worker;for(let s=0;s<this.steps.length;s++)t[1+s]=this.steps[s];for(let s=this.steps.length;s<6;s++)t[1+s]=0}static toU8Array(t){const s=new Uint8Array(t.length*7);for(let n=0;n<t.length;n++)t[n].setU8Array(s.subarray(n*7));return s}static fromSolverArray(t){const s=[];let n=0;for(;n<t.length;){t[n++],t[n++];const u=t[n++],o=[];for(let r=0;r<u;r++){const i=t[n++],l=t[n++],a=[];for(let c=0;c<6;c++)a.push(t[n++]);n+=6,a.length=l,o.push(new Ve(i,a))}s.push(o)}return s}}const pe=(e,t)=>{const s=e.__vccOpts||e;for(const[n,u]of t)s[n]=u;return s},Od={},Id={class:"lds-spinner"},Rd=d("div",null,null,-1),Md=d("div",null,null,-1),Td=d("div",null,null,-1),Nd=d("div",null,null,-1),Vd=d("div",null,null,-1),xd=d("div",null,null,-1),Ld=d("div",null,null,-1),Ud=d("div",null,null,-1),Wd=d("div",null,null,-1),Hd=d("div",null,null,-1),Kd=d("div",null,null,-1),zd=d("div",null,null,-1),qd=[Rd,Md,Td,Nd,Vd,xd,Ld,Ud,Wd,Hd,Kd,zd];function Gd(e,t){return E(),y("div",Id,qd)}const so=pe(Od,[["render",Gd]]);var Qd=Object.defineProperty,Jd=Object.getOwnPropertyDescriptor,no=(e,t,s,n)=>{for(var u=n>1?void 0:n?Jd(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&Qd(t,s,u),u};let qs=class extends he{constructor(){super(...arguments);v(this,"id");v(this,"data")}get step(){return this.data.GetRecipe(this.id)}ingridientName(s){return this.data?nt.TrimName(this.data.GetItem(s).Name):""}get name(){return nt.TrimName(this.step.Name)}get theme0(){return this.data.GetTheme(this.step.Theme0)}get theme1(){return this.data.GetTheme(this.step.Theme1)}};no([T()],qs.prototype,"id",2);no([T()],qs.prototype,"data",2);qs=no([fe({})],qs);const Yd={class:"item-header"},Xd={class:"item-img"},Zd={class:"item-text"},ep={class:"item-primary"},tp={class:"item-name"},sp={class:"item-desc mji-text-small"},np=d("icon",{class:"mji mji-clock"},null,-1),up=d("icon",{class:"blue-coin"},null,-1),op={class:"mji-text-small"},rp=d("div",{class:"mji-title mji-text-orange"}," 分类 ",-1),ip={class:"item-detail-col"},lp={key:0,class:"item-detail-col"},ap=d("div",{class:"mji-title mji-text-orange"}," 原料 ",-1),cp={key:0,class:"item-detail-col"},dp=d("span",{class:"cross"},"×",-1);function pp(e,t,s,n,u,o){var r;return E(),y("div",{class:"item-detail mji-wooden-plate",style:Zs({visibility:e.id>0?"visible":"hidden"})},[d("div",Yd,[d("div",Xd,[d("icon",{class:me(["item","item-"+e.step.Icon])},null,2)]),d("div",Zd,[d("div",ep,[d("span",tp,O(e.name),1)]),d("div",sp,[d("span",null,"Lv."+O(e.step.Level),1),d("span",null,[np,I(O(e.step.Time)+"h",1)]),d("span",null,[up,I(O(e.step.Price),1)])])])]),d("div",op,[rp,d("div",ip,O(e.theme0),1),e.theme1?(E(),y("div",lp,O(e.theme1),1)):J("",!0),ap,(E(!0),y(G,null,de((r=e.step)==null?void 0:r.Ingredients,(i,l)=>(E(),y(G,{key:l},[i.Count>0?(E(),y("div",cp,[I(O(e.ingridientName(i.Id)),1),dp,I(O(i.Count),1)])):J("",!0)],64))),128))])],4)}const fp=pe(qs,[["render",pp]]);var hp=Object.defineProperty,mp=Object.getOwnPropertyDescriptor,gp=(e,t,s,n)=>{for(var u=n>1?void 0:n?mp(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&hp(t,s,u),u};let Du=class extends he{constructor(){super(...arguments);v(this,"solver",new jd);v(this,"inited",!1);v(this,"errMessage","")}mounted(){this.solver.init().then(()=>{this.inited=!0}).catch(s=>{this.errMessage=s.message})}get style(){return this.solver.config.styleStepWidth?"monospace":""}get top(){var o,r;let s=this.solver.event.HoverPosY,n=((r=(o=this.$refs.detail)==null?void 0:o.$el)==null?void 0:r.offsetHeight)??0,u=document.documentElement.clientHeight-30;return s+n>u&&(s=u-n),s}get left(){return this.solver.event.HoverPosX}get hoverID(){return this.solver.event.HoverRecipeID}};Du=gp([fe({components:{Loading:so,ItemDetail:fp}})],Du);const vp={key:1,class:"body-loading"},_p={key:0},Ep=d("p",null,"求解器加载失败",-1),Fp={key:1},Cp=d("p",null,"正在加载求解器",-1),bp=d("p",null,"若长时间加载不成功请刷新页面",-1),yp=[Cp,bp];function wp(e,t,s,n,u,o){const r=Y("RouterLink"),i=Y("RouterView"),l=Y("Loading"),a=Y("ItemDetail");return E(),y(G,null,[d("header",null,[d("nav",null,[H(r,{to:"/"},{default:le(()=>[I(" 求解器 ")]),_:1}),H(r,{to:"/plan"},{default:le(()=>[I(" 排班表 ")]),_:1}),H(r,{to:"/pred"},{default:le(()=>[I(" 需求与趋势 ")]),_:1}),H(r,{to:"/setting"},{default:le(()=>[I(" 设置 ")]),_:1}),H(r,{to:"/help"},{default:le(()=>[I(" 帮助 ")]),_:1})])]),e.inited?(E(),Ee(i,{key:0,solver:e.solver,class:"body","step-style":e.style},null,8,["solver","step-style"])):(E(),y("div",vp,[H(l),e.errMessage?(E(),y("div",_p,[Ep,d("p",null,O(e.errMessage),1)])):(E(),y("div",Fp,yp))])),e.solver.config.showItemPopup?(E(),Ee(a,{key:2,id:e.hoverID,ref:"detail",data:e.solver.data,style:Zs({top:e.top+"px",left:e.left+"px"})},null,8,["id","data","style"])):J("",!0)],64)}const Ap=pe(Du,[["render",wp]]);/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Zt=typeof window<"u";function Dp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ne=Object.assign;function iu(e,t){const s={};for(const n in t){const u=t[n];s[n]=qe(u)?u.map(e):e(u)}return s}const Rs=()=>{},qe=Array.isArray,Bp=/\/$/,$p=e=>e.replace(Bp,"");function lu(e,t,s="/"){let n,u={},o="",r="";const i=t.indexOf("#");let l=t.indexOf("?");return i<l&&i>=0&&(l=-1),l>-1&&(n=t.slice(0,l),o=t.slice(l+1,i>-1?i:t.length),u=e(o)),i>-1&&(n=n||t.slice(0,i),r=t.slice(i,t.length)),n=jp(n??t,s),{fullPath:n+(o&&"?")+o+r,path:n,query:u,hash:r}}function Pp(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function rr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function kp(e,t,s){const n=t.matched.length-1,u=s.matched.length-1;return n>-1&&n===u&&as(t.matched[n],s.matched[u])&&ji(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function as(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ji(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Sp(e[s],t[s]))return!1;return!0}function Sp(e,t){return qe(e)?ir(e,t):qe(t)?ir(t,e):e===t}function ir(e,t){return qe(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function jp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),u=n[n.length-1];(u===".."||u===".")&&n.push("");let o=s.length-1,r,i;for(r=0;r<n.length;r++)if(i=n[r],i!==".")if(i==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(r-(r===n.length?1:0)).join("/")}var Gs;(function(e){e.pop="pop",e.push="push"})(Gs||(Gs={}));var Ms;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ms||(Ms={}));function Op(e){if(!e)if(Zt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),$p(e)}const Ip=/^[^#]+#/;function Rp(e,t){return e.replace(Ip,"#")+t}function Mp(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const qn=()=>({left:window.pageXOffset,top:window.pageYOffset});function Tp(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),u=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!u)return;t=Mp(u,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function lr(e,t){return(history.state?history.state.position-t:-1)+e}const Bu=new Map;function Np(e,t){Bu.set(e,t)}function Vp(e){const t=Bu.get(e);return Bu.delete(e),t}let xp=()=>location.protocol+"//"+location.host;function Oi(e,t){const{pathname:s,search:n,hash:u}=t,o=e.indexOf("#");if(o>-1){let i=u.includes(e.slice(o))?e.slice(o).length:1,l=u.slice(i);return l[0]!=="/"&&(l="/"+l),rr(l,"")}return rr(s,e)+n+u}function Lp(e,t,s,n){let u=[],o=[],r=null;const i=({state:m})=>{const F=Oi(e,location),P=s.value,R=t.value;let K=0;if(m){if(s.value=F,t.value=m,r&&r===P){r=null;return}K=R?m.position-R.position:0}else n(F);u.forEach(j=>{j(s.value,P,{delta:K,type:Gs.pop,direction:K?K>0?Ms.forward:Ms.back:Ms.unknown})})};function l(){r=s.value}function a(m){u.push(m);const F=()=>{const P=u.indexOf(m);P>-1&&u.splice(P,1)};return o.push(F),F}function c(){const{history:m}=window;m.state&&m.replaceState(ne({},m.state,{scroll:qn()}),"")}function p(){for(const m of o)m();o=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:a,destroy:p}}function ar(e,t,s,n=!1,u=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:u?qn():null}}function Up(e){const{history:t,location:s}=window,n={value:Oi(e,s)},u={value:t.state};u.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,a,c){const p=e.indexOf("#"),m=p>-1?(s.host&&document.querySelector("base")?e:e.slice(p))+l:xp()+e+l;try{t[c?"replaceState":"pushState"](a,"",m),u.value=a}catch(F){console.error(F),s[c?"replace":"assign"](m)}}function r(l,a){const c=ne({},t.state,ar(u.value.back,l,u.value.forward,!0),a,{position:u.value.position});o(l,c,!0),n.value=l}function i(l,a){const c=ne({},u.value,t.state,{forward:l,scroll:qn()});o(c.current,c,!0);const p=ne({},ar(n.value,l,null),{position:c.position+1},a);o(l,p,!1),n.value=l}return{location:n,state:u,push:i,replace:r}}function Wp(e){e=Op(e);const t=Up(e),s=Lp(e,t.state,t.location,t.replace);function n(o,r=!0){r||s.pauseListeners(),history.go(o)}const u=ne({location:"",base:e,go:n,createHref:Rp.bind(null,e)},t,s);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>t.state.value}),u}function Hp(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Wp(e)}function Kp(e){return typeof e=="string"||e&&typeof e=="object"}function Ii(e){return typeof e=="string"||typeof e=="symbol"}const Ct={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ri=Symbol("");var cr;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(cr||(cr={}));function cs(e,t){return ne(new Error,{type:e,[Ri]:!0},t)}function ct(e,t){return e instanceof Error&&Ri in e&&(t==null||!!(e.type&t))}const dr="[^/]+?",zp={sensitive:!1,strict:!1,start:!0,end:!0},qp=/[.+*?^${}()[\]/\\]/g;function Gp(e,t){const s=ne({},zp,t),n=[];let u=s.start?"^":"";const o=[];for(const a of e){const c=a.length?[]:[90];s.strict&&!a.length&&(u+="/");for(let p=0;p<a.length;p++){const m=a[p];let F=40+(s.sensitive?.25:0);if(m.type===0)p||(u+="/"),u+=m.value.replace(qp,"\\$&"),F+=40;else if(m.type===1){const{value:P,repeatable:R,optional:K,regexp:j}=m;o.push({name:P,repeatable:R,optional:K});const L=j||dr;if(L!==dr){F+=10;try{new RegExp(`(${L})`)}catch(W){throw new Error(`Invalid custom RegExp for param "${P}" (${L}): `+W.message)}}let Z=R?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;p||(Z=K&&a.length<2?`(?:/${Z})`:"/"+Z),K&&(Z+="?"),u+=Z,F+=20,K&&(F+=-8),R&&(F+=-20),L===".*"&&(F+=-50)}c.push(F)}n.push(c)}if(s.strict&&s.end){const a=n.length-1;n[a][n[a].length-1]+=.7000000000000001}s.strict||(u+="/?"),s.end?u+="$":s.strict&&(u+="(?:/|$)");const r=new RegExp(u,s.sensitive?"":"i");function i(a){const c=a.match(r),p={};if(!c)return null;for(let m=1;m<c.length;m++){const F=c[m]||"",P=o[m-1];p[P.name]=F&&P.repeatable?F.split("/"):F}return p}function l(a){let c="",p=!1;for(const m of e){(!p||!c.endsWith("/"))&&(c+="/"),p=!1;for(const F of m)if(F.type===0)c+=F.value;else if(F.type===1){const{value:P,repeatable:R,optional:K}=F,j=P in a?a[P]:"";if(qe(j)&&!R)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const L=qe(j)?j.join("/"):j;if(!L)if(K)m.length<2&&(c.endsWith("/")?c=c.slice(0,-1):p=!0);else throw new Error(`Missing required param "${P}"`);c+=L}}return c||"/"}return{re:r,score:n,keys:o,parse:i,stringify:l}}function Qp(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Jp(e,t){let s=0;const n=e.score,u=t.score;for(;s<n.length&&s<u.length;){const o=Qp(n[s],u[s]);if(o)return o;s++}if(Math.abs(u.length-n.length)===1){if(pr(n))return 1;if(pr(u))return-1}return u.length-n.length}function pr(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Yp={type:0,value:""},Xp=/[a-zA-Z0-9_]/;function Zp(e){if(!e)return[[]];if(e==="/")return[[Yp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(F){throw new Error(`ERR (${s})/"${a}": ${F}`)}let s=0,n=s;const u=[];let o;function r(){o&&u.push(o),o=[]}let i=0,l,a="",c="";function p(){a&&(s===0?o.push({type:0,value:a}):s===1||s===2||s===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${a}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:a,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),a="")}function m(){a+=l}for(;i<e.length;){if(l=e[i++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(a&&p(),r()):l===":"?(p(),s=1):m();break;case 4:m(),s=n;break;case 1:l==="("?s=2:Xp.test(l)?m():(p(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&i--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:p(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&i--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${a}"`),p(),r(),u}function ef(e,t,s){const n=Gp(Zp(e.path),s),u=ne(n,{record:e,parent:t,children:[],alias:[]});return t&&!u.record.aliasOf==!t.record.aliasOf&&t.children.push(u),u}function tf(e,t){const s=[],n=new Map;t=mr({strict:!1,end:!0,sensitive:!1},t);function u(c){return n.get(c)}function o(c,p,m){const F=!m,P=sf(c);P.aliasOf=m&&m.record;const R=mr(t,c),K=[P];if("alias"in c){const Z=typeof c.alias=="string"?[c.alias]:c.alias;for(const W of Z)K.push(ne({},P,{components:m?m.record.components:P.components,path:W,aliasOf:m?m.record:P}))}let j,L;for(const Z of K){const{path:W}=Z;if(p&&W[0]!=="/"){const ye=p.record.path,Pe=ye[ye.length-1]==="/"?"":"/";Z.path=p.record.path+(W&&Pe+W)}if(j=ef(Z,p,R),m?m.alias.push(j):(L=L||j,L!==j&&L.alias.push(j),F&&c.name&&!hr(j)&&r(c.name)),P.children){const ye=P.children;for(let Pe=0;Pe<ye.length;Pe++)o(ye[Pe],j,m&&m.children[Pe])}m=m||j,(j.record.components&&Object.keys(j.record.components).length||j.record.name||j.record.redirect)&&l(j)}return L?()=>{r(L)}:Rs}function r(c){if(Ii(c)){const p=n.get(c);p&&(n.delete(c),s.splice(s.indexOf(p),1),p.children.forEach(r),p.alias.forEach(r))}else{const p=s.indexOf(c);p>-1&&(s.splice(p,1),c.record.name&&n.delete(c.record.name),c.children.forEach(r),c.alias.forEach(r))}}function i(){return s}function l(c){let p=0;for(;p<s.length&&Jp(c,s[p])>=0&&(c.record.path!==s[p].record.path||!Mi(c,s[p]));)p++;s.splice(p,0,c),c.record.name&&!hr(c)&&n.set(c.record.name,c)}function a(c,p){let m,F={},P,R;if("name"in c&&c.name){if(m=n.get(c.name),!m)throw cs(1,{location:c});R=m.record.name,F=ne(fr(p.params,m.keys.filter(L=>!L.optional).map(L=>L.name)),c.params&&fr(c.params,m.keys.map(L=>L.name))),P=m.stringify(F)}else if("path"in c)P=c.path,m=s.find(L=>L.re.test(P)),m&&(F=m.parse(P),R=m.record.name);else{if(m=p.name?n.get(p.name):s.find(L=>L.re.test(p.path)),!m)throw cs(1,{location:c,currentLocation:p});R=m.record.name,F=ne({},p.params,c.params),P=m.stringify(F)}const K=[];let j=m;for(;j;)K.unshift(j.record),j=j.parent;return{name:R,path:P,params:F,matched:K,meta:uf(K)}}return e.forEach(c=>o(c)),{addRoute:o,resolve:a,removeRoute:r,getRoutes:i,getRecordMatcher:u}}function fr(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function sf(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:nf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function nf(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="boolean"?s:s[n];return t}function hr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function uf(e){return e.reduce((t,s)=>ne(t,s.meta),{})}function mr(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function Mi(e,t){return t.children.some(s=>s===e||Mi(e,s))}const Ti=/#/g,of=/&/g,rf=/\//g,lf=/=/g,af=/\?/g,Ni=/\+/g,cf=/%5B/g,df=/%5D/g,Vi=/%5E/g,pf=/%60/g,xi=/%7B/g,ff=/%7C/g,Li=/%7D/g,hf=/%20/g;function uo(e){return encodeURI(""+e).replace(ff,"|").replace(cf,"[").replace(df,"]")}function mf(e){return uo(e).replace(xi,"{").replace(Li,"}").replace(Vi,"^")}function $u(e){return uo(e).replace(Ni,"%2B").replace(hf,"+").replace(Ti,"%23").replace(of,"%26").replace(pf,"`").replace(xi,"{").replace(Li,"}").replace(Vi,"^")}function gf(e){return $u(e).replace(lf,"%3D")}function vf(e){return uo(e).replace(Ti,"%23").replace(af,"%3F")}function _f(e){return e==null?"":vf(e).replace(rf,"%2F")}function Pn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Ef(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let u=0;u<n.length;++u){const o=n[u].replace(Ni," "),r=o.indexOf("="),i=Pn(r<0?o:o.slice(0,r)),l=r<0?null:Pn(o.slice(r+1));if(i in t){let a=t[i];qe(a)||(a=t[i]=[a]),a.push(l)}else t[i]=l}return t}function gr(e){let t="";for(let s in e){const n=e[s];if(s=gf(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(qe(n)?n.map(o=>o&&$u(o)):[n&&$u(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+s,o!=null&&(t+="="+o))})}return t}function Ff(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=qe(n)?n.map(u=>u==null?null:""+u):n==null?n:""+n)}return t}const Cf=Symbol(""),vr=Symbol(""),oo=Symbol(""),Ui=Symbol(""),Pu=Symbol("");function Bs(){let e=[];function t(n){return e.push(n),()=>{const u=e.indexOf(n);u>-1&&e.splice(u,1)}}function s(){e=[]}return{add:t,list:()=>e,reset:s}}function yt(e,t,s,n,u){const o=n&&(n.enterCallbacks[u]=n.enterCallbacks[u]||[]);return()=>new Promise((r,i)=>{const l=p=>{p===!1?i(cs(4,{from:s,to:t})):p instanceof Error?i(p):Kp(p)?i(cs(2,{from:t,to:p})):(o&&n.enterCallbacks[u]===o&&typeof p=="function"&&o.push(p),r())},a=e.call(n&&n.instances[u],t,s,l);let c=Promise.resolve(a);e.length<3&&(c=c.then(l)),c.catch(p=>i(p))})}function au(e,t,s,n){const u=[];for(const o of e)for(const r in o.components){let i=o.components[r];if(!(t!=="beforeRouteEnter"&&!o.instances[r]))if(bf(i)){const a=(i.__vccOpts||i)[t];a&&u.push(yt(a,s,n,o,r))}else{let l=i();u.push(()=>l.then(a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${o.path}"`));const c=Dp(a)?a.default:a;o.components[r]=c;const m=(c.__vccOpts||c)[t];return m&&yt(m,s,n,o,r)()}))}}return u}function bf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function _r(e){const t=ft(oo),s=ft(Ui),n=Ne(()=>t.resolve(ns(e.to))),u=Ne(()=>{const{matched:l}=n.value,{length:a}=l,c=l[a-1],p=s.matched;if(!c||!p.length)return-1;const m=p.findIndex(as.bind(null,c));if(m>-1)return m;const F=Er(l[a-2]);return a>1&&Er(c)===F&&p[p.length-1].path!==F?p.findIndex(as.bind(null,l[a-2])):m}),o=Ne(()=>u.value>-1&&Df(s.params,n.value.params)),r=Ne(()=>u.value>-1&&u.value===s.matched.length-1&&ji(s.params,n.value.params));function i(l={}){return Af(l)?t[ns(e.replace)?"replace":"push"](ns(e.to)).catch(Rs):Promise.resolve()}return{route:n,href:Ne(()=>n.value.href),isActive:o,isExactActive:r,navigate:i}}const yf=Ku({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:_r,setup(e,{slots:t}){const s=tn(_r(e)),{options:n}=ft(oo),u=Ne(()=>({[Fr(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Fr(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=t.default&&t.default(s);return e.custom?o:gi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:u.value},o)}}}),wf=yf;function Af(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Df(e,t){for(const s in t){const n=t[s],u=e[s];if(typeof n=="string"){if(n!==u)return!1}else if(!qe(u)||u.length!==n.length||n.some((o,r)=>o!==u[r]))return!1}return!0}function Er(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Fr=(e,t,s)=>e??t??s,Bf=Ku({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=ft(Pu),u=Ne(()=>e.route||n.value),o=ft(vr,0),r=Ne(()=>{let a=ns(o);const{matched:c}=u.value;let p;for(;(p=c[a])&&!p.components;)a++;return a}),i=Ne(()=>u.value.matched[r.value]);gn(vr,Ne(()=>r.value+1)),gn(Cf,i),gn(Pu,u);const l=Wl();return mn(()=>[l.value,i.value,e.name],([a,c,p],[m,F,P])=>{c&&(c.instances[p]=a,F&&F!==c&&a&&a===m&&(c.leaveGuards.size||(c.leaveGuards=F.leaveGuards),c.updateGuards.size||(c.updateGuards=F.updateGuards))),a&&c&&(!F||!as(c,F)||!m)&&(c.enterCallbacks[p]||[]).forEach(R=>R(a))},{flush:"post"}),()=>{const a=u.value,c=e.name,p=i.value,m=p&&p.components[c];if(!m)return Cr(s.default,{Component:m,route:a});const F=p.props[c],P=F?F===!0?a.params:typeof F=="function"?F(a):F:null,K=gi(m,ne({},P,t,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(p.instances[c]=null)},ref:l}));return Cr(s.default,{Component:K,route:a})||K}}});function Cr(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const $f=Bf;function Pf(e){const t=tf(e.routes,e),s=e.parseQuery||Ef,n=e.stringifyQuery||gr,u=e.history,o=Bs(),r=Bs(),i=Bs(),l=Hl(Ct);let a=Ct;Zt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=iu.bind(null,C=>""+C),p=iu.bind(null,_f),m=iu.bind(null,Pn);function F(C,S){let $,N;return Ii(C)?($=t.getRecordMatcher(C),N=S):N=C,t.addRoute(N,$)}function P(C){const S=t.getRecordMatcher(C);S&&t.removeRoute(S)}function R(){return t.getRoutes().map(C=>C.record)}function K(C){return!!t.getRecordMatcher(C)}function j(C,S){if(S=ne({},S||l.value),typeof C=="string"){const g=lu(s,C,S.path),_=t.resolve({path:g.path},S),b=u.createHref(g.fullPath);return ne(g,_,{params:m(_.params),hash:Pn(g.hash),redirectedFrom:void 0,href:b})}let $;if("path"in C)$=ne({},C,{path:lu(s,C.path,S.path).path});else{const g=ne({},C.params);for(const _ in g)g[_]==null&&delete g[_];$=ne({},C,{params:p(g)}),S.params=p(S.params)}const N=t.resolve($,S),se=C.hash||"";N.params=c(m(N.params));const f=Pp(n,ne({},C,{hash:mf(se),path:N.path})),h=u.createHref(f);return ne({fullPath:f,hash:se,query:n===gr?Ff(C.query):C.query||{}},N,{redirectedFrom:void 0,href:h})}function L(C){return typeof C=="string"?lu(s,C,l.value.path):ne({},C)}function Z(C,S){if(a!==C)return cs(8,{from:S,to:C})}function W(C){return Qe(C)}function ye(C){return W(ne(L(C),{replace:!0}))}function Pe(C){const S=C.matched[C.matched.length-1];if(S&&S.redirect){const{redirect:$}=S;let N=typeof $=="function"?$(C):$;return typeof N=="string"&&(N=N.includes("?")||N.includes("#")?N=L(N):{path:N},N.params={}),ne({query:C.query,hash:C.hash,params:"path"in N?{}:C.params},N)}}function Qe(C,S){const $=a=j(C),N=l.value,se=C.state,f=C.force,h=C.replace===!0,g=Pe($);if(g)return Qe(ne(L(g),{state:typeof g=="object"?ne({},se,g.state):se,force:f,replace:h}),S||$);const _=$;_.redirectedFrom=S;let b;return!f&&kp(n,N,$)&&(b=cs(16,{to:_,from:N}),Xe(N,N,!0,!1)),(b?Promise.resolve(b):Je(_,N)).catch(w=>ct(w)?ct(w,2)?w:Et(w):te(w,_,N)).then(w=>{if(w){if(ct(w,2))return Qe(ne({replace:h},L(w.to),{state:typeof w.to=="object"?ne({},se,w.to.state):se,force:f}),S||_)}else w=It(_,N,!0,h,se);return _t(_,N,w),w})}function lt(C,S){const $=Z(C,S);return $?Promise.reject($):Promise.resolve()}function qt(C){const S=Jt.values().next().value;return S&&typeof S.runWithContext=="function"?S.runWithContext(C):C()}function Je(C,S){let $;const[N,se,f]=kf(C,S);$=au(N.reverse(),"beforeRouteLeave",C,S);for(const g of N)g.leaveGuards.forEach(_=>{$.push(yt(_,C,S))});const h=lt.bind(null,C,S);return $.push(h),we($).then(()=>{$=[];for(const g of o.list())$.push(yt(g,C,S));return $.push(h),we($)}).then(()=>{$=au(se,"beforeRouteUpdate",C,S);for(const g of se)g.updateGuards.forEach(_=>{$.push(yt(_,C,S))});return $.push(h),we($)}).then(()=>{$=[];for(const g of C.matched)if(g.beforeEnter&&!S.matched.includes(g))if(qe(g.beforeEnter))for(const _ of g.beforeEnter)$.push(yt(_,C,S));else $.push(yt(g.beforeEnter,C,S));return $.push(h),we($)}).then(()=>(C.matched.forEach(g=>g.enterCallbacks={}),$=au(f,"beforeRouteEnter",C,S),$.push(h),we($))).then(()=>{$=[];for(const g of r.list())$.push(yt(g,C,S));return $.push(h),we($)}).catch(g=>ct(g,8)?g:Promise.reject(g))}function _t(C,S,$){for(const N of i.list())qt(()=>N(C,S,$))}function It(C,S,$,N,se){const f=Z(C,S);if(f)return f;const h=S===Ct,g=Zt?history.state:{};$&&(N||h?u.replace(C.fullPath,ne({scroll:h&&g&&g.scroll},se)):u.push(C.fullPath,se)),l.value=C,Xe(C,S,$,h),Et()}let Ye;function ys(){Ye||(Ye=u.listen((C,S,$)=>{if(!un.listening)return;const N=j(C),se=Pe(N);if(se){Qe(ne(se,{replace:!0}),N).catch(Rs);return}a=N;const f=l.value;Zt&&Np(lr(f.fullPath,$.delta),qn()),Je(N,f).catch(h=>ct(h,12)?h:ct(h,2)?(Qe(h.to,N).then(g=>{ct(g,20)&&!$.delta&&$.type===Gs.pop&&u.go(-1,!1)}).catch(Rs),Promise.reject()):($.delta&&u.go(-$.delta,!1),te(h,N,f))).then(h=>{h=h||It(N,f,!1),h&&($.delta&&!ct(h,8)?u.go(-$.delta,!1):$.type===Gs.pop&&ct(h,20)&&u.go(-1,!1)),_t(N,f,h)}).catch(Rs)}))}let Gt=Bs(),_e=Bs(),oe;function te(C,S,$){Et(C);const N=_e.list();return N.length?N.forEach(se=>se(C,S,$)):console.error(C),Promise.reject(C)}function at(){return oe&&l.value!==Ct?Promise.resolve():new Promise((C,S)=>{Gt.add([C,S])})}function Et(C){return oe||(oe=!C,ys(),Gt.list().forEach(([S,$])=>C?$(C):S()),Gt.reset()),C}function Xe(C,S,$,N){const{scrollBehavior:se}=e;if(!Zt||!se)return Promise.resolve();const f=!$&&Vp(lr(C.fullPath,0))||(N||!$)&&history.state&&history.state.scroll||null;return yn().then(()=>se(C,S,f)).then(h=>h&&Tp(h)).catch(h=>te(h,C,S))}const Se=C=>u.go(C);let Qt;const Jt=new Set,un={currentRoute:l,listening:!0,addRoute:F,removeRoute:P,hasRoute:K,getRoutes:R,resolve:j,options:e,push:W,replace:ye,go:Se,back:()=>Se(-1),forward:()=>Se(1),beforeEach:o.add,beforeResolve:r.add,afterEach:i.add,onError:_e.add,isReady:at,install(C){const S=this;C.component("RouterLink",wf),C.component("RouterView",$f),C.config.globalProperties.$router=S,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>ns(l)}),Zt&&!Qt&&l.value===Ct&&(Qt=!0,W(u.location).catch(se=>{}));const $={};for(const se in Ct)$[se]=Ne(()=>l.value[se]);C.provide(oo,S),C.provide(Ui,tn($)),C.provide(Pu,l);const N=C.unmount;Jt.add(C),C.unmount=function(){Jt.delete(C),Jt.size<1&&(a=Ct,Ye&&Ye(),Ye=null,l.value=Ct,Qt=!1,oe=!1),N()}}};function we(C){return C.reduce((S,$)=>S.then(()=>qt($)),Promise.resolve())}return un}function kf(e,t){const s=[],n=[],u=[],o=Math.max(t.matched.length,e.matched.length);for(let r=0;r<o;r++){const i=t.matched[r];i&&(e.matched.find(a=>as(a,i))?n.push(i):s.push(i));const l=e.matched[r];l&&(t.matched.find(a=>as(a,l))||u.push(l))}return[s,n,u]}const At=["未知","2强","2弱","3强","3弱","4强","4弱","5强","5弱","6强","6弱","7强","7弱"];class ro{static Hex2U8Array(t){const s=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)s[n/2]=parseInt(t.substring(n,n+2),16);return s}static ChangeArrayVal(t,s,n,u){let o=0;for(let i=0;i<t.length;i++)o+=i==s?n:t[i];if(o<=u){t[s]=n;return}let r=o-u;for(let i=1;i<t.length;i++){const l=(i+s)%t.length;if(t[l]<r)r-=t[l],t[l]=0;else{t[l]-=r,r=0;break}}r>0&&(n-=r),t[s]=n}}class Ut{static GetDemand(t){return t>=18?0:t>=10?1:t>=2?2:t>=-6?3:4}static FromDemand(t){switch(t){case 0:return 24;case 1:return 13;case 2:return 9;case 3:return 0;case 4:return-7;default:return 9}}static GetDemandChange(t){return t>=5?2:t>=2?1:t>=-1?0:t>=-5?-1:-2}}var Sf=Object.defineProperty,jf=Object.getOwnPropertyDescriptor,Of=(e,t,s,n)=>{for(var u=n>1?void 0:n?jf(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&Sf(t,s,u),u};let ku=class extends he{close(t){this.$emit("close"),t.stopPropagation()}};ku=Of([fe({emits:["close"]})],ku);const If=d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24"},[d("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"})],-1),Rf=[If];function Mf(e,t,s,n,u,o){return E(),y("button",{class:"close-btn",onClick:t[0]||(t[0]=(...r)=>e.close&&e.close(...r))},Rf)}const Cs=pe(ku,[["render",Mf]]);var Tf=Object.defineProperty,Nf=Object.getOwnPropertyDescriptor,Wi=(e,t,s,n)=>{for(var u=n>1?void 0:n?Nf(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&Tf(t,s,u),u};let kn=class extends he{constructor(){super(...arguments);v(this,"count")}};Wi([T()],kn.prototype,"count",2);kn=Wi([fe({})],kn);const Vf={key:1,class:"mji mji-no-box"},xf={key:2,class:"mji mji-false"};function Lf(e,t,s,n,u,o){return E(),y("span",null,[e.count>0?(E(!0),y(G,{key:0},de(e.count,r=>(E(),y("icon",{key:r,class:"mji mji-box"}))),128)):J("",!0),e.count===0?(E(),y("icon",Vf)):J("",!0),e.count===-1?(E(),y("icon",xf)):J("",!0)])}const Gn=pe(kn,[["render",Lf]]);var Uf=Object.defineProperty,Wf=Object.getOwnPropertyDescriptor,St=(e,t,s,n)=>{for(var u=n>1?void 0:n?Wf(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&Uf(t,s,u),u};let ot=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"step");v(this,"value");v(this,"pop");v(this,"demand");v(this,"removeable");v(this,"pattern")}get name(){return nt.TrimName(this.step.Name)}get time(){return this.step.Time}get iconPath(){return"item-"+this.step.Icon}get popularity(){return this.pop===void 0?"mji-popular-2":"mji-popular-"+this.pop.toString()}get demandBox(){return this.demand===void 0?2:Ut.GetDemand(this.demand)}get patternName(){return this.pattern===void 0?At[0]:At[this.pattern]}onClose(){this.$emit("remove")}onMouseIn(s){this.solver&&this.solver.event.onHoverEnter(this.step.Id,s.clientX,s.clientY)}onMouseOut(){this.solver&&this.solver.event.onHoverExit(this.step.Id)}unmounted(){this.onMouseOut()}};St([T()],ot.prototype,"solver",2);St([T()],ot.prototype,"step",2);St([T()],ot.prototype,"value",2);St([T()],ot.prototype,"pop",2);St([T()],ot.prototype,"demand",2);St([T()],ot.prototype,"removeable",2);St([T()],ot.prototype,"pattern",2);ot=St([fe({components:{Close:Cs,MjiBox:Gn},emits:["remove"]})],ot);const Hf={class:"item-img"},Kf={class:"item-text hide-md"},zf={class:"item-primary"},qf={class:"item-name"},Gf={class:"item-desc"},Qf={class:"step-value text"},Jf=d("icon",{class:"blue-coin"},null,-1),Yf={class:"step-time text"},Xf={key:0,class:"step-pattern text"},Zf={key:1,class:"step-pop"};function eh(e,t,s,n,u,o){const r=Y("close"),i=Y("MjiBox");return E(),y("div",{class:"step-item mji-step-box",onMouseenter:t[0]||(t[0]=(...l)=>e.onMouseIn&&e.onMouseIn(...l)),onMouseleave:t[1]||(t[1]=(...l)=>e.onMouseOut&&e.onMouseOut(...l))},[d("div",Hf,[d("icon",{class:me(["item",e.iconPath])},null,2)]),d("div",Kf,[d("div",zf,[e.removeable?(E(),Ee(r,{key:0,class:"item-remove",onClose:e.onClose},null,8,["onClose"])):J("",!0),d("span",qf,O(e.name),1)]),d("div",Gf,[d("span",Qf,[Jf,I(O(e.value),1)]),d("span",Yf,O(e.time)+"h",1),e.pattern?(E(),y("span",Xf,O(e.patternName),1)):J("",!0),e.pop!==void 0?(E(),y("span",Zf,[d("icon",{class:me(["mji",e.popularity])},null,2)])):J("",!0),e.demand!==void 0?(E(),Ee(i,{key:2,class:"step-demand",count:e.demandBox},null,8,["count"])):J("",!0)])])],32)}const Hi=pe(ot,[["render",eh]]);var th=Object.defineProperty,sh=Object.getOwnPropertyDescriptor,jt=(e,t,s,n)=>{for(var u=n>1?void 0:n?sh(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&th(t,s,u),u};let rt=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"steps");v(this,"values");v(this,"demands");v(this,"patterns");v(this,"pops");v(this,"removeable")}getStep(s){return this.solver.data.GetRecipe(s)}getClassName(s){return"step-"+this.getStep(s).Time}getDemand(s){if(!(!this.demands||this.demands.length<=s))return this.demands[s]}getPattern(s){if(!(!this.patterns||this.patterns.length<=s))return this.patterns[s]}getPopularity(s){if(!(!this.pops||this.pops.length<=s))return this.pops[s]}onRemove(s){this.$emit("remove",s)}};jt([T()],rt.prototype,"solver",2);jt([T()],rt.prototype,"steps",2);jt([T()],rt.prototype,"values",2);jt([T()],rt.prototype,"demands",2);jt([T()],rt.prototype,"patterns",2);jt([T()],rt.prototype,"pops",2);jt([T()],rt.prototype,"removeable",2);rt=jt([fe({components:{Step:Hi},emits:["remove"]})],rt);const nh={class:"steps"};function uh(e,t,s,n,u,o){const r=Y("step");return E(),y("div",nh,[(E(!0),y(G,null,de(e.steps,(i,l)=>(E(),Ee(r,{key:l,solver:e.solver,class:me(e.getClassName(i)),step:e.getStep(i),value:e.values[l],demand:e.getDemand(l),pattern:e.getPattern(i),pop:e.getPopularity(l),removeable:e.removeable,onRemove:a=>e.onRemove(l)},null,8,["solver","class","step","value","demand","pattern","pop","removeable","onRemove"]))),128))])}const Qn=pe(rt,[["render",uh]]);var oh=Object.defineProperty,rh=Object.getOwnPropertyDescriptor,Ot=(e,t,s,n)=>{for(var u=n>1?void 0:n?rh(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&oh(t,s,u),u};let it=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"batch");v(this,"deltaVal");v(this,"removeable");v(this,"demands");v(this,"patterns");v(this,"pops")}onRemove(s){this.$emit("remove",s)}};Ot([T()],it.prototype,"solver",2);Ot([T()],it.prototype,"batch",2);Ot([T()],it.prototype,"deltaVal",2);Ot([T()],it.prototype,"removeable",2);Ot([T()],it.prototype,"demands",2);Ot([T()],it.prototype,"patterns",2);Ot([T()],it.prototype,"pops",2);it=Ot([fe({components:{Steps:Qn},emits:["remove"]})],it);const ih={key:0,class:"batch"},lh={class:"batch-value"},ah={class:"bench-value"},ch=d("icon",{class:"blue-coin"},null,-1),dh={class:"bench-cost mji-text-small"},ph={key:0};function fh(e,t,s,n,u,o){const r=Y("steps");return e.batch?(E(),y("div",ih,[Wt(e.$slots,"default"),d("div",lh,[d("span",ah,[ch,I(O(e.batch.value),1)]),d("span",dh,[I(" (-"+O(e.batch.cost),1),e.deltaVal?(E(),y("span",ph,", "+O(e.deltaVal>0?"+":"")+O(e.deltaVal),1)):J("",!0),I(") ")])]),H(r,{solver:e.solver,steps:e.batch.steps,values:e.batch.stepValues,removeable:e.removeable,demands:e.demands,patterns:e.patterns,pops:e.pops,onRemove:e.onRemove},null,8,["solver","steps","values","removeable","demands","patterns","pops","onRemove"])])):J("",!0)}const Ki=pe(it,[["render",fh]]);var hh=Object.defineProperty,mh=Object.getOwnPropertyDescriptor,io=(e,t,s,n)=>{for(var u=n>1?void 0:n?mh(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&hh(t,s,u),u};let Qs=class extends he{constructor(){super(...arguments);v(this,"modelValue",0);v(this,"value",0)}select(s){this.value=s,this.$emit("update:modelValue",s)}isSelected(s){return this.value==s}mounted(){this.onModelChange()}onModelChange(){this.value=this.modelValue}};io([T()],Qs.prototype,"modelValue",2);io([be("modelValue")],Qs.prototype,"onModelChange",1);Qs=io([fe({emits:["update:modelValue"]})],Qs);const gh={class:"datebar",role:"group","aria-label":"..."},vh=["onClick"];function _h(e,t,s,n,u,o){return E(),y("div",gh,[d("button",{class:me(["sched",{"sched-yellow":!e.isSelected(0),"sched-green":e.isSelected(0)}]),onClick:t[0]||(t[0]=r=>e.select(0))}," - ",2),(E(),y(G,null,de(7,r=>d("button",{key:r,class:me(["sched",{"sched-red":!e.isSelected(r),"sched-green":e.isSelected(r)}]),onClick:i=>e.select(r)},O(r),11,vh)),64))])}const Eh=pe(Qs,[["render",_h]]);var Fh=Object.defineProperty,Ch=Object.getOwnPropertyDescriptor,Jn=(e,t,s,n)=>{for(var u=n>1?void 0:n?Ch(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&Fh(t,s,u),u};let ds=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"batches",[]);v(this,"tension",0);v(this,"maxTime",24);v(this,"demands",[]);v(this,"banList",[]);v(this,"setSteps",[]);v(this,"setValues",[]);v(this,"currentWorker",3);v(this,"date",0)}get banArr(){const s=[];for(let n=0;n<this.banList.length;n++)this.banList[n]&&s.push(n);return s}async solve(){let s=await this.solver.solveMultiDay(this.demands,this.setSteps,this.banArr,this.tension,this.currentWorker,this.maxTime);s.forEach(n=>n.batches.forEach(u=>{u.workerVal!=0&&(u.workerVal-=this.sumVal)})),this.batches=s.slice(0,100)}get pop_pattern(){return this.solver.popPattern}get objects(){return this.solver.Recipes.filter(s=>s.Name)}get maxWorker(){return this.solver.config.workers}get sumVal(){let s=0;for(let n=0;n<this.setValues.length;n++)s+=this.setValues[n].value*this.setSteps[n].worker;return s}get sumCost(){let s=0;for(let n=0;n<this.setValues.length;n++)s+=this.setValues[n].cost*this.setSteps[n].worker;return s}get netVal(){return this.sumVal-this.sumCost}get customDemand(){return this.date===0}updateDemands(){this.date!==0&&(this.demands=new Array(...this.solver.getPredictDemands(this.date-1)))}mounted(){for(;this.demands.length<this.solver.Recipes.length;)this.demands.push(9);for(;this.banList.length<this.solver.Recipes.length;)this.banList.push(!1)}trimName(s){return nt.TrimName(s)}popularity(s){return this.pop_pattern>=this.solver.Popularity.length?"mji-popular-3":"mji-popular-"+this.solver.Popularity[this.pop_pattern][s].toString()}getDemandBox(s){return Ut.GetDemand(s)}changeDemandBox(s){if(!this.customDemand)return;let u=(Ut.GetDemand(this.demands[s])+1)%5;this.demands[s]=Ut.FromDemand(u),this.simulateSet(),this.solve()}add(s){this.batches[s].batches.forEach(u=>{this.setSteps.push(new Ve(u.workers,u.steps)),this.setValues.push(u)}),this.simulateSet(),this.solve()}removeSet(s){this.setSteps.splice(s,1),this.setValues.splice(s,1),this.simulateSet(),this.solve()}async simulateSet(){this.setValues=await this.solver.simulateMulti(this.setSteps,this.demands,this.tension)}setWorkerNum(s,n){let u=Number(n.target.value);this.setSteps[s].worker=u,this.simulateSet(),this.solve()}onMouseIn(s,n){this.solver.event.onHoverEnter(s,n.clientX,n.clientY)}onMouseOut(s){this.solver.event.onHoverExit(s)}};Jn([T()],ds.prototype,"solver",2);Jn([be("date")],ds.prototype,"updateDemands",1);Jn([be("demands",{deep:!0}),be("tension")],ds.prototype,"simulateSet",1);ds=Jn([fe({components:{BatchView:Ki,DateBar:Eh,MjiBox:Gn}})],ds);const bh={class:"container"},yh={class:"container-left setting"},wh={class:"pure-form"},Ah=d("legend",null,"设置",-1),Dh={class:"solve-sitting pure-control-group"},Bh=d("div",null,[d("label",{for:"tension"},"干劲"),d("label",{for:"maxTime"},"时间"),d("label",{for:"currentWorker"},"求解工坊数")],-1),$h=["max"],Ph={class:"pure-form pure-form-stacked pure-g"},kh=d("legend",null,"日期",-1),Sh={class:"objects"},jh=sn('<div class="objects-header pure-g"><span class="item-name pure-u-8-24">产品名</span><span class="item-pop pure-u-4-24">欢迎度</span><span class="item-demand pure-u-9-24">需求</span><span class="item-demand pure-u-3-24">禁用</span></div>',1),Oh=["onMouseenter","onMouseleave"],Ih={class:"item-pop pure-u-2-24"},Rh=["onUpdate:modelValue"],Mh={class:"item-disable pure-u-3-24"},Th=["onUpdate:modelValue"],Nh={class:"container-right solve"},Vh=d("h1",null,"工坊求解模拟器",-1),xh={key:0},Lh={key:1,class:"set-workers mji-info-box"},Uh={key:0,class:"worker-value"},Wh=d("icon",{class:"blue-coin"},null,-1),Hh=d("icon",{class:"blue-coin"},null,-1),Kh={key:0},zh=d("icon",{class:"blue-coin"},null,-1),qh=["onClick"],Gh={class:"set-worker-num"},Qh=["max","value","onInput"],Jh=d("span",{class:"cross"},"×",-1),Yh=["onClick"],Xh={class:"batches-left hide-xs"},Zh={class:"bench-value"},em=d("icon",{class:"blue-coin"},null,-1),tm={class:"bench-cost mji-text-small"},sm={class:"batches-right"},nm={class:"batch-worker-num"},um=d("span",{class:"cross"},"×",-1);function om(e,t,s,n,u,o){const r=Y("date-bar"),i=Y("MjiBox"),l=Y("batch-view");return E(),y("div",bh,[d("div",yh,[d("form",wh,[Ah,d("div",Dh,[Bh,d("div",null,[re(d("input",{id:"tension","onUpdate:modelValue":t[0]||(t[0]=a=>e.tension=a),type:"number",min:"0",max:"35",placeholder:""},null,512),[[Oe,e.tension]]),re(d("input",{id:"maxTime","onUpdate:modelValue":t[1]||(t[1]=a=>e.maxTime=a),type:"number",min:"4",max:"24",placeholder:""},null,512),[[Oe,e.maxTime]]),re(d("input",{id:"currentWorker","onUpdate:modelValue":t[2]||(t[2]=a=>e.currentWorker=a),type:"number",min:"1",max:e.maxWorker,placeholder:""},null,8,$h),[[Oe,e.currentWorker]])])])]),d("div",Ph,[kh,H(r,{modelValue:e.date,"onUpdate:modelValue":t[3]||(t[3]=a=>e.date=a)},null,8,["modelValue"])]),d("div",Sh,[jh,(E(!0),y(G,null,de(e.objects,(a,c)=>(E(),y("div",{key:c,class:"object-item pure-form pure-g"},[d("span",{class:"item-name pure-u-9-24",onMouseenter:p=>e.onMouseIn(a.Id,p),onMouseleave:p=>e.onMouseOut(a.Id)},O(e.trimName(a.Name)),41,Oh),d("span",Ih,[d("icon",{class:me(["mji",e.popularity(a.Id)])},null,2)]),H(i,{class:me(["item-demand-box pure-u-6-24",{"pure-u-6-24":e.customDemand,"pure-u-10-24":!e.customDemand}]),count:e.getDemandBox(e.demands[a.Id]),onClick:p=>e.changeDemandBox(a.Id)},null,8,["class","count","onClick"]),e.customDemand?re((E(),y("input",{key:0,"onUpdate:modelValue":p=>e.demands[a.Id]=p,class:"item-demand pure-u-4-24",type:"number",placeholder:"需求"},null,8,Rh)),[[Oe,e.demands[a.Id],void 0,{number:!0}]]):J("",!0),d("span",Mh,[re(d("input",{"onUpdate:modelValue":p=>e.banList[a.Id]=p,type:"checkbox"},null,8,Th),[[pt,e.banList[a.Id]]])])]))),128))])]),d("div",Nh,[Vh,e.batches.length==0?(E(),y("p",xh," 首次使用？请先查看帮助页面了解详细使用说明。 ")):J("",!0),e.setValues.length>0?(E(),y("div",Lh,[d("div",null,[e.setValues.length>0?(E(),y("span",Uh,[I(" 总收益： "),Wh,I(O(e.sumVal)+" ( ",1),Hh,I(O(-e.sumCost)+") ",1),e.solver.config.showNetValue?(E(),y("span",Kh,[I(" = "),zh,I(O(e.netVal),1)])):J("",!0)])):J("",!0)]),(E(!0),y(G,null,de(e.setValues,(a,c)=>(E(),y("div",{key:c+1e3,class:"set-worker"},[H(l,{solver:e.solver,batch:a},{default:le(()=>[d("button",{class:"sched sched-red add-item",onClick:p=>e.removeSet(c)}," - ",8,qh),d("div",Gh,[d("input",{type:"number",min:"0",max:e.maxWorker,value:e.setSteps[c].worker,onInput:p=>e.setWorkerNum(c,p)},null,40,Qh),Jh])]),_:2},1032,["solver","batch"])]))),128))])):J("",!0),d("button",{class:"pure-button",onClick:t[4]||(t[4]=(...a)=>e.solve&&e.solve(...a))}," 解最优 "),d("div",null,[(E(!0),y(G,null,de(e.batches,(a,c)=>(E(),y("div",{key:c,class:"mji-info-box batches-item",onClick:p=>e.add(c)},[d("div",Xh,[d("span",Zh,[em,I(O(a.value),1)]),d("span",tm," (-"+O(a.cost)+") ",1)]),d("div",sm,[(E(!0),y(G,null,de(a.batches,(p,m)=>(E(),Ee(l,{key:c*1e3+m,solver:e.solver,batch:p,"delta-val":p.workerVal},{default:le(()=>[d("div",nm,[I(O(p.workers),1),um])]),_:2},1032,["solver","batch","delta-val"]))),128))])],8,Yh))),128))])])])}const rm=pe(ds,[["render",om]]);var im=Object.defineProperty,lm=Object.getOwnPropertyDescriptor,zi=(e,t,s,n)=>{for(var u=n>1?void 0:n?lm(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&im(t,s,u),u};let Sn=class extends he{constructor(){super(...arguments);v(this,"solver")}get year(){return new Date().getFullYear()}get demoStep(){return Zi[13]}get build(){return new Date(1708782380778).toLocaleString()}};zi([T()],Sn.prototype,"solver",2);Sn=zi([fe({components:{StepsComp:Qn,Step:Hi,Close:Cs}})],Sn);const vt=e=>(Qr("data-v-76d50d7a"),e=e(),Jr(),e),am={class:"about"},cm=sn('<h1 data-v-76d50d7a>快速开始</h1><p data-v-76d50d7a>欢迎使用无人岛工房求解器。</p><p data-v-76d50d7a> 使用本工具需要了解如何得到物品的“欢迎度”、“需求值”、“需求趋势”参数，并了解这些参数对最终收益的影响。 </p><p data-v-76d50d7a> 若您对上述概念尚有疑问，请先阅读<a href="https://nga.178.com/read.php?tid=33443333" target="_blank" data-v-76d50d7a>蜡笔筒的《浅析无人岛工坊售价影响因素与冲分路线安排》</a>，了解具体的求解原理。 </p><h2 data-v-76d50d7a>配置基础参数</h2><p data-v-76d50d7a>求解器默认配置为国服，且开拓等级和工坊为满级。若您的无人岛状态与此配置不一致，请访问设置页面修改为正确的值。</p><p data-v-76d50d7a>开拓等级设置错误会导致推荐无法制作的配方，工坊等级设置错误会影响计算收益。</p><h2 data-v-76d50d7a>设置本周趋势</h2><p data-v-76d50d7a>在正式求解前，需要在需求与趋势页面设定欢迎度模式和各个物品的需求趋势。求解器需要知道正确的物品需求趋势，才能计算物品在指定日期的真实需求值。</p><p data-v-76d50d7a>物品需求趋势可以从他人手中<del data-v-76d50d7a>白嫖</del>获取，也可以根据上面的教程手动分析。</p><p data-v-76d50d7a>使用下文提到的ACT插件可以方便地从游戏中抓取当天的欢迎度和需求状态。配合本工具的需求趋势预测功能，可以快速计算得到物品的需求趋势。</p><h2 data-v-76d50d7a>求解排班</h2><p data-v-76d50d7a>访问排班表页面，点击“新建排班表”开始排班。点击日期旁的加号按钮，求解器会自动推荐当日最优方案。</p><p data-v-76d50d7a>注意，当日最优方案不一定代表是全局最优方案。你需要根据物品的状态，自行选择合适的方案。</p><p data-v-76d50d7a>排班表会自动根据之前生产的物品和当前日期计算需求值。若需要使用指定需求值求解，你可以前往求解器页面手动求解。</p><p data-v-76d50d7a>如果当周的需求趋势已设置完毕，可以点击“手气不错”按钮自动排班。注意此排班方案并不一定是整周最优解，你可能需要手动对此排班表做微调。</p><h1 data-v-76d50d7a>详细说明</h1><h2 data-v-76d50d7a>设置页面</h2><p data-v-76d50d7a>可以设定无人岛的基础参数，或是调整求解器的选项。</p><h2 data-v-76d50d7a>需求与趋势</h2><p data-v-76d50d7a>分为需求趋势设定与趋势预测两个部分。在求解前务必正确设置本周的需求和趋势，否则会得出错误的结果。</p><h3 data-v-76d50d7a>需求趋势设定</h3><ul data-v-76d50d7a><li data-v-76d50d7a>欢迎度模式：本周的欢迎度类型，每一种类型对应着固定的各个物品的欢迎度。你可以手动遍历，或使用自动解析功能得到这一模式数据。</li><li data-v-76d50d7a>分享链接：将本页面的需求趋势设置分享给他人的链接。点击链接页面上的应用后，会覆盖本地的设置。</li><li data-v-76d50d7a><button class="sched sched-delete" data-v-76d50d7a></button>：重置当前设置。 </li><li data-v-76d50d7a><button class="sched sched-demand" data-v-76d50d7a></button>：打开需求变动与趋势预测页面。 </li><li data-v-76d50d7a>点击需求表的表头可以对下面的数据排序。</li><li data-v-76d50d7a>产品名：产品名称。</li><li data-v-76d50d7a> 欢迎度 <span data-v-76d50d7a><icon class="mji mji-popular-1" data-v-76d50d7a></icon><icon class="mji mji-popular-2" data-v-76d50d7a></icon><icon class="mji mji-popular-3" data-v-76d50d7a></icon><icon class="mji mji-popular-4" data-v-76d50d7a></icon></span> ：此产品本周的欢迎度。 </li><li data-v-76d50d7a>基础时薪: 根据此产品的欢迎度计算得到的基础时薪，基础时薪 = 产品价格 * 欢迎度系数 / 制作时间。</li><li data-v-76d50d7a> 需求趋势：此产品本周需求的走势。请参考上面的攻略详细了解需求趋势。 </li><li data-v-76d50d7a> 第x天：基于需求趋势预测的当前产品在第x天的需求。 <span data-v-76d50d7a><icon class="mji mji-box" data-v-76d50d7a></icon></span>[10] 表示当天为1箱，实际需求值为10。 </li></ul><h3 data-v-76d50d7a>需求变动与趋势预测</h3><p data-v-76d50d7a>趋势预测模块能够根据本周第1-4天的数据包估计本周的需求趋势。</p><p data-v-76d50d7a> 你需要在第1-4天的框内填入数据包数据，填入后会自动预测物品的变动趋势。 点击“覆盖趋势”按钮，可以将这一预测趋势应用到求解器的需求趋势设定中。 “覆盖趋势”会修改所有趋势，而“更新趋势”则不会修改已确定的趋势。 </p><p data-v-76d50d7a> 此模块在信息有限（如只有第一天的数据）的情况下可能无法得到较好的结果。 在这些情况下，模块可能会预测错误，请务必在使用后检查需求趋势是否正确。 </p><p data-v-76d50d7a> 你可以使用ACT插件搭配悬浮窗自动填入每日参数数据（参见后面章节），也可以使用FFXIVMon等抓包软件自行抓包得到数据。 </p><h2 data-v-76d50d7a>排班表</h2><p data-v-76d50d7a>排班表用于计算并规划本周的排班。</p>',30),dm=sn('<li data-v-76d50d7a>新建排班表：新建一个空白排班表</li><li data-v-76d50d7a>手气不错：让求解器自动推荐本周的排班表。注意自动推荐的方案很可能不是最优的，请自行调整优化。在工坊配方类型数量大于1时，其计算时间会显著变长，请耐心等待。</li><li data-v-76d50d7a>收益：本周预计总收益</li><li data-v-76d50d7a>分享链接：将本排班表分享给他人的链接。注意排班表分享链接不带有需求趋势设定，若要使他人复现结果，请在分享时一并分享趋势设定。</li><li data-v-76d50d7a>导入：将他人分享的排班表导入本地。</li><li data-v-76d50d7a> 第x天， <icon class="blue-coin" data-v-76d50d7a></icon>1234: 表示当前排班方案的日期与单间工坊的预计收益。 </li><li data-v-76d50d7a><button class="sched sched-add" data-v-76d50d7a></button>: 为当前日期添加排班方案。点击后会弹出推荐队列选择。 </li><li data-v-76d50d7a>删除：位于第x天下方，可以删除当前日期的排班方案。</li><li data-v-76d50d7a>3×：此方案的工坊数量</li>',9),pm=vt(()=>d("span",null,"表示每一步的产品、耗时和预测收入。",-1)),fm=vt(()=>d("h3",null,"编辑工坊队列",-1)),hm=vt(()=>d("p",null,"在编辑工坊队列中，可以根据需求与趋势表自动生成推荐方案。",-1)),mm=sn('<li data-v-76d50d7a> 点击对应队列可将此队列添加至当日的排班方案中。 </li><li data-v-76d50d7a><input type="checkbox" data-v-76d50d7a>启用多队列求解器：启用后，如果当前没有设置任何排班方案，则会尝试使用多种队列的组合尝试。 </li><li data-v-76d50d7a> 应用：保存当前编辑的队列到排班表。 </li><li data-v-76d50d7a> 已设置队列 <icon class="blue-coin" data-v-76d50d7a></icon>1234 (<icon class="blue-coin" data-v-76d50d7a></icon>-123)：当前已设置的方案计算得到的总收益和成本。 </li><li data-v-76d50d7a> 收益：<icon class="blue-coin" data-v-76d50d7a></icon>1234: 根据当日排班方案计算得出的当日每间工坊的收益。 </li><li data-v-76d50d7a> (-123, +45): <ul data-v-76d50d7a><li data-v-76d50d7a>-123: 当前排班方案材料成本（即单独卖出材料的收益）</li><li data-v-76d50d7a>+45: 应用当前方案后，已设置的方案收益的变动情况</li></ul></li><li data-v-76d50d7a>总收益：此方案的总收益</li>',7),gm=vt(()=>d("li",null,[d("icon",{class:"mji mji-popular-2"}),I(": 物品的欢迎度。 ")],-1)),vm=vt(()=>d("li",null,[d("icon",{class:"mji mji-box"}),I(": 物品结算时的需求。 ")],-1)),_m=vt(()=>d("li",null,"2强: 物品的需求趋势。",-1)),Em=sn('<h2 data-v-76d50d7a>求解器</h2><p data-v-76d50d7a>求解器用于在知道物品需求、欢迎度和当前干劲的情况下手动求解。</p><ul data-v-76d50d7a><li data-v-76d50d7a>当前干劲：当前的干劲，影响当日工坊收益，若没有正确设置将会导致当日收益计算出现误差。</li><li data-v-76d50d7a>工序时间：限制工序时长，用于在当日做不满24小时情况下求解队列。</li><li data-v-76d50d7a>日期：设置需要求解的日期，系统会根据需求趋势表自动设定需求值。若设置为&quot;-&quot;，则为自定义求解模式，此时可以手动调整需求。</li><li data-v-76d50d7a>需求：仅在自定义求解模式下可用。左边的图标代表箱数，点击可以快速切换；右边为实际的需求值。</li><li data-v-76d50d7a>禁用：禁用该物品，禁用后该物品不参与推荐计算。</li></ul><p data-v-76d50d7a>在正确设定以上参数后，点击“解最优”按钮，即可计算当日排班方案最佳收益，方案按收益从高到低排序。</p><h2 data-v-76d50d7a>ACT插件与悬浮窗</h2><p data-v-76d50d7a>ACT插件搭配悬浮窗可以自动填入每日的参数数据。</p><ol data-v-76d50d7a><li data-v-76d50d7a> 访问<a href="https://github.com/ffxiv-cyou/island-craftwork-act-plugin/releases/latest/" target="_blank" data-v-76d50d7a>Github</a>下载ACT插件； </li><li data-v-76d50d7a>使用ACT载入插件，然后重新加载悬浮窗（OverlayPlugin或NGLD）插件；</li><li data-v-76d50d7a>在悬浮窗插件设置中，点击左下角的新建按钮，预设选择无人岛工坊助手，点击确定按钮添加悬浮窗；</li><li data-v-76d50d7a>进入无人岛，在工坊页面点击调查需求。然后点击悬浮窗的“解析”字样即可打开解析页面。</li></ol><h1 data-v-76d50d7a>关于</h1>',8),Fm=vt(()=>d("a",{href:"https://ffxiv.cyou",target:"_blank"},"狒狒西柚",-1)),Cm=vt(()=>d("a",{href:"https://github.com/ffxiv-cyou/ffxiv-island-sanctuary-craftwork",target:"_blank"},"Github",-1)),bm=vt(()=>d("a",{href:"https://nga.178.com/read.php?tid=34882091",target:"_blank"},"问题反馈",-1));function ym(e,t,s,n,u,o){const r=Y("step"),i=Y("close");return E(),y("div",am,[cm,d("ul",null,[dm,d("li",null,[H(r,{value:52,step:e.demoStep},null,8,["step"]),I(": "),pm])]),fm,hm,d("ul",null,[mm,d("li",null,[H(r,{value:52,step:e.demoStep,pop:2,demand:10,pattern:1,removeable:!0},null,8,["step"]),d("ul",null,[gm,vm,_m,d("li",null,[H(i),I(": 禁用该物品，禁用后该物品不参与推荐计算。 ")])])])]),Em,d("p",null,"构建时间："+O(e.build)+" | 数据版本：国服 6.4 / 国际服 6.5",1),d("p",null,[I(" © 2022-"+O(e.year)+" ",1),Fm,I(" | "),Cm,I(" | "),bm,I(" | ALL FINAL FANTASY XIV CONTENT IS PROPERTY OF SQUARE ENIX CO., LTD ")])])}const wm=pe(Sn,[["render",ym],["__scopeId","data-v-76d50d7a"]]);var Am=Object.defineProperty,Dm=Object.getOwnPropertyDescriptor,Ge=(e,t,s,n)=>{for(var u=n>1?void 0:n?Dm(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&Am(t,s,u),u};let Me=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"popPattern");v(this,"demandPats");v(this,"demandPatsRaw");v(this,"demands");v(this,"demandsRaw");v(this,"lastDemands");v(this,"changes");v(this,"demandPatName")}get objects(){return this.solver.Recipes.filter(s=>s.Name)}get patternName(){return this.demandPatName??"趋势"}get patternNames(){return At}get rawMode(){return this.demandsRaw!==void 0}get hasLasDemand(){return this.lastDemands!==void 0&&this.lastDemands.length>0}rawDemand(s,n){if(this.demandsRaw){var u=this.demandsRaw[s-1];return!u||u.length==0?2:u[n]??2}return 9}lastDemandRaw(s){return this.lastDemands?this.lastDemands[s]??-128:-128}lastDemandText(s){const n=this.lastDemandRaw(s);return n===-128?"?":n}lastDemand(s){const n=this.lastDemandRaw(s);return n===-128?-1:Ut.GetDemand(n)}demand(s,n){if(this.rawMode)return Ut.GetDemand(this.rawDemand(s,n));if(this.demands){var u=this.demands[s-1];return!u||u.length==0?2:u[n]??2}return 2}change(s,n){if(this.changes){var u=this.changes[s-1];return!u||u.length==0?2:u[n]??2}return 2}pattern(s){var n=this.demandPats[s]??0;let u=this.patternMask(s);if(u!==void 0){for(var o=0;o<12;o++)if(u&1<<o){n=o+1;break}}return At[n]}patternUnionName(s){let n=this.patternMask(s),u=this.bitCount(n);if(u===0||u>5)return At[0];let o="";for(let r=0;r<6;r++){let i=(n&1<<r*2)>0,l=(n&1<<r*2+1)>0;i&&l?o+=(r+2).toString()+"/":i?o+=At[1+r*2]+"/":l&&(o+=At[1+r*2+1]+"/")}return o.endsWith("/")&&(o=o.substring(0,o.length-1)),o}patternMask(s){return this.demandPatsRaw===void 0?0:this.demandPatsRaw[s]}uniquePattern(s){if(this.demandPatsRaw===void 0)return!0;let n=this.demandPatsRaw[s];return this.bitCount(n)<=1}bitCount(s){return s=s-(s>>1&1431655765),s=(s&858993459)+(s>>2&858993459),(s+(s>>4)&252645135)*16843009>>24}onDemandsPatsRawChange(){if(this.demandPatsRaw)for(var s=0;s<this.demandPatsRaw.length;s++){let u=this.demandPatsRaw[s];if(this.bitCount(u)!=1){this.demandPats[s]=0;continue}for(var n=0;n<12;n++)if(u&1<<n){this.demandPats[s]=n+1;break}}}changeClass(s,n){switch(this.change(s,n)){case 0:return"mji-change-2-up";case 1:return"mji-change-1-up";case 2:return"mji-change-0";case 3:return"mji-change-1-down";case 4:return"mji-change-2-down";default:return"mji-change-0"}}iconPath(s){return"item-"+s}popularityClass(s){return this.popPattern>=this.solver.Popularity.length||this.popPattern===0?"mji-popular-3":"mji-popular-"+this.solver.Popularity[this.popPattern][s].toString()}trimName(s){return nt.TrimName(s)}};Ge([T()],Me.prototype,"solver",2);Ge([T()],Me.prototype,"popPattern",2);Ge([T()],Me.prototype,"demandPats",2);Ge([T()],Me.prototype,"demandPatsRaw",2);Ge([T()],Me.prototype,"demands",2);Ge([T()],Me.prototype,"demandsRaw",2);Ge([T()],Me.prototype,"lastDemands",2);Ge([T()],Me.prototype,"changes",2);Ge([T()],Me.prototype,"demandPatName",2);Ge([be("demandPatsRaw")],Me.prototype,"onDemandsPatsRawChange",1);Me=Ge([fe({components:{MjiBox:Gn}})],Me);const Bm={class:"demands mji-wooden-plate"},$m={class:"demand-header mji-text-small mji-text-orange mji-title"},Pm=d("span",{class:"demand-name"},"产品名",-1),km=d("span",{class:"demand-pop"},"欢迎度",-1),Sm={key:0,class:"demand-change"},jm={class:"demand-pat"},Om={class:"demand-items"},Im={class:"demand-name"},Rm={class:"demand-pop"},Mm={key:0,class:"demand-change"},Tm={class:"change"},Nm={class:"demand-raw mji-text-small"},Vm={class:"change"},xm={key:1,class:"demand-raw mji-text-small"},Lm={class:"demand-pat"},Um={key:0},Wm={key:1,class:"select"},Hm=["onUpdate:modelValue"],Km={value:"0"},zm=["value"];function qm(e,t,s,n,u,o){const r=Y("MjiBox");return E(),y("div",Bm,[Wt(e.$slots,"header"),d("div",$m,[Pm,km,e.hasLasDemand?(E(),y("span",Sm,"第7天")):J("",!0),(E(),y(G,null,de(7,i=>d("span",{key:i,class:"demand-change"},"第"+O(i)+"天",1)),64)),d("span",jm,O(e.patternName),1)]),d("div",Om,[(E(!0),y(G,null,de(e.objects,(i,l)=>(E(),y("div",{key:l,class:"demand-item mji-text-brown"},[d("span",Im,[d("icon",{class:me(["item",e.iconPath(i.Icon)])},null,2),I(" "+O(e.trimName(i.Name)),1)]),d("span",Rm,[d("icon",{class:me(["mji",e.popularityClass(i.Id)])},null,2)]),e.hasLasDemand?(E(),y("span",Mm,[H(r,{class:"demand",count:e.lastDemand(i.Id)},null,8,["count"]),d("span",Tm,[d("span",Nm,"["+O(e.lastDemandText(i.Id))+"]",1)])])):J("",!0),(E(),y(G,null,de(7,a=>d("span",{key:a,class:"demand-change"},[H(r,{class:"demand",count:e.demand(a,i.Id)},null,8,["count"]),d("span",Vm,[e.rawMode?(E(),y("span",xm,"["+O(e.rawDemand(a,i.Id))+"]",1)):(E(),y("icon",{key:0,class:me(["mji",e.changeClass(a,i.Id)])},null,2))])])),64)),d("span",Lm,[e.uniquePattern(i.Id)?(E(),y("span",Um,O(e.pattern(i.Id)),1)):(E(),y("div",Wm,[re(d("select",{"onUpdate:modelValue":a=>e.demandPats[i.Id]=a,class:"mji-text-brown"},[d("option",Km,O(e.patternUnionName(i.Id)),1),(E(!0),y(G,null,de(e.patternNames,(a,c)=>(E(),y(G,null,[c!=0&&(e.patternMask(i.Id)&1<<c-1)>0?(E(),y("option",{key:c,value:c},O(a),9,zm)):J("",!0)],64))),256))],8,Hm),[[vi,e.demandPats[i.Id]]])]))])]))),128))]),Wt(e.$slots,"footer")])}const qi=pe(Me,[["render",qm]]);var Gm=Object.defineProperty,Qm=Object.getOwnPropertyDescriptor,bs=(e,t,s,n)=>{for(var u=n>1?void 0:n?Qm(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&Gm(t,s,u),u};let kt=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"inputData");v(this,"datapacks",["","","","","","",""]);v(this,"data",[]);v(this,"patterns",[]);v(this,"patternMasks",[]);v(this,"demands",[]);v(this,"changes",[]);v(this,"lastWeekPat","");v(this,"lastDemands",[])}get config(){return this.solver.config}get firstValidData(){for(let s=0;s<this.data.length;s++)if(this.data[s].length>0)return this.data[s];return new Uint8Array(0)}get popPattern(){var s=this.firstValidData;return!s||s.length<2?0:s[0]+1}get popPatternNext(){var s=this.firstValidData;return!s||s.length<2?0:s[1]+1}fromInputData(){if(!this.inputData)return;let s=new Date,n=s.getUTCDay(),u=s.getUTCHours();n=n+7-2,u<8&&n--,n%=7;let o=!1;this.datapacks[n]=this.inputData;for(let r=n+1;r<this.datapacks.length;r++)this.datapacks[r]&&(o=!0),this.datapacks[r]="";o&&(this.lastWeekPat=this.solver.shareLink)}async onLastWeekPatChange(){let n=/(.*#\/pat\/)?([0-9A-Za-z-_]+)/.exec(this.lastWeekPat);if(n&&n.length>0){let u=to(n[2]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12],r=await this.solver.demandsFromPredict(o,6);r[0]=-128;let i=[];for(let l=1;l<u.length;l++)i.push(r[u[l]&15]),i.push(r[(u[l]&240)>>4]);this.lastDemands=i}else this.lastDemands=[];this.onDatapackChange()}onDatapackChange(){this.reload(),this.saveData()}reload(){this.data.length=0;for(let s=0;s<this.datapacks.length;s++)this.data.push(ro.Hex2U8Array(this.datapacks[s]));this.demands.length=0,this.changes.length=0;for(let s=0;s<this.data.length;s++){const n=this.data[s];let u=[],o=[];for(let r=2;r<n.length;r++)u.push(n[r]>>4&15),o.push(n[r]>>0&15);this.demands.push(u),this.changes.push(o)}this.predict()}async predict(){let s=[];for(let n=0;n<this.data.length&&this.data[n].length>0;n++)s.push(this.data[n]);if(s.length!=0){for(;this.lastDemands.length<s[0].length;)this.lastDemands.push(-128);this.patternMasks=await this.solver.predictFromPacketsAdv(s,new Uint8Array(this.lastDemands)),console.log(s,this.lastDemands,this.patternMasks)}}mounted(){this.loadData(),this.fromInputData(),this.reload()}loadData(){let s=localStorage.getItem("MJICraftworkPatPred");if(!s)return;var n=JSON.parse(s);for(let o=0;o<n.length;o++)this.datapacks[o]=n[o];let u=localStorage.getItem("MJILastWeekPat");u&&(this.lastWeekPat=u)}saveData(){let s=JSON.stringify(this.datapacks);localStorage.setItem("MJICraftworkPatPred",s),localStorage.setItem("MJILastWeekPat",this.lastWeekPat)}applyPredict(s){for(let n=0;n<this.config.demandPatterns.length&&n<this.patterns.length;n++)!s&&this.config.demandPatterns[n]!=0||(this.config.demandPatterns[n]=this.patterns[n]);this.solver.popPattern=this.popPattern,this.solver.updatePredictDemands(),this.config.save(),this.$emit("on-apply")}};bs([T()],kt.prototype,"solver",2);bs([T()],kt.prototype,"inputData",2);bs([be("inputData")],kt.prototype,"fromInputData",1);bs([be("lastWeekPat")],kt.prototype,"onLastWeekPatChange",1);bs([be("datapacks",{deep:!0})],kt.prototype,"onDatapackChange",1);kt=bs([fe({emits:["on-apply"],components:{DemandList:qi}})],kt);const Jm={class:"mji-text-brown mji-title"},Ym=d("span",null,"需求变动与趋势预测",-1),Xm={class:"demand-control"},Zm={class:"mji-text-small"},e0=d("span",{class:"mji-text-orange"},"欢迎度模式 ",-1),t0={class:"mji-text-brown"},s0=d("span",{class:"hide-xs"},"本周 ",-1),n0=d("span",{class:"hide-xs"},"下周 ",-1),u0={class:"demand-packet mji-text-small mji-title"},o0=d("span",{class:"demand-packet-title mji-text-orange"},"上周模式",-1),r0={class:"demand-packet mji-text-small mji-title"},i0=d("span",{class:"demand-packet-title mji-text-orange"},"抓包数据",-1),l0=["onUpdate:modelValue","placeholder","required"],a0={class:"demand-control mji-footer"};function c0(e,t,s,n,u,o){const r=Y("DemandList");return E(),Ee(r,{solver:e.solver,"pop-pattern":e.popPattern,"demand-pats":e.patterns,demands:e.demands,changes:e.changes,"demand-pat-name":"预测趋势","last-demands":e.lastDemands,"demand-pats-raw":e.patternMasks},{header:le(()=>[d("div",Jm,[Ym,d("span",Xm,[d("span",Zm,[e0,d("span",t0,[s0,I(O(e.popPattern)+" / ",1),n0,I(O(e.popPatternNext),1)])])])]),d("div",u0,[o0,re(d("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>e.lastWeekPat=i),class:"mji-text-brown",type:"text",placeholder:"上周的分享链接"},null,512),[[Oe,e.lastWeekPat]])]),d("div",r0,[i0,(E(),y(G,null,de(7,i=>re(d("input",{key:i,"onUpdate:modelValue":l=>e.datapacks[i-1]=l,type:"text",placeholder:"第"+i+"天",required:e.datapacks[i]!==void 0&&e.datapacks[i].length>0,pattern:"[0-9a-fA-F]+",class:"mji-text-brown"},null,8,l0),[[Oe,e.datapacks[i-1]]])),64))])]),footer:le(()=>[d("div",a0,[d("button",{class:"mji",onClick:t[1]||(t[1]=i=>e.applyPredict(!1))}," 更新趋势 "),d("button",{class:"mji",onClick:t[2]||(t[2]=i=>e.applyPredict(!0))}," 覆盖趋势 ")])]),_:1},8,["solver","pop-pattern","demand-pats","demands","changes","last-demands","demand-pats-raw"])}const d0=pe(kt,[["render",c0]]);var p0=Object.defineProperty,f0=Object.getOwnPropertyDescriptor,lo=(e,t,s,n)=>{for(var u=n>1?void 0:n?f0(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&p0(t,s,u),u};let Js=class extends he{constructor(){super(...arguments);v(this,"active");v(this,"activeUp")}click(s){this.$emit("click",s)}};lo([T()],Js.prototype,"active",2);lo([T()],Js.prototype,"activeUp",2);Js=lo([fe({emits:["click"]})],Js);const h0={class:"sort-label"},m0={class:"sort-btn"};function g0(e,t,s,n,u,o){return E(),y("span",h0,[Wt(e.$slots,"default"),d("div",m0,[d("button",{class:me({"is-active":e.active&&e.activeUp}),onClick:t[0]||(t[0]=r=>e.click(!0))},"▲",2),d("button",{class:me({"is-active":e.active&&!e.activeUp}),onClick:t[1]||(t[1]=r=>e.click(!1))},"▼",2)])])}const v0=pe(Js,[["render",g0]]);var _0=Object.defineProperty,E0=Object.getOwnPropertyDescriptor,Gi=(e,t,s,n)=>{for(var u=n>1?void 0:n?E0(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&_0(t,s,u),u};let jn=class extends he{constructor(){super(...arguments);v(this,"noClose")}close(){this.$emit("close")}};Gi([T()],jn.prototype,"noClose",2);jn=Gi([fe({components:{Close:Cs},emits:["close"]})],jn);const F0={class:"dialog"},C0={class:"dialog-content"};function b0(e,t,s,n,u,o){const r=Y("close");return E(),y("div",F0,[d("div",{class:"dialog-background",onClick:t[0]||(t[0]=(...i)=>e.close&&e.close(...i))}),e.noClose?J("",!0):(E(),Ee(r,{key:0,class:"dialog-close",onClose:e.close},null,8,["onClose"])),d("div",C0,[Wt(e.$slots,"default")])])}const ao=pe(jn,[["render",b0]]);var y0=Object.defineProperty,w0=Object.getOwnPropertyDescriptor,Yn=(e,t,s,n)=>{for(var u=n>1?void 0:n?w0(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&y0(t,s,u),u};let ps=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"shareCode");v(this,"patterns",[]);v(this,"popPattern",0);v(this,"demands",[])}get config(){return this.solver.config}async parseShareCode(){if(!this.shareCode)return;let s=to(this.shareCode);this.popPattern=s[0];for(let n=1;n<s.length;n++)this.patterns[(n-1)*2]=s[n]&15,this.patterns[(n-1)*2+1]=(s[n]&240)>>4;for(let n=0;n<7;n++){const u=await this.solver.demandsFromPredict(this.patterns,n);this.demands.length<=n?this.demands.push(u):this.demands[n]=u}}mounted(){this.parseShareCode()}applyShare(){for(let s=0;s<this.patterns.length;s++)this.config.demandPatterns[s]=this.patterns[s];this.solver.popPattern=this.popPattern,this.config.save(),this.solver.updatePredictDemands(),this.$emit("on-apply")}};Yn([T()],ps.prototype,"solver",2);Yn([T()],ps.prototype,"shareCode",2);Yn([be("shareCode")],ps.prototype,"parseShareCode",1);ps=Yn([fe({emits:["on-apply"],components:{DemandList:qi}})],ps);const A0={class:"mji-text-brown mji-title"},D0=d("span",null,"需求与趋势分享",-1),B0={class:"demand-control"},$0={class:"mji-text-small"},P0=d("span",{class:"mji-text-orange"},"欢迎度模式 ",-1),k0={class:"mji-text-brown"},S0={class:"demand-control mji-footer"},j0=d("span",{class:"mji-text-small mji-text-orange"}," 应用后会覆盖原有设置",-1);function O0(e,t,s,n,u,o){const r=Y("DemandList");return E(),Ee(r,{solver:e.solver,"pop-pattern":e.popPattern,"demand-pats":e.patterns,"demands-raw":e.demands},{header:le(()=>[d("div",A0,[D0,d("span",B0,[d("span",$0,[P0,d("span",k0,O(e.popPattern),1)])])])]),footer:le(()=>[d("div",S0,[j0,d("button",{class:"mji mji-text-brown",onClick:t[0]||(t[0]=(...i)=>e.applyShare&&e.applyShare(...i))}," 应用 ")])]),_:1},8,["solver","pop-pattern","demand-pats","demands-raw"])}const I0=pe(ps,[["render",O0]]);var R0=Object.defineProperty,M0=Object.getOwnPropertyDescriptor,Xn=(e,t,s,n)=>{for(var u=n>1?void 0:n?M0(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&R0(t,s,u),u};let fs=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"inputShareCode");v(this,"sortMethod",0);v(this,"sortDir",!0)}get config(){return this.solver.config}get patternNames(){return At}get demandPattern(){return this.config.demandPatterns}get popPattern(){return this.solver.popPattern}set popPattern(s){s<=0||(this.solver.popPattern=s)}get shareLink(){return document.location.protocol+"//"+document.location.host+"/#/pat/"+this.solver.shareLink}set shareLink(s){let u=/#\/pat\/(.+)/.exec(s);console.log(u),u&&u.length>0&&this.$router.push("/pat/"+u[1])}sort(s,n){this.sortMethod=s,this.sortDir=n}get objects(){return this.solver.Recipes.filter(s=>s.Name).sort((s,n)=>{let u=0;switch(this.sortMethod){case 1:u=s.Id-n.Id;break;case 2:u=this.solver.Popularity[this.popPattern][s.Id]-this.solver.Popularity[this.popPattern][n.Id],u=-u;break;case 3:u=this.getBasicPriceNum(s)-this.getBasicPriceNum(n);break;case 4:u=this.demandPattern[s.Id]-this.demandPattern[n.Id];break;case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:let o=this.sortMethod-4;u=this.getDemand(s.Id,o)-this.getDemand(n.Id,o);break;default:u=s.Id-n.Id;break}return this.sortDir?u:-u})}trimName(s){return nt.TrimName(s)}getBasicPriceNum(s){let n=this.solver.Popularity[this.popPattern][s.Id],u=1;switch(n){case 0:u=0;break;case 1:u=1.4;break;case 2:u=1.2;break;case 3:u=1;break;case 4:u=.8;break}return s.Price*u/s.Time}getBasicPriceStr(s){return this.getBasicPriceNum(s).toFixed(1)}get cachedDemands(){return this.solver.predictDemands}getDemand(s,n){return this.cachedDemands.length<n?9:this.cachedDemands[n-1][s]}getDemandIcons(s,n){return Ut.GetDemand(this.getDemand(s,n))}popularity(s){return this.popPattern>=this.solver.Popularity.length?"mji-popular-3":"mji-popular-"+this.solver.Popularity[this.popPattern][s].toString()}async onDemandChange(){this.config.save(),this.solver.updatePredictDemands()}onShareApply(){this.$router.push("/pred")}reset(){for(let s=0;s<this.config.demandPatterns.length;s++)this.config.demandPatterns[s]=0;this.solver.updatePredictDemands(),this.config.save()}mounted(){try{this.solver.init().then(async()=>{for(await this.solver.updatePredictDemands();this.config.demandPatterns.length<this.solver.data.Recipes.length;)this.config.demandPatterns.push(0)})}catch{}}onMouseIn(s,n){this.solver.event.onHoverEnter(s,n.clientX,n.clientY)}onMouseOut(s){this.solver.event.onHoverExit(s)}};Xn([T()],fs.prototype,"solver",2);Xn([T()],fs.prototype,"inputShareCode",2);Xn([be("config.demandPatterns",{deep:!0})],fs.prototype,"onDemandChange",1);fs=Xn([fe({emits:["view-predict"],components:{SortLabel:v0,Popup:ao,DemandShare:I0,MjiBox:Gn}})],fs);const T0={class:"control-form pure-form"},N0={class:"pure-g"},V0=d("label",{for:"pop-pattern"},"欢迎度模式",-1),x0=d("label",{for:"share-link"}," 分享链接 ",-1),L0={class:"recipes"},U0={class:"recipe-header"},W0=d("span",{class:"recipe-icon"},null,-1),H0={class:"recipe-name"},K0={class:"recipe-pop"},z0={class:"recipe-value"},q0={class:"recipe-pattern"},G0={class:"recipe-icon"},Q0=["onMouseenter","onMouseleave"],J0={class:"recipe-pop"},Y0={class:"recipe-value"},X0={class:"recipe-pattern pure-form"},Z0=["onUpdate:modelValue"],eg=["value"];function tg(e,t,s,n,u,o){const r=Y("DemandShare"),i=Y("popup"),l=Y("sort-label"),a=Y("MjiBox");return E(),y("div",null,[e.inputShareCode?(E(),Ee(i,{key:0,"no-close":!0},{default:le(()=>[H(r,{class:"demand-share",solver:e.solver,"share-code":e.inputShareCode,onOnApply:e.onShareApply},null,8,["solver","share-code","onOnApply"])]),_:1})):J("",!0),d("div",T0,[d("fieldset",N0,[V0,re(d("input",{id:"pop-pattern","onUpdate:modelValue":t[0]||(t[0]=c=>e.popPattern=c),type:"number",min:"1",max:"100"},null,512),[[Oe,e.popPattern,void 0,{number:!0}]]),x0,re(d("input",{id:"share-link","onUpdate:modelValue":t[1]||(t[1]=c=>e.shareLink=c),onclick:"this.select();",type:"text",placeholder:"用于分享的趋势代码"},null,512),[[Oe,e.shareLink]]),d("button",{class:"sched sched-delete",onClick:t[2]||(t[2]=(...c)=>e.reset&&e.reset(...c))}),d("button",{class:"sched sched-demand",onClick:t[3]||(t[3]=c=>e.$emit("view-predict"))})])]),d("div",L0,[d("div",U0,[W0,d("span",H0,[H(l,{active:e.sortMethod===1,"active-up":e.sortDir,onClick:t[4]||(t[4]=c=>e.sort(1,c))},{default:le(()=>[I("产品名")]),_:1},8,["active","active-up"])]),d("span",K0,[H(l,{active:e.sortMethod===2,"active-up":e.sortDir,onClick:t[5]||(t[5]=c=>e.sort(2,c))},{default:le(()=>[I("欢迎度")]),_:1},8,["active","active-up"])]),d("span",z0,[H(l,{active:e.sortMethod===3,"active-up":e.sortDir,onClick:t[6]||(t[6]=c=>e.sort(3,c))},{default:le(()=>[I("基础时薪")]),_:1},8,["active","active-up"])]),d("span",q0,[H(l,{active:e.sortMethod===4,"active-up":e.sortDir,onClick:t[7]||(t[7]=c=>e.sort(4,c))},{default:le(()=>[I("需求趋势")]),_:1},8,["active","active-up"])]),(E(),y(G,null,de(7,c=>d("span",{key:c,class:"recipe-demand hide-xs"},[H(l,{active:e.sortMethod===c+4,"active-up":e.sortDir,onClick:p=>e.sort(c+4,p)},{default:le(()=>[I("第"+O(c)+"天",1)]),_:2},1032,["active","active-up","onClick"])])),64))]),(E(!0),y(G,null,de(e.objects,(c,p)=>(E(),y("div",{key:p,class:"recipe-item"},[d("span",G0,[d("icon",{class:me(["item","item-"+c.Icon])},null,2)]),d("span",{class:"recipe-name",onMouseenter:m=>e.onMouseIn(c.Id,m),onMouseleave:m=>e.onMouseOut(c.Id)},O(e.trimName(c.Name)),41,Q0),d("span",J0,[d("icon",{class:me(["mji",e.popularity(c.Id)])},null,2)]),d("span",Y0,O(e.getBasicPriceStr(c)),1),d("span",X0,[re(d("select",{"onUpdate:modelValue":m=>e.demandPattern[c.Id]=m,class:""},[(E(!0),y(G,null,de(e.patternNames,(m,F)=>(E(),y("option",{key:F,value:F},O(m),9,eg))),128))],8,Z0),[[vi,e.demandPattern[c.Id]]])]),(E(),y(G,null,de(7,m=>d("span",{key:m,class:"recipe-demand hide-xs"},[H(a,{class:"demand",count:e.getDemandIcons(c.Id,m)},null,8,["count"]),d("span",null,"["+O(e.getDemand(c.Id,m))+"]",1)])),64))]))),128))])])}const sg=pe(fs,[["render",tg]]);var ng=Object.defineProperty,ug=Object.getOwnPropertyDescriptor,co=(e,t,s,n)=>{for(var u=n>1?void 0:n?ug(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&ng(t,s,u),u};let Ys=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"changeVisible",!1)}get shareCode(){return this.$route.params.share}get packetData(){return this.$route.params.data}onPacketDataChange(t){t&&(this.changeVisible=!0)}onApply(){this.changeVisible=!1}mounted(){this.onPacketDataChange(this.packetData)}};co([T()],Ys.prototype,"solver",2);co([be("packetData")],Ys.prototype,"onPacketDataChange",1);Ys=co([fe({components:{DemandChange:d0,Popup:ao,Pattern:sg}})],Ys);const og={class:"container"};function rg(e,t,s,n,u,o){const r=Y("Pattern"),i=Y("demand-change"),l=Y("popup");return E(),y("div",og,[H(r,{class:"container-right demand-pattern",solver:e.solver,"input-share-code":e.shareCode,onViewPredict:t[0]||(t[0]=a=>e.changeVisible=!0)},null,8,["solver","input-share-code"]),e.changeVisible?(E(),Ee(l,{key:0,onClose:t[1]||(t[1]=a=>e.changeVisible=!1)},{default:le(()=>[H(i,{solver:e.solver,"input-data":e.packetData,class:"demand-view",onOnApply:e.onApply},null,8,["solver","input-data","onOnApply"])]),_:1})):J("",!0)])}const cu=pe(Ys,[["render",rg]]);var ig=Object.defineProperty,lg=Object.getOwnPropertyDescriptor,Qi=(e,t,s,n)=>{for(var u=n>1?void 0:n?lg(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&ig(t,s,u),u};let On=class extends he{constructor(){super(...arguments);v(this,"solver")}get config(){return this.solver.config}get level(){return this.config.level}set level(t){this.config.level=t}get craft_level(){return this.config.craftLevel+1}set craft_level(t){this.config.craftLevel=t-1}get max_tension(){return this.config.maxTension}set max_tension(t){this.config.maxTension=t}get workers(){return this.config.workers}set workers(t){this.config.workers=t}get withCost(){return this.config.withCost}set withCost(t){this.config.withCost=t}get region(){return this.solver.region===0}set region(t){this.solver.region=t?du.Global:du.CN}get stepMonospace(){return this.config.styleStepWidth}set stepMonospace(t){this.config.styleStepWidth=t}get totalDemand(){return this.config.totalDemand}set totalDemand(t){this.config.totalDemand=t}get differentWorkers(){return this.config.differentWorkers}set differentWorkers(t){this.config.differentWorkers=t}};Qi([T()],On.prototype,"solver",2);On=Qi([fe({})],On);const ag={class:"setting-page"},cg=d("h1",null,"设置",-1),dg={class:"pure-form pure-form-aligned"},pg=d("legend",null,"基础设置",-1),fg={class:"pure-control-group"},hg={for:"region"},mg=d("span",{class:"pure-form-message-inline"},"勾选后使用国际服配方和名字。",-1),gg={class:"pure-control-group"},vg=d("label",{for:"differentWorkers"}," 工坊配方类型数量 ",-1),_g=["max"],Eg=d("span",{class:"pure-form-message-inline"},"设置排班表中每天能够配置多少种不同的配方",-1),Fg=d("legend",null,"工坊设置",-1),Cg={class:"pure-control-group"},bg=d("label",{for:"level"},"开拓等级",-1),yg=d("span",{class:"pure-form-message-inline"},"当前开拓等级（1-20），大于此等级的配方不会被求解。",-1),wg={class:"pure-control-group"},Ag=d("label",{for:"craft-level"},"工坊等级",-1),Dg=d("span",{class:"pure-form-message-inline"},"当前工坊等级（1-5），影响产品价格。",-1),Bg={class:"pure-control-group"},$g=d("label",{for:"max-tension"},"干劲上限",-1),Pg=d("span",{class:"pure-form-message-inline"},"工坊的干劲上限，影响产品价格。通常不需要修改。",-1),kg={class:"pure-control-group"},Sg=d("label",{for:"workers"},"工坊数量",-1),jg=d("span",{class:"pure-form-message-inline"},"同时工作的工坊数量，影响需求变动和干劲叠加的计算。",-1),Og=d("legend",null,"求解器/推荐队列",-1),Ig={class:"pure-control-group"},Rg={for:"with-cost"},Mg=d("span",{class:"pure-form-message-inline"},"求解时按净收益而不是工坊收益排序。净收益 = 工坊收益 - 将材料单独卖出的收益。",-1),Tg={class:"pure-control-group"},Ng={for:"total-demand"},Vg=d("span",{class:"pure-form-message-inline"},[I("使用整周的产量计算需求变动，而不是使用当天之前的产量计算。"),d("br"),I("启用后会导致排班表和推荐队列中的显示的需求与收益不一致。"),d("br"),I("此功能在不按日期顺序选择推荐方案的情况下可能得到更优的方案。")],-1),xg=d("legend",null,"样式设置",-1),Lg={class:"pure-control-group"},Ug={for:"step-monospace"},Wg=d("span",{class:"pure-form-message-inline"},"将排班表和求解器中步骤的宽度将设置为固定值，不再根据每一步的耗时设定宽度。",-1),Hg={class:"pure-control-group"},Kg={for:"show-net-value"},zg=d("span",{class:"pure-form-message-inline"},"在排班表中显示去除原料成本的净收益。",-1),qg={class:"pure-control-group"},Gg={for:"hide-ingredients"},Qg=d("span",{class:"pure-form-message-inline"},"在排班表中不显示当前排班表原材料的使用量。",-1),Jg={class:"pure-control-group"},Yg={for:"show-item-popup"},Xg=d("span",{class:"pure-form-message-inline"},"指向排班表或求解器上的指定配方时，显示配方的详细信息。",-1);function Zg(e,t,s,n,u,o){return E(),y("div",ag,[cg,d("div",dg,[d("fieldset",null,[pg,d("div",fg,[d("label",hg,[re(d("input",{id:"region","onUpdate:modelValue":t[0]||(t[0]=r=>e.region=r),type:"checkbox"},null,512),[[pt,e.region]]),I(" 国际服 ")]),mg]),d("div",gg,[vg,re(d("input",{id:"differentWorkers","onUpdate:modelValue":t[1]||(t[1]=r=>e.differentWorkers=r),type:"number",min:"1",max:e.workers},null,8,_g),[[Oe,e.differentWorkers]]),Eg])]),d("fieldset",null,[Fg,d("div",Cg,[bg,re(d("input",{id:"level","onUpdate:modelValue":t[2]||(t[2]=r=>e.level=r),type:"number",min:"1",max:"20",placeholder:"1-20"},null,512),[[Oe,e.level]]),yg]),d("div",wg,[Ag,re(d("input",{id:"craft-level","onUpdate:modelValue":t[3]||(t[3]=r=>e.craft_level=r),type:"number",min:"1",max:"5",placeholder:"1-5"},null,512),[[Oe,e.craft_level]]),Dg]),d("div",Bg,[$g,re(d("input",{id:"max-tension","onUpdate:modelValue":t[4]||(t[4]=r=>e.max_tension=r),type:"number",min:"0",max:"45",placeholder:"0-45"},null,512),[[Oe,e.max_tension]]),Pg]),d("div",kg,[Sg,re(d("input",{id:"workers","onUpdate:modelValue":t[5]||(t[5]=r=>e.workers=r),type:"number",min:"1",max:"4",placeholder:"1-4"},null,512),[[Oe,e.workers]]),jg])]),d("fieldset",null,[Og,d("div",Ig,[d("label",Rg,[re(d("input",{id:"with-cost","onUpdate:modelValue":t[6]||(t[6]=r=>e.withCost=r),type:"checkbox"},null,512),[[pt,e.withCost]]),I(" 按净收益排序 ")]),Mg]),d("div",Tg,[d("label",Ng,[re(d("input",{id:"total-demand","onUpdate:modelValue":t[7]||(t[7]=r=>e.totalDemand=r),type:"checkbox"},null,512),[[pt,e.totalDemand]]),I(" 按全表计算需求 ")]),Vg])]),d("fieldset",null,[xg,d("div",Lg,[d("label",Ug,[re(d("input",{id:"step-monospace","onUpdate:modelValue":t[8]||(t[8]=r=>e.stepMonospace=r),type:"checkbox"},null,512),[[pt,e.stepMonospace]]),I(" 步骤等宽 ")]),Wg]),d("div",Hg,[d("label",Kg,[re(d("input",{id:"show-net-value","onUpdate:modelValue":t[9]||(t[9]=r=>e.config.showNetValue=r),type:"checkbox"},null,512),[[pt,e.config.showNetValue]]),I(" 显示净收益 ")]),zg]),d("div",qg,[d("label",Gg,[re(d("input",{id:"hide-ingredients","onUpdate:modelValue":t[10]||(t[10]=r=>e.config.hideIngredients=r),type:"checkbox"},null,512),[[pt,e.config.hideIngredients]]),I(" 隐藏原料用量 ")]),Qg]),d("div",Jg,[d("label",Yg,[re(d("input",{id:"show-item-popup","onUpdate:modelValue":t[11]||(t[11]=r=>e.config.showItemPopup=r),type:"checkbox"},null,512),[[pt,e.config.showItemPopup]]),I(" 显示详细信息弹窗 ")]),Xg])])])])}const e6=pe(On,[["render",Zg]]);var t6=Object.defineProperty,s6=Object.getOwnPropertyDescriptor,Zn=(e,t,s,n)=>{for(var u=n>1?void 0:n?s6(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&t6(t,s,u),u};let hs=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"banList",[]);v(this,"batches",[]);v(this,"isLoading",!0);v(this,"stepDemands",[]);v(this,"stepPops",[]);v(this,"cachedDemands");v(this,"cachedtension");v(this,"setSteps",[]);v(this,"setValues",[]);v(this,"enableMultiSolver",!1);v(this,"maxWorkerPerQueue",3)}get hasSetWorker(){return this.setSteps.length>0}get maxWorker(){return this.solver.config.workers}get isFull(){return this.remainWorker<=0}get sumVal(){let s=0;for(let n=0;n<this.setValues.length;n++)s+=this.setValues[n].value*this.setSteps[n].worker;return s}get sumCost(){let s=0;for(let n=0;n<this.setValues.length;n++)s+=this.setValues[n].cost*this.setSteps[n].worker;return s}get netVal(){return this.sumVal-this.sumCost}addBan(s,n,u){let o=this.batches[s].batches[n].steps[u];this.banList.indexOf(o)>=0||this.banList.push(o)}removeBan(s){this.banList.splice(s,1)}calcPops(s){let n=[];for(let u=0;u<s.length;u++){const o=s[u];n[u]=this.solver.Popularity[this.solver.popPattern][o]}return n}get patterns(){return this.solver.config.demandPatterns}get remainWorker(){let s=0;for(let n=0;n<this.setSteps.length;n++)s+=this.setSteps[n].worker;return this.maxWorker-s}setWorkerNum(s,n){let u=Number(n.target.value),o=[];for(let r=0;r<this.setSteps.length;r++)o.push(this.setSteps[r].worker);ro.ChangeArrayVal(o,s,u,this.maxWorker);for(let r=0;r<this.setSteps.length;r++)this.setSteps[r].worker=o[r];this.solve()}removeSet(s){this.setSteps.splice(s,1),this.setValues.splice(s,1),this.solve()}async switchMode(){this.setSteps.length===0&&await this.solve()}async solve(){if(this.cachedDemands===void 0||this.cachedtension===void 0||this.setSteps===void 0||(this.setValues=await this.solver.simulateMulti(this.setSteps,this.cachedDemands,this.cachedtension),this.isFull))return;this.isLoading=!0,this.stepDemands=[],this.stepPops=[],this.batches=[];let s=this.remainWorker<1?1:this.remainWorker,n=[];this.setSteps.length===0&&this.enableMultiSolver?n=await this.solver.solveDayDual(this.cachedDemands,this.banList,this.cachedtension,s):(s>this.maxWorkerPerQueue&&(s=this.maxWorkerPerQueue),n=await this.solver.solveMultiDay(this.cachedDemands,this.setSteps,this.banList,this.cachedtension,s)),n.forEach(u=>u.batches.forEach(o=>{o.workerVal!=0&&(o.workerVal-=this.sumVal)})),this.isLoading=!1,this.batches=n.slice(0,100);for(let u=0;u<this.batches.length;u++){this.stepDemands.push([]),this.stepPops.push([]);let o=this.batches[u].batches;for(let r=0;r<o.length;r++){let i=o[r].steps,l=[],a=[];for(let p=0;p<o.length;p++)p!=r&&(l.push(o[p].steps),a.push(o[p].workers));for(let p=0;p<this.setSteps.length;p++)l.push(this.setSteps[p].steps),a.push(this.setSteps[p].worker);this.stepDemands[u].push([]),this.stepPops[u].push([]);let c=0;for(let p=0;p<i.length;p++){let m=i[p];c+=this.solver.data.GetRecipe(m).Time;let F=this.cachedDemands[m];for(let P=0;P<p;P++)i[P]==m&&(F-=(P===0?1:2)*o[r].workers);for(let P=0;P<l.length;P++){let R=0,K=l[P];for(let j=0;j<K.length;j++){let L=K[j];if(R+=this.solver.data.GetRecipe(L).Time,R>=c)break;L==m&&(F-=(j===0?1:2)*a[P])}}this.stepDemands[u][r].push(F),this.stepPops[u][r].push(this.solver.Popularity[this.solver.popPattern][m])}}}}solveBatch(s,n,u){this.cachedDemands=s,this.cachedtension=u,this.setSteps=[],n.forEach(o=>{this.setSteps.push(o.clone())}),this.isLoading=!1,this.setValues=[],this.banList=[],this.solve()}add(s){this.batches[s].batches.forEach(u=>{this.setSteps.push(new Ve(u.workers,u.steps)),this.setValues.push(u)}),this.solve()}apply(){this.$emit("apply",this.setSteps)}iconPath(s){return"item-"+this.solver.data.GetRecipe(s).Icon}itemName(s){return nt.TrimName(this.solver.data.GetRecipe(s).Name)}};Zn([T()],hs.prototype,"solver",2);Zn([be("enableMultiSolver")],hs.prototype,"switchMode",1);Zn([be("banList",{deep:!0}),be("maxWorkerPerQueue")],hs.prototype,"solve",1);hs=Zn([fe({components:{StepsComp:Qn,BatchView:Ki,Close:Cs,Loading:so},emits:["apply"]})],hs);const n6={class:"solver-view mji-wooden-plate"},u6={class:"mji-title mji-text-brown"},o6={class:"solver-control"},r6={class:"max-worker"},i6=d("label",{class:"mji-text-small",for:"maximum-worker"},"队列最大工坊数",-1),l6=["max"],a6={class:"multi-worker"},c6=d("label",{class:"mji-text-small",for:"enable-multi-worker"},"启用多队列求解器（实验性）",-1),d6={class:"mji-title mji-text-orange mji-text-small"},p6={key:0,class:"worker-value mji-text-brown"},f6=d("icon",{class:"blue-coin"},null,-1),h6=d("icon",{class:"blue-coin"},null,-1),m6={key:0},g6=d("icon",{class:"blue-coin"},null,-1),v6={class:"set-workers mji-info-box"},_6=["onClick"],E6={class:"set-worker-num"},F6=["max","value","onInput"],C6=d("span",{class:"cross"},"×",-1),b6={key:1,class:"mji-title mji-text-orange mji-text-small"},y6={class:"ban-list"},w6=d("legend",{class:"batch-header mji-title mji-text-orange mji-text-small"},[d("span",{class:"batches-value hide-xs"},"总收益"),d("span",{class:"batch-worker-num"},"数量"),d("span",{class:"batch-value"},"收益"),d("span",null,"队列")],-1),A6={key:2,class:"batches"},D6=["onClick"],B6={class:"batches-left hide-xs"},$6={class:"bench-value"},P6=d("icon",{class:"blue-coin"},null,-1),k6={class:"bench-cost mji-text-small"},S6={class:"batches-right"},j6={class:"batch-worker-num"},O6=d("span",{class:"cross"},"×",-1),I6={key:3},R6=d("span",{class:"mji-text-brown mji-text-small"},"当前工坊已全部选择完毕",-1),M6=[R6],T6={key:4,class:"loading"};function N6(e,t,s,n,u,o){const r=Y("batch-view"),i=Y("close"),l=Y("Loading");return E(),y("div",n6,[d("legend",u6,[I(" 编辑工坊队列 "),d("div",o6,[d("span",r6,[i6,re(d("input",{id:"maximum-worker","onUpdate:modelValue":t[0]||(t[0]=a=>e.maxWorkerPerQueue=a),min:"1",max:e.maxWorker,type:"number"},null,8,l6),[[Oe,e.maxWorkerPerQueue]])]),d("span",a6,[re(d("input",{id:"enable-multi-worker","onUpdate:modelValue":t[1]||(t[1]=a=>e.enableMultiSolver=a),type:"checkbox"},null,512),[[pt,e.enableMultiSolver]]),c6]),d("button",{class:"mji",onClick:t[2]||(t[2]=(...a)=>e.apply&&e.apply(...a))}," 应用 ")])]),e.hasSetWorker?(E(),y(G,{key:0},[d("legend",d6,[I(" 已设置队列 "),e.setValues.length>0?(E(),y("span",p6,[f6,I(O(e.sumVal)+" ( ",1),h6,I(O(-e.sumCost)+") ",1),e.solver.config.showNetValue?(E(),y("span",m6,[I(" = "),g6,I(O(e.netVal),1)])):J("",!0)])):J("",!0)]),d("div",v6,[(E(!0),y(G,null,de(e.setValues,(a,c)=>(E(),y("div",{key:c+1e3,class:"set-worker"},[H(r,{solver:e.solver,batch:a,patterns:e.patterns},{default:le(()=>[d("button",{class:"sched sched-red add-item",onClick:p=>e.removeSet(c)}," - ",8,_6),d("div",E6,[d("input",{type:"number",min:"0",max:e.maxWorker,value:e.setSteps[c].worker,onInput:p=>e.setWorkerNum(c,p)},null,40,F6),C6])]),_:2},1032,["solver","batch","patterns"])]))),128))])],64)):J("",!0),e.banList.length>0?(E(),y("legend",b6," 禁用列表 ")):J("",!0),d("div",y6,[(E(!0),y(G,null,de(e.banList,(a,c)=>(E(),y("div",{key:c,class:"ban-item mji-step-box"},[d("icon",{class:me(["item",e.iconPath(a)])},null,2),d("span",null,O(e.itemName(a)),1),H(i,{onClick:p=>e.removeBan(c)},null,8,["onClick"])]))),128))]),w6,e.isFull?(E(),y("div",I6,M6)):(E(),y("div",A6,[(E(!0),y(G,null,de(e.batches,(a,c)=>(E(),y("div",{key:c,class:"mji-info-box batches-item",onClick:p=>e.add(c)},[d("div",B6,[d("span",$6,[P6,I(O(a.value),1)]),d("span",k6," (-"+O(a.cost)+") ",1)]),d("div",S6,[(E(!0),y(G,null,de(a.batches,(p,m)=>(E(),Ee(r,{key:c*1e3+m,solver:e.solver,batch:p,removeable:!0,demands:e.stepDemands[c][m],pops:e.stepPops[c][m],patterns:e.patterns,"delta-val":p.workerVal,onRemove:F=>e.addBan(c,m,F)},{default:le(()=>[d("div",j6,[I(O(p.workers),1),O6])]),_:2},1032,["solver","batch","demands","pops","patterns","delta-val","onRemove"]))),128))])],8,D6))),128))])),e.isLoading?(E(),y("div",T6,[H(l)])):J("",!0)])}const V6=pe(hs,[["render",N6]]);var x6=Object.defineProperty,L6=Object.getOwnPropertyDescriptor,eu=(e,t,s,n)=>{for(var u=n>1?void 0:n?L6(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&x6(t,s,u),u};let ms=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"steps");v(this,"workers")}get factor(){return this.workers??1}get ingredients(){let s=new Map;for(let u=0;u<this.steps.length;u++){let o=this.steps[u];s.set(o,(s.get(o)??0)+1)}let n=new Map;return s.forEach((u,o)=>{this.solver.Recipes[o].Ingredients.forEach(i=>{if(i.Count===0)return;let l=i.Id,a=i.Count*u;n.set(l,(n.get(l)??0)+a)})}),[...n.entries()].sort((u,o)=>{let r=this.solver.data.GetItem(o[0]).Category-this.solver.data.GetItem(u[0]).Category;return r||u[0]-o[0]})}getName(s){return nt.TrimName(this.solver.data.GetItem(s).Name)}getIconPath(s){return"item-"+this.solver.data.GetItem(s).Icon}getCategory(s){return"category-"+this.solver.data.GetItem(s).Category}};eu([T()],ms.prototype,"solver",2);eu([T()],ms.prototype,"steps",2);eu([T()],ms.prototype,"workers",2);ms=eu([fe({})],ms);const U6=e=>(Qr("data-v-182ab360"),e=e(),Jr(),e),W6={class:"ingridient-name"},H6={class:"ingridient-count"},K6=U6(()=>d("span",{class:"cross"},"×",-1));function z6(e,t,s,n,u,o){return E(),y("div",null,[(E(!0),y(G,null,de(e.ingredients,(r,i)=>(E(),y("div",{key:i,class:me(["ingridient",e.getCategory(r[0])])},[d("span",W6,O(e.getName(r[0])),1),d("span",H6,[K6,I(O(r[1]*e.factor),1)])],2))),128))])}const q6=pe(ms,[["render",z6],["__scopeId","data-v-182ab360"]]);var G6=Object.defineProperty,Q6=Object.getOwnPropertyDescriptor,zt=(e,t,s,n)=>{for(var u=n>1?void 0:n?Q6(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&G6(t,s,u),u};let mt=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"workerSteps");v(this,"removeable");v(this,"hideShare");v(this,"hideBtn");v(this,"batchValues",[])}getDayValue(s){let n=this.batchValues[s],u=this.workerSteps[s],o=0;for(let r=0;r<n.length;r++){const i=u[r].worker,l=n[r].value;o+=i*l}return o}get sumVal(){var n;let s=0;for(let u=0;u<this.batchValues.length;u++)for(let o=0;o<this.batchValues[u].length;o++)s+=this.batchValues[u][o].value*((n=this.workerSteps[u][o])==null?void 0:n.worker);return s}get sumCost(){var n;let s=0;for(let u=0;u<this.batchValues.length;u++)for(let o=0;o<this.batchValues[u].length;o++)s+=this.batchValues[u][o].cost*((n=this.workerSteps[u][o])==null?void 0:n.worker);return s}get netVal(){return this.sumVal-this.sumCost}get flatSteps(){let s=[];for(let n=0;n<this.workerSteps.length;n++)for(let u=0;u<this.workerSteps[n].length;u++){let o=this.workerSteps[n][u];for(let r=0;r<o.worker;r++)s.push(...o.steps)}return s}async recalculateValue(){await this.solver.init(),this.batchValues=await this.solver.simulateMultiWeek(this.workerSteps)}mounted(){this.recalculateValue()}onClose(){this.$emit("remove")}edit(s){this.$emit("editSteps",s)}del(s){this.$emit("delSteps",s)}get maxWorker(){return this.solver.config.workers}setWorkerNum(s,n,u){let o=Number(u.target.value),r=[];for(let i=0;i<this.workerSteps[s].length;i++)r.push(this.workerSteps[s][i].worker);ro.ChangeArrayVal(r,n,o,this.maxWorker);for(let i=0;i<this.workerSteps[s].length;i++)this.workerSteps[s][i].worker=r[i]}get isMax(){let s=0;for(let n=0;n<this.workerSteps.length;n++){let u=this.workerSteps[n];for(let o=0;o<u.length;o++)if(u[o].steps.length>0){s++;break}}return s>=5}getShareCode(){return kd(this.workerSteps)}get shareLink(){return document.location.protocol+"//"+document.location.host+"/#/plan/"+this.getShareCode()}copyToClipboard(s){let n="总收益: "+this.sumVal+" (成本: "+this.sumCost+`)
`;for(let u=0;u<7;u++){const o=this.workerSteps[u];if(n+="第"+(u+1).toString()+"天: ",o.length===0){n+=`休息
`;continue}else n+=this.getDayValue(u)+`
`;for(let r=0;r<o.length;r++){const i=o[r];n+="    "+i.worker.toString()+"× ";for(let l=0;l<i.steps.length;l++){const a=i.steps[l];n+=nt.TrimName(this.solver.data.GetRecipe(a).Name),l<i.steps.length-1&&(n+=", ")}n+=`
`}}navigator.clipboard.writeText(n).catch(u=>alert(u)),s.preventDefault()}};zt([T()],mt.prototype,"solver",2);zt([T()],mt.prototype,"workerSteps",2);zt([T()],mt.prototype,"removeable",2);zt([T()],mt.prototype,"hideShare",2);zt([T()],mt.prototype,"hideBtn",2);zt([be("workerSteps",{deep:!0})],mt.prototype,"recalculateValue",1);mt=zt([fe({components:{StepsComp:Qn,IngridComp:q6,Close:Cs},emits:["addSteps","delSteps","remove"]})],mt);const J6={class:"plan mji-wooden-plate"},Y6={class:"plan-header mji-info-box"},X6={class:"plan-info"},Z6={class:"total-value"},e5=d("icon",{class:"blue-coin"},null,-1),t5=d("icon",{class:"blue-coin"},null,-1),s5={key:0},n5=d("icon",{class:"blue-coin"},null,-1),u5={class:"share-link"},o5=["href"],r5={key:0,class:"mji-text-small"},i5={class:"hide-lg share-link-url"},l5={class:"plan-body"},a5={class:"plan-batch-info"},c5={key:0,class:"value"},d5={class:"value plan-batch-remove"},p5=["onClick"],f5={class:"value"},h5=d("icon",{class:"blue-coin"},null,-1),m5={class:"plan-content"},g5=["onClick"],v5=d("icon",{class:"sched sched-add"},null,-1),_5=[v5],E5={key:1,class:"plan-rest"},F5=d("icon",{class:"sched sched-rest"},null,-1),C5=[F5],b5={key:1,class:"plan-workers"},y5={class:"worker-num"},w5=["max","value","onInput"],A5={key:1},D5=d("span",{class:"cross"},"×",-1),B5={key:0,class:"plan-ingredients mji-info-box hide-xs"};function $5(e,t,s,n,u,o){const r=Y("close"),i=Y("steps-comp"),l=Y("ingrid-comp");return E(),y("div",J6,[Wt(e.$slots,"header"),d("div",Y6,[d("div",X6,[d("span",Z6,[I(" 收益: "),e5,I(O(e.sumVal)+" ( ",1),t5,I(O(-e.sumCost)+") ",1),e.solver.config.showNetValue?(E(),y("span",s5,[I(" = "),n5,I(O(e.netVal),1)])):J("",!0)]),d("span",u5,[e.hideShare?J("",!0):(E(),y("a",{key:0,href:e.shareLink,target:"_blank",class:"visible-lg"},"分享",8,o5)),d("a",{href:"#",onClick:t[0]||(t[0]=(...a)=>e.copyToClipboard&&e.copyToClipboard(...a))},"复制")]),e.removeable?(E(),Ee(r,{key:0,class:"plan-remove",onClose:e.onClose},null,8,["onClose"])):J("",!0)]),e.hideShare?J("",!0):(E(),y("div",r5,[d("span",i5,O(e.shareLink),1)]))]),d("div",l5,[d("div",{class:me(["plan-batches",{"is-fullwidth":e.solver.config.hideIngredients}])},[(E(!0),y(G,null,de(e.batchValues,(a,c)=>(E(),y("div",{key:c,class:"plan-batch mji-info-box"},[d("div",a5,[d("span",null,"第"+O(c+1)+"天",1),e.workerSteps[c].every(p=>p.steps.length===0)?(E(),y("span",c5,"休息")):(E(),y(G,{key:1},[d("span",d5,[d("a",{onClick:p=>e.del(c)},"删除",8,p5)]),d("span",f5,[h5,I(O(e.getDayValue(c)),1)])],64))]),d("div",m5,[e.workerSteps[c].length==0?(E(),y(G,{key:0},[!e.isMax&&!e.hideBtn?(E(),y("button",{key:0,class:"plan-add",onClick:p=>e.edit(c)},_5,8,g5)):(E(),y("div",E5,C5))],64)):(E(),y("div",b5,[(E(!0),y(G,null,de(a,(p,m)=>(E(),y("div",{key:c*100+m,class:"plan-worker"},[d("div",y5,[e.hideBtn?(E(),y("span",A5,O(e.workerSteps[c][m].worker),1)):(E(),y("input",{key:0,type:"number",min:"0",max:e.maxWorker,value:e.workerSteps[c][m].worker,onInput:F=>e.setWorkerNum(c,m,F)},null,40,w5)),D5]),H(i,{solver:e.solver,values:p.stepValues,steps:p.steps,class:"plan-steps",onClick:F=>e.edit(c)},null,8,["solver","values","steps","onClick"])]))),128))]))])]))),128))],2),e.solver.config.hideIngredients?J("",!0):(E(),y("div",B5,[H(l,{solver:e.solver,steps:e.flatSteps},null,8,["solver","steps"])]))]),Wt(e.$slots,"footer")])}const P5=pe(mt,[["render",$5]]);var k5=Object.defineProperty,S5=Object.getOwnPropertyDescriptor,tu=(e,t,s,n)=>{for(var u=n>1?void 0:n?S5(t,s):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(u=(n?r(t,s,u):r(u))||u);return n&&u&&k5(t,s,u),u};let gs=class extends he{constructor(){super(...arguments);v(this,"solver");v(this,"shareSteps",[]);v(this,"workerPlans",[]);v(this,"currentPlan",0);v(this,"currentDay",0);v(this,"currentIndex",0);v(this,"solverDialog",!1);v(this,"isLoading",!1);v(this,"now",0);v(this,"progress",0);v(this,"totalProgress",1);v(this,"beginTime",0);v(this,"lastProgressTime",0)}get shareCode(){return this.$route.params.share}get workerNum(){return this.solver.config.workers}get seqNum(){return this.solver.config.differentWorkers}get progressText(){return Math.round(this.progress/this.totalProgress*100)}get timeElapse(){if(this.now===0)return"0:00";let s=(this.now-this.beginTime)/1e3;return Math.floor(s/60)+":"+this.getText(Math.floor(s%60))}get timeEstimate(){if(this.lastProgressTime===0||this.progress===0){let n=(this.now-this.beginTime)/1e3;return n<0?"N/A":(n*=this.totalProgress,Math.ceil(n/300)*5+"分钟以内")}let s=(this.lastProgressTime-this.beginTime)/1e3/(this.progress/this.totalProgress);return Math.floor(s/60)+"分钟"}getText(s){let n=String(s);return n.length<2?"0"+n:n}updateNow(){this.now=new Date().getTime()}editStep(s,n){this.currentPlan=s,this.currentDay=n;let u=this.solver.predictDemands[n],o=[];for(let a=0;a<u.length;a++)o.push(u[a]);let r=0,i=this.workerPlans[s];for(let a=0;a<n;a++){let c=i[a];for(let p=0;p<c.length;p++){const m=c[p];m.steps.length>0&&(r+=(m.steps.length-1)*m.worker)}}for(let a=0;a<(this.solver.config.totalDemand?i.length:n);a++){let c=i[a];if(a!==n)for(let p=0;p<c.length;p++){const m=c[p];for(let F=0;F<m.steps.length;F++){const P=m.steps[F];o[P]-=(F==0?1:2)*m.worker}}}let l=[...i[n]];this.solverDialog=!0,this.$refs.ssolver.solveBatch(o,l,r)}applyWorkerSteps(s){this.close(),this.workerPlans[this.currentPlan][this.currentDay]=s,this.onStepChange()}close(){this.solverDialog=!1}delStep(s,n){this.workerPlans[s][n]=[],this.onStepChange()}load(){let s=[],n=localStorage.getItem("MJIWorkerPlans");if(n){let r=JSON.parse(n);for(let i=0;i<r.length;i++){let l=[];for(let a=0;a<r[i].length;a++){let c=[];for(let p=0;p<r[i][a].length;p++)c.push(new Ve(r[i][a][p].worker,r[i][a][p].steps));l.push(c)}s.push(l)}}let u=localStorage.getItem("MJIPlans");if(u){let r=JSON.parse(u);localStorage.removeItem("MJIPlans");for(let i=0;i<r.length;i++)s.push(this.planMigrate(r[i]))}let o=localStorage.getItem("MJIPlanItem");o&&(s.push(this.planMigrate(JSON.parse(o))),localStorage.removeItem("MJIPlanItem")),this.workerPlans=s,this.resizePlan(),this.save()}save(){localStorage.setItem("MJIWorkerPlans",JSON.stringify(this.workerPlans))}createPlan(){let s=[];for(let n=0;n<7;n++){let u=[];s.push(u)}this.workerPlans.push(s),this.onStepChange()}removePlan(s){this.workerPlans.splice(s,1),this.onStepChange()}importPlan(){this.workerPlans.push(this.shareSteps),this.resizePlan(),this.save(),this.closePlan()}closePlan(){this.$router.push("/plan")}onStepChange(){this.shareCode}onShareCodeChange(){if(!this.shareCode)return;let s=to(this.shareCode);s[0]<128?this.shareSteps=this.planMigrate($d(s)):this.shareSteps=Pd(s)}async createPlanFromSolve(){this.isLoading=!0,this.progress=0,this.beginTime=new Date().getTime(),this.lastProgressTime=0,this.updateNow();let s=setInterval(this.updateNow,1e3),n=[];if(this.solver.config.differentWorkers>1){let o=0;this.totalProgress=30,await this.solver.solveCacheClear();for(let r=0;r<30;r++){let i=await this.solver.solveWeekPartly([],r);this.progress=r,this.lastProgressTime=new Date().getTime(),i[0]>o&&(o=i[0],n=i[1])}}else this.totalProgress=1,n=await this.solver.solveWeek([]);let u=[[]];this.workerPlans.push(u.concat(n)),this.onStepChange(),this.isLoading=!1,clearInterval(s)}planMigrate(s){let n=[];for(let u=0;u<s.length;u++)n.push([new Ve(this.workerNum,s[u])]);return n}resizePlan(){for(let s=0;s<this.workerPlans.length;s++){let n=this.workerPlans[s];for(let u=0;u<n.length;u++){const o=n[u];for(let r=0;r<o.length;r++)o[r].steps.length===0&&(o.splice(r,1),r--)}}}mounted(){this.load(),this.onShareCodeChange()}};tu([T()],gs.prototype,"solver",2);tu([be("workerPlans",{deep:!0})],gs.prototype,"save",1);tu([be("shareCode")],gs.prototype,"onShareCodeChange",1);gs=tu([fe({components:{Plan:P5,SimpleSolver:V6,Close:Cs,Popup:ao,Loading:so}})],gs);const j5={class:"plan-view"},O5=d("h1",null,"排班表",-1),I5={class:"solve-progress"},R5={class:"progress-bar"},M5=["value","max"],T5={class:"progress-percent"},N5={class:"progress-label"},V5={class:"plan-share-view"},x5=d("div",{class:"mji-title"},[d("span",{class:"mji-text-brown"}," 排班表分享 "),d("span",{class:"share-control"},[d("span",{class:"mji-text-brown mji-text-small hide-xs"}," 收益计算结果会随着当前欢迎度和需求的设置而变动，若有需要请检查需求和欢迎度设置 ")])],-1),L5={class:"mji-footer",style:{"text-align":"right"}},U5={class:"control-buttons"};function W5(e,t,s,n,u,o){const r=Y("simple-solver"),i=Y("popup"),l=Y("Loading"),a=Y("plan");return E(),y("div",j5,[O5,re(H(i,{onClose:e.close},{default:le(()=>[H(r,{ref:"ssolver",class:"solver",solver:e.solver,onApply:e.applyWorkerSteps},null,8,["solver","onApply"])]),_:1},8,["onClose"]),[[Qo,e.solverDialog]]),re(H(i,{"no-close":!0},{default:le(()=>[H(l),d("div",I5,[d("div",R5,[d("progress",{value:e.progress,max:e.totalProgress,class:"progress"},null,8,M5),d("span",T5,O(e.progressText)+"%",1)]),d("div",N5," 已经过时间: "+O(e.timeElapse)+" / 预计计算时间: "+O(e.timeEstimate),1)])]),_:1},512),[[Qo,e.isLoading]]),e.shareCode?(E(),Ee(i,{key:0,"no-close":!0},{default:le(()=>[d("div",V5,[e.shareCode?(E(),Ee(a,{key:0,solver:e.solver,"worker-steps":e.shareSteps,"hide-share":!0,"hide-btn":!0},{header:le(()=>[x5]),footer:le(()=>[d("div",L5,[d("button",{class:"mji mji-text-brown",onClick:t[0]||(t[0]=(...c)=>e.importPlan&&e.importPlan(...c))}," 导入 ")])]),_:1},8,["solver","worker-steps"])):J("",!0)])]),_:1})):J("",!0),d("div",null,[(E(!0),y(G,null,de(e.workerPlans,(c,p)=>(E(),Ee(a,{key:p,solver:e.solver,"worker-steps":c,removeable:!0,onRemove:m=>e.removePlan(p),onEditSteps:m=>e.editStep(p,m),onDelSteps:m=>e.delStep(p,m)},null,8,["solver","worker-steps","onRemove","onEditSteps","onDelSteps"]))),128)),d("div",U5,[d("button",{class:"pure-button",style:{width:"70%"},onClick:t[1]||(t[1]=(...c)=>e.createPlan&&e.createPlan(...c))}," 新建排班表 "),d("button",{class:"pure-button",style:{width:"calc(30% - 5px)"},onClick:t[2]||(t[2]=(...c)=>e.createPlanFromSolve&&e.createPlanFromSolve(...c))}," 手气不错 ")])])])}const br=pe(gs,[["render",W5]]),H5=Pf({history:Hp("/"),routes:[{path:"/",name:"home",component:rm},{path:"/help",name:"help",component:wm},{path:"/pat/:share",name:"pattern_share",component:cu},{path:"/pred/:data",name:"predition_data",component:cu},{path:"/pred",name:"predition",component:cu},{path:"/plan",name:"plan",component:br},{path:"/plan/:share",name:"plan_share",component:br},{path:"/setting",name:"setting",component:e6}]}),po=Fc(Ap);po.use(H5);po.use(Uc,{config:{id:"G-55CXMHCLVY"}});po.mount("#app");
